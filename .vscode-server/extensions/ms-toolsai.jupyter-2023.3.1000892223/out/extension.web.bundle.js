/*! For license information please see extension.web.bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={68295:(e,t,n)=>{"use strict";function r(e){return{formatNow:()=>{try{return e.toLocaleString()}catch{return`${e}`}},format:()=>{try{return e.toLocaleTimeString()}catch{return`${e}`}}}}n.r(t),n.d(t,{default:()=>r})},47542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityMonitor=void 0;const r=n(4016);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new r.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout((()=>{this._activityStopped.emit({sender:this._sender,args:this._args})}),this._timeout)}}},79622:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(47542),t),i(n(92086),t),i(n(47390),t),i(n(99458),t),i(n(20176),t),i(n(47846),t),i(n(32533),t),i(n(57319),t)},92086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownCodeBlocks=void 0,function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const r=t.split("\n"),i=[];let o=null;for(let t=0;t<r.length;t++){const s=r[t],a=0===s.indexOf(e.CODE_BLOCK_MARKER),c=null!=o;if(a||c)if(c)o&&(a?(o.endLine=t-1,i.push(o),o=null):o.code+=s+"\n");else{o=new n(t);const r=s.indexOf(e.CODE_BLOCK_MARKER),a=s.lastIndexOf(e.CODE_BLOCK_MARKER);r!==a&&(o.code=s.substring(r+e.CODE_BLOCK_MARKER.length,a),o.endLine=t,i.push(o),o=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},99458:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var process=__webpack_require__(34155),__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageConfig=void 0;const coreutils_1=__webpack_require__(95082),minimist_1=__importDefault(__webpack_require__(96562)),url_1=__webpack_require__(57319);var PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&process.argv)try{const cli=minimist_1.default(process.argv.slice(2)),path=__webpack_require__(26470);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(const e in configData)"string"!=typeof configData[e]&&(configData[e]=JSON.stringify(configData[e]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}function getUrl(e){var t,n,r;let i=getOption("baseUrl")||"/";const o=null!==(t=e.mode)&&void 0!==t?t:getOption("mode"),s=null!==(n=e.workspace)&&void 0!==n?n:getOption("workspace"),a="multiple-document"===o?"lab":"doc";i=url_1.URLExt.join(i,a),s!==PageConfig.defaultWorkspace&&(i=url_1.URLExt.join(i,"workspaces",encodeURIComponent(getOption("workspace"))));const c=null!==(r=e.treePath)&&void 0!==r?r:getOption("treePath");return c&&(i=url_1.URLExt.join(i,"tree",url_1.URLExt.encodeParts(c))),i}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const r=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,r);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getShareUrl=getShareUrl,PageConfig.getTreeShareUrl=getTreeShareUrl,PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default",PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";const t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t)}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){const n=t.indexOf(":");let r="";return-1!==n&&(r=t.slice(0,n)),e.deferred.some((e=>e===t||r&&e===r))},e.isDisabled=function(t){const n=t.indexOf(":");let r="";return-1!==n&&(r=t.slice(0,n)),e.disabled.some((e=>e===t||r&&e===r))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))},20176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathExt=void 0;const r=n(26470);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){const n=r.posix.join(...e);return"."===n?"":t(n)},e.basename=function(e,t){return r.posix.basename(e,t)},e.dirname=function(e){const n=t(r.posix.dirname(e));return"."===n?"":n},e.extname=function(e){return r.posix.extname(e)},e.normalize=function(e){return""===e?"":t(r.posix.normalize(e))},e.resolve=function(...e){return t(r.posix.resolve(...e))},e.relative=function(e,n){return t(r.posix.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},47846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,function(e){const t="𝐚".length>1;e.jsIndexToCharIndex=function(e,n){if(t)return e;let r=e;for(let t=0;t+1<n.length&&t<e;t++){const e=n.charCodeAt(t);if(e>=55296&&e<=56319){const e=n.charCodeAt(t+1);e>=56320&&e<=57343&&(r--,t++)}}return r},e.charIndexToJsIndex=function(e,n){if(t)return e;let r=e;for(let e=0;e+1<n.length&&e<r;e++){const t=n.charCodeAt(e);if(t>=55296&&t<=56319){const t=n.charCodeAt(e+1);t>=56320&&t<=57343&&(r++,e++)}}return r},e.camelCase=function(e,t=!1){return e.replace(/^(\w)|[\s-_:]+(\w)/g,(function(e,n,r){return r?r.toUpperCase():t?n.toUpperCase():n.toLowerCase()}))},e.titleCase=function(e){return(e||"").toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}}(t.Text||(t.Text={}))},32533:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;const i=r(n(68295));var o;(o=t.Time||(t.Time={})).formatHuman=function(e){i.default.locale(document.documentElement.lang);let t=i.default(e).fromNow();return t="a few seconds ago"===t?"seconds ago":t,t},o.format=function(e,t="YYYY-MM-DD HH:mm"){return i.default(e).format(t)}},57319:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URLExt=void 0;const i=n(26470),o=r(n(84564));!function(e){function t(e){if("undefined"!=typeof document&&document){const t=document.createElement("a");return t.href=e,t}return o.default(e)}function n(...e){const t=o.default(e[0],{}),n=`${t.protocol}${t.slashes?"//":""}${t.auth}${t.auth?"@":""}${t.host}`,r=i.posix.join(`${n&&"/"!==t.pathname[0]?"/":""}${t.pathname}`,...e.slice(1));return`${n}${"."===r?"":r}`}e.parse=t,e.getHostName=function(e){return o.default(e).hostname},e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter((e=>e.length>0));return t.length?"?"+t.map((t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")})).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(r||"")),e}),{})},e.isLocal=function(e){const{protocol:n}=t(e);return(!n||0!==e.toLowerCase().indexOf(n))&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},50591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManager=void 0;const r=n(4016),i=n(28477);t.BaseManager=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new r.Signal(this),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._disposed.emit(void 0),r.Signal.clearData(this))}}},33227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildManager=void 0;const r=n(79622),i=n(28477);t.BuildManager=class{constructor(e={}){var t;this._url="",this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();const{baseUrl:n,appUrl:o}=this.serverSettings;this._url=r.URLExt.join(n,o,"api/build")}get isAvailable(){return"true"===r.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===r.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then((e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()})).then((e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e}))}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then((e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){const t=`Build failed with ${e.status}, please run 'jupyter lab build' on the server for full output`;throw new i.ServerConnection.ResponseError(e,t)}}))}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then((e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)}))}}},95077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigWithDefaults=t.ConfigSection=void 0;const r=n(79622),i=n(76240);(t.ConfigSection||(t.ConfigSection={})).create=function(e){const t=new o(e);return t.load().then((()=>t))};class o{constructor(e){var t;this._url="unknown";const n=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings();this._url=r.URLExt.join(n.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}async load(){const e=await i.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(200!==e.status)throw await i.ServerConnection.ResponseError.create(e);this._data=await e.json()}async update(e){this._data=Object.assign(Object.assign({},this._data),e);const t={method:"PATCH",body:JSON.stringify(e)},n=await i.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(200!==n.status)throw await i.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}}t.ConfigWithDefaults=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=null!==(t=e.defaults)&&void 0!==t?t:{},this._className=null!==(n=e.className)&&void 0!==n?n:""}get(e){const t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){const n={};if(n[e]=t,this._className){const e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){const e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},63644:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Drive=t.ContentsManager=t.Contents=void 0;const s=n(79622),a=n(35259),c=n(4016),l=n(76240),u=o(n(65460));var d,p;(p=t.Contents||(t.Contents={})).validateContentsModel=function(e){u.validateContentsModel(e)},p.validateCheckpointModel=function(e){u.validateCheckpointModel(e)},t.ContentsManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new c.Signal(this);const r=this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings();this._defaultDrive=null!==(n=e.defaultDrive)&&void 0!==n?n:new h({serverSettings:r}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,c.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getModelDBFactory(e){var t;const[n]=this._driveForPath(e);return null!==(t=null==n?void 0:n.modelDBFactory)&&void 0!==t?t:null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?s.PathExt.join(n.slice(1).join(":"),...t.slice(1)):s.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?s.PathExt.normalize(e):`${t[0]}:${s.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){const n=this.driveName(e),r=this.localPath(e),i=s.PathExt.resolve("/",r,t);return n?`${n}:${i}`:i}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){const[n,r]=this._driveForPath(e);return n.get(r,t).then((e=>{const t=[];return"directory"===e.type&&e.content?(a.each(e.content,(e=>{t.push(Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,e.path)}))})),Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,r),content:t})):Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,r)})}))}getDownloadUrl(e){const[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){const t=this.normalize(e.path),[n,r]=this._driveForPath(t);return n.newUntitled(Object.assign(Object.assign({},e),{path:r})).then((e=>Object.assign(Object.assign({},e),{path:s.PathExt.join(t,e.name)})))}return this._defaultDrive.newUntitled(e)}delete(e){const[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){const[n,r]=this._driveForPath(e),[i,o]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(r,o).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,o)})))}save(e,t={}){const n=this.normalize(e),[r,i]=this._driveForPath(e);return r.save(i,Object.assign(Object.assign({},t),{path:i})).then((e=>Object.assign(Object.assign({},e),{path:n})))}copy(e,t){const[n,r]=this._driveForPath(e),[i,o]=this._driveForPath(t);if(n===i)return n.copy(r,o).then((e=>Object.assign(Object.assign({},e),{path:this._toGlobalPath(n,e.path)})));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){const[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){const[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){const[n,r]=this._driveForPath(e);return n.restoreCheckpoint(r,t)}deleteCheckpoint(e,t){const[n,r]=this._driveForPath(e);return n.deleteCheckpoint(r,t)}_toGlobalPath(e,t){return e===this._defaultDrive?s.PathExt.removeSlash(t):`${e.name}:${s.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,r;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let i=null,o=null;(null===(n=t.newValue)||void 0===n?void 0:n.path)&&(i=Object.assign(Object.assign({},t.newValue),{path:this._toGlobalPath(e,t.newValue.path)})),(null===(r=t.oldValue)||void 0===r?void 0:r.path)&&(o=Object.assign(Object.assign({},t.oldValue),{path:this._toGlobalPath(e,t.oldValue.path)})),this._fileChanged.emit({type:t.type,newValue:i,oldValue:o})}}};class h{constructor(e={}){var t,n,r;this._isDisposed=!1,this._fileChanged=new c.Signal(this),this.name=null!==(t=e.name)&&void 0!==t?t:"Default",this._apiEndpoint=null!==(n=e.apiEndpoint)&&void 0!==n?n:"api/contents",this.serverSettings=null!==(r=e.serverSettings)&&void 0!==r?r:l.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,c.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;const e=t.content?"1":"0",r=Object.assign(Object.assign({},t),{content:e});n+=s.URLExt.objectToQueryString(r)}const r=this.serverSettings,i=await l.ServerConnection.makeRequest(n,{},r);if(200!==i.status)throw await l.ServerConnection.ResponseError.create(i);const o=await i.json();return u.validateContentsModel(o),o}getDownloadUrl(e){const t=this.serverSettings.baseUrl;let n=s.URLExt.join(t,"files",s.URLExt.encodeParts(e));const r=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(r){const e=new URL(n);e.searchParams.append("_xsrf",r[1]),n=e.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=d.normalizeExtension(e.ext)),n=JSON.stringify(e));const r=this.serverSettings,i=this._getUrl(null!==(t=e.path)&&void 0!==t?t:""),o={method:"POST",body:n},s=await l.ServerConnection.makeRequest(i,o,r);if(201!==s.status)throw await l.ServerConnection.ResponseError.create(s);const a=await s.json();return u.validateContentsModel(a),this._fileChanged.emit({type:"new",oldValue:null,newValue:a}),a}async delete(e){const t=this._getUrl(e),n=this.serverSettings,r=await l.ServerConnection.makeRequest(t,{method:"DELETE"},n);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r);this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){const n=this.serverSettings,r=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})},o=await l.ServerConnection.makeRequest(r,i,n);if(200!==o.status)throw await l.ServerConnection.ResponseError.create(o);const s=await o.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:s}),s}async save(e,t={}){const n=this.serverSettings,r=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)},o=await l.ServerConnection.makeRequest(r,i,n);if(200!==o.status&&201!==o.status)throw await l.ServerConnection.ResponseError.create(o);const s=await o.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"save",oldValue:null,newValue:s}),s}async copy(e,t){const n=this.serverSettings,r=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})},o=await l.ServerConnection.makeRequest(r,i,n);if(201!==o.status)throw await l.ServerConnection.ResponseError.create(o);const s=await o.json();return u.validateContentsModel(s),this._fileChanged.emit({type:"new",oldValue:null,newValue:s}),s}async createCheckpoint(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings);if(201!==n.status)throw await l.ServerConnection.ResponseError.create(n);const r=await n.json();return u.validateCheckpointModel(r),r}async listCheckpoints(e){const t=this._getUrl(e,"checkpoints"),n=await l.ServerConnection.makeRequest(t,{},this.serverSettings);if(200!==n.status)throw await l.ServerConnection.ResponseError.create(n);const r=await n.json();if(!Array.isArray(r))throw new Error("Invalid Checkpoint list");for(let e=0;e<r.length;e++)u.validateCheckpointModel(r[e]);return r}async restoreCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),r=await l.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r)}async deleteCheckpoint(e,t){const n=this._getUrl(e,"checkpoints",t),r=await l.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings);if(204!==r.status)throw await l.ServerConnection.ResponseError.create(r)}_getUrl(...e){const t=e.map((e=>s.URLExt.encodeParts(e))),n=this.serverSettings.baseUrl;return s.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=h,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e=`.${e}`),e}}(d||(d={}))},65460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCheckpointModel=t.validateContentsModel=void 0;const r=n(46901);t.validateContentsModel=function(e){r.validateProperty(e,"name","string"),r.validateProperty(e,"path","string"),r.validateProperty(e,"type","string"),r.validateProperty(e,"created","string"),r.validateProperty(e,"last_modified","string"),r.validateProperty(e,"mimetype","object"),r.validateProperty(e,"content","object"),r.validateProperty(e,"format","object")},t.validateCheckpointModel=function(e){r.validateProperty(e,"id","string"),r.validateProperty(e,"last_modified","string")}},76240:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(95077),t),i(n(63644),t),i(n(62604),t),i(n(12902),t),i(n(93079),t),i(n(28477),t),i(n(41874),t),i(n(92726),t),i(n(93247),t),i(n(45399),t),i(n(4574),t)},54500:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CommHandler=void 0;const s=n(70725),a=o(n(75253));class c extends s.DisposableDelegate{constructor(e,t,n,r){super(r),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const r=a.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:null!=e?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(r,!1,!0)}send(e,t,n=[],r=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const i=a.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,r)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const r=a.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n}),i=this._kernel.sendShellMessage(r,!1,!0),o=this._onClose;return o&&o(a.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:null!=e?e:{}},metadata:t,buffers:n})),this.dispose(),i}}t.CommHandler=c},19883:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelConnection=void 0;const s=n(79622),a=n(95082),c=n(4016),l=n(76240),u=n(54500),d=o(n(75253)),p=n(38707),h=o(n(86002)),f=o(n(96512)),g=n(12902),m=o(n(2183)),y="_RESTARTING_";class v{constructor(e){var t,n,r,i;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this.serverSettings,t=s.URLExt.join(e.wsUrl,m.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),n=t.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${n}`);let r=s.URLExt.join(t,"channels?session_id="+encodeURIComponent(this._clientId));const i=e.token;e.appendToken&&""!==i&&(r+=`&token=${encodeURIComponent(i)}`),this._ws=new e.WebSocket(r),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=e=>{this._updateConnectionStatus("connected")},this._onWSMessage=e=>{let t;try{t=h.deserialize(e.data),f.validateMessage(t)}catch(e){throw e.message=`Kernel message validation error: ${e.message}`,e}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then((()=>this._handleMessage(t))).catch((e=>{e.message.startsWith("Canceled future for ")&&console.error(e)})),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new a.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new c.Signal(this),this._connectionStatusChanged=new c.Signal(this),this._disposed=new c.Signal(this),this._iopubMessage=new c.Signal(this),this._anyMessage=new c.Signal(this),this._unhandledMessage=new c.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:l.ServerConnection.makeSettings(),this._clientId=null!==(n=e.clientId)&&void 0!==n?n:a.UUID.uuid4(),this._username=null!==(r=e.username)&&void 0!==r?r:"",this.handleComms=null===(i=e.handleComms)||void 0===i||i,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return{id:this.id,name:this.name}}get anyMessage(){return this._anyMessage}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise||(this._specPromise=g.KernelSpecAPI.getSpecs(this.serverSettings).then((e=>e.kernelspecs[this._name]))),this._specPromise}clone(e={}){return new v(Object.assign({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1},e))}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),c.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(p.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(p.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,r=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});const i=new e((()=>{const e=t.header.msg_id;this._futures.delete(e);const n=this._msgIdToDisplayIds.get(e);n&&(n.forEach((t=>{const n=this._displayIdToParentIds.get(t);if(n){const r=n.indexOf(e);if(-1===r)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(r,1),this._displayIdToParentIds.set(t,n))}})),this._msgIdToDisplayIds.delete(e))}),t,n,r,this);return this._futures.set(t.header.msg_id,i),i}_sendMessage(e,t=!0){if("dead"===this.status)throw new Error("Kernel is dead");if((""===this._kernelSession||this._kernelSession===y)&&d.isInfoRequestMsg(e)){if("connected"===this.connectionStatus)return void this._ws.send(h.serialize(e));throw new Error("Could not send message: status is not connected")}if(t&&this._pendingMessages.length>0)this._pendingMessages.push(e);else if("connected"===this.connectionStatus&&this._kernelSession!==y)this._ws.send(h.serialize(e));else{if(!t)throw new Error("Could not send message");this._pendingMessages.push(e)}}async interrupt(){if("dead"===this.status)throw new Error("Kernel is dead");return m.interruptKernel(this.id,this.serverSettings)}async restart(){if("dead"===this.status)throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=y,await m.restartKernel(this.id,this.serverSettings),await this.reconnect()}reconnect(){this._errorIfDisposed();const e=new a.PromiseDelegate,t=(n,r)=>{"connected"===r?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===r&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){"dead"!==this.status&&await m.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const e=d.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}});let t;try{t=await b.handleShellMessage(this,e)}catch(e){if(this.isDisposed)return;throw e}if(this._errorIfDisposed(),t)return void 0===t.content.status&&(t.content.status="ok"),"ok"!==t.content.status?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){const t=d.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestInspect(e){const t=d.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestHistory(e){const t=d.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestExecute(e,t=!0,n){const r=d.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign(Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1}),e),metadata:n});return this.sendShellMessage(r,!0,t)}requestDebug(e,t=!0){const n=d.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){const t=d.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}requestCommInfo(e){const t=d.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return b.handleShellMessage(this,t)}sendInputReply(e){const t=d.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"})}createComm(e,t=a.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");const n=new u.CommHandler(e,t,this,(()=>{this._unregisterComm(t)}));return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){var n;const r=null===(n=this._futures)||void 0===n?void 0:n.get(e);r&&r.registerMessageHook(t)}removeMessageHook(e,t){var n;const r=null===(n=this._futures)||void 0===n?void 0:n.get(e);r&&r.removeMessageHook(t)}async _handleDisplayId(e,t){var n,r;const i=t.parent_header.msg_id;let o=this._displayIdToParentIds.get(e);if(o){const e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(o.map((async t=>{const n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)})))}if("update_display_data"===t.header.msg_type)return!0;o=null!==(n=this._displayIdToParentIds.get(e))&&void 0!==n?n:[],-1===o.indexOf(i)&&o.push(i),this._displayIdToParentIds.set(e,o);const s=null!==(r=this._msgIdToDisplayIds.get(i))&&void 0!==r?r:[];return-1===s.indexOf(i)&&s.push(i),this._msgIdToDisplayIds.set(i,s),!1}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status!==e&&"dead"!==this._status&&(this._status=e,b.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;"connected"===this.connectionStatus&&this._kernelSession!==y&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach((e=>{e.dispose()})),this._comms.forEach((e=>{e.dispose()})),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);const t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,(()=>{this._unregisterComm(t.comm_id)}));this._comms.set(t.comm_id,n);try{const r=await b.loadObject(t.target_name,t.target_module,this._targetRegistry);await r(n,e)}catch(e){throw n.close(),console.error("Exception opening new comm"),e}}async _handleCommClose(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);const r=n.onClose;r&&await r(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);const t=e.content,n=this._comms.get(t.comm_id);if(!n)return;const r=n.onMsg;r&&await r(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"dead"!==this.status)if("connected"===e){let e=this._kernelSession===y,t=this.requestKernelInfo(),n=!1,r=()=>{n||(n=!0,e&&this._kernelSession===y&&(this._kernelSession=""),clearTimeout(i),this._pendingMessages.length>0&&this._sendPending())};t.then(r);let i=setTimeout(r,3e3)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let r=!1;if(e.parent_header&&"iopub"===e.channel&&(d.isDisplayDataMsg(e)||d.isUpdateDisplayDataMsg(e)||d.isExecuteResultMsg(e))){const n=(null!==(t=e.content.transient)&&void 0!==t?t:{}).display_id;n&&(r=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!r&&e.parent_header){const t=e.parent_header,r=null===(n=this._futures)||void 0===n?void 0:n.get(t.msg_id);if(r)await r.handleMsg(e),this._assertCurrentMessage(e);else{const n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":{const t=e.content.execution_state;"restarting"===t&&Promise.resolve().then((async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()})),this._updateStatus(t);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=b.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}}var b;t.KernelConnection=v,function(e){e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise(((r,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],(n=>{void 0===n[e]?i(new Error(`Object '${e}' not found in module '${t}'`)):r(n[e])}),i)}else(null==n?void 0:n[e])?r(n[e]):i(new Error(`Object '${e}' not found in registry`))}))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(b||(b={}))},38707:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelShellFutureHandler=t.KernelControlFutureHandler=t.KernelFutureHandler=void 0;const s=n(95082),a=n(70725),c=o(n(75253));class l extends a.DisposableDelegate{constructor(e,t,n,r,i){super(e),this._status=0,this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._done=new s.PromiseDelegate,this._hooks=new u.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(u.KernelFutureFlag.GotReply),this._disposeOnDone=r,this._kernel=i}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e){this._kernel.sendInputReply(e)}dispose(){this._stdin=u.noOp,this._iopub=u.noOp,this._reply=u.noOp,this._hooks=null,this._testFlag(u.KernelFutureFlag.IsDone)||(this._done.promise.catch((()=>{})),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){const t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(u.KernelFutureFlag.GotReply),this._testFlag(u.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){const t=this._stdin;t&&await t(e)}async _handleIOPub(e){const t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),c.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(u.KernelFutureFlag.GotIdle),this._testFlag(u.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(u.KernelFutureFlag.IsDone)||(this._setFlag(u.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}var u;t.KernelFutureHandler=l,t.KernelControlFutureHandler=class extends l{},t.KernelShellFutureHandler=class extends l{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){const t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;const t=new s.PromiseDelegate;let n;this._processing=t.promise;for(let r=this._hooks.length-1;r>=0;r--){const i=this._hooks[r];if(null!==i){try{n=await i(e)}catch(e){n=!0,console.error(e)}if(!1===n)return t.resolve(void 0),!1}}return t.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t((()=>{this._processing=this._processing.then((()=>{this._compactScheduled=!1,this._compact()}))})))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){const n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(u||(u={}))},62604:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const a=o(n(38868));t.Kernel=a;const c=o(n(75253));t.KernelMessage=c;const l=o(n(2183));t.KernelAPI=l,s(n(71825),t)},38868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelManager=void 0;const r=n(35259),i=n(23114),o=n(4016),s=n(76240),a=n(50591),c=n(2183),l=n(19883);class u extends a.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._pollModels=new i.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;const{id:n}=e.model;let r=null===(t=e.handleComms)||void 0===t||t;if(void 0===e.handleComms)for(const e of this._kernelConnections)if(e.id===n&&e.handleComms){r=!1;break}const i=new l.KernelConnection(Object.assign(Object.assign({handleComms:r},e),{serverSettings:this.serverSettings}));return this._onStarted(i),this._models.has(n)||this.refreshRunning().catch((()=>{})),i}running(){return r.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){const n=await c.startNew(e,this.serverSettings);return this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await c.shutdownKernel(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>c.shutdownKernel(e,this.serverSettings)))),await this.refreshRunning()}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async requestRunning(){var e,t;let n;try{n=await c.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&r.every(n,(e=>{const t=this._models.get(e.id);return!!t&&t.name===e.name}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._kernelConnections.forEach((e=>{this._models.has(e.id)||e.handleShutdown()})),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onStatusChanged(e,t){"dead"===t&&this.refreshRunning().catch((()=>{}))}}t.KernelManager=u},75253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const r=n(95082);t.createMessage=function(e){var t,n,i,o,s;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(n=e.msgId)&&void 0!==n?n:r.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(i=e.username)&&void 0!==i?i:"",version:"5.2"},metadata:null!==(o=e.metadata)&&void 0!==o?o:{},parent_header:null!==(s=e.parentHeader)&&void 0!==s?s:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type}},2183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelModel=t.shutdownKernel=t.interruptKernel=t.restartKernel=t.startNew=t.listRunning=t.KERNEL_SERVICE_URL=void 0;const r=n(28477),i=n(79622),o=n(96512);t.KERNEL_SERVICE_URL="api/kernels",t.listRunning=async function(e=r.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.KERNEL_SERVICE_URL),s=await r.ServerConnection.makeRequest(n,{},e);if(200!==s.status)throw await r.ServerConnection.ResponseError.create(s);const a=await s.json();return o.validateModels(a),a},t.startNew=async function(e={},n=r.ServerConnection.makeSettings()){const s=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},c=await r.ServerConnection.makeRequest(s,a,n);if(201!==c.status)throw await r.ServerConnection.ResponseError.create(c);const l=await c.json();return o.validateModel(l),l},t.restartKernel=async function(e,n=r.ServerConnection.makeSettings()){const s=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"restart"),a=await r.ServerConnection.makeRequest(s,{method:"POST"},n);if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();o.validateModel(c)},t.interruptKernel=async function(e,n=r.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e),"interrupt"),s=await r.ServerConnection.makeRequest(o,{method:"POST"},n);if(204!==s.status)throw await r.ServerConnection.ResponseError.create(s)},t.shutdownKernel=async function(e,n=r.ServerConnection.makeSettings()){const o=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),s=await r.ServerConnection.makeRequest(o,{method:"DELETE"},n);if(404===s.status){const t=`The kernel "${e}" does not exist on the server`;console.warn(t)}else if(204!==s.status)throw await r.ServerConnection.ResponseError.create(s)},t.getKernelModel=async function(e,n=r.ServerConnection.makeSettings()){const s=i.URLExt.join(n.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(e)),a=await r.ServerConnection.makeRequest(s,{},n);if(404===a.status)return;if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();return o.validateModel(c),c}},86002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.deserialize=void 0,t.deserialize=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),n=t.getUint32(0),r=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let e=1;e<=n;e++)r.push(t.getUint32(4*e));const i=new Uint8Array(e.slice(r[0],r[1])),o=JSON.parse(new TextDecoder("utf8").decode(i));o.buffers=[];for(let t=1;t<n;t++){const n=r[t],i=r[t+1]||e.byteLength;o.buffers.push(new DataView(e.slice(n,i)))}return o}(e),t},t.serialize=function(e){var t;let n;return n=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],n=[],r=new TextEncoder;let i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);const o=r.encode(JSON.stringify(e));n.push(o.buffer);for(let e=0;e<i.length;e++){const t=i[e];n.push(ArrayBuffer.isView(t)?t.buffer:t)}const s=n.length;t.push(4*(s+1));for(let e=0;e+1<n.length;e++)t.push(t[t.length-1]+n[e].byteLength);const a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),c=new DataView(a.buffer);c.setUint32(0,s);for(let e=0;e<t.length;e++)c.setUint32(4*(e+1),t[e]);for(let e=0;e<n.length;e++)a.set(new Uint8Array(n[e]),t[e]);return a.buffer}(e):JSON.stringify(e),n}},96512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.validateModel=t.validateMessage=void 0;const r=n(46901),i=["username","version","session","msg_id","msg_type"],o={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function s(e){r.validateProperty(e,"name","string"),r.validateProperty(e,"id","string")}t.validateMessage=function(e){r.validateProperty(e,"metadata","object"),r.validateProperty(e,"content","object"),r.validateProperty(e,"channel","string"),function(e){for(let t=0;t<i.length;t++)r.validateProperty(e,i[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){const t=o[e.header.msg_type];if(void 0===t)return;const n=Object.keys(t),i=e.content;for(let e=0;e<n.length;e++){let o=t[n[e]];Array.isArray(o)||(o=[o]),r.validateProperty(i,n[e],...o)}}}(e)},t.validateModel=s,t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid kernel list");e.forEach((e=>s(e)))}},12902:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const a=o(n(79453));t.KernelSpec=a;const c=o(n(33415));t.KernelSpecAPI=c,s(n(54936),t)},79453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54936:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecManager=void 0;const s=n(95082),a=n(23114),c=n(4016),l=o(n(33415)),u=n(50591);class d extends u.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new c.Signal(this),this._specs=null,this._specsChanged=new c.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then((e=>{})).catch((e=>{})).then((()=>{this.isDisposed||(this._isReady=!0)})),this._pollSpecs=new a.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelSpecManager#specs",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this.ready.then((()=>{this._pollSpecs.start()}))}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const e=await l.getSpecs(this.serverSettings);this.isDisposed||s.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}}t.KernelSpecManager=d},33415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpecs=void 0;const r=n(28477),i=n(73103),o=n(79622);t.getSpecs=async function(e=r.ServerConnection.makeSettings()){const t=o.URLExt.join(e.baseUrl,"api/kernelspecs"),n=await r.ServerConnection.makeRequest(t,{},e);if(200!==n.status)throw await r.ServerConnection.ResponseError.create(n);const s=await n.json();return i.validateSpecModels(s)}},73103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpecModels=t.validateSpecModel=void 0;const r=n(46901);function i(e){const t=e.spec;if(!t)throw new Error("Invalid kernel spec");r.validateProperty(e,"name","string"),r.validateProperty(e,"resources","object"),r.validateProperty(t,"language","string"),r.validateProperty(t,"display_name","string"),r.validateProperty(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&(r.validateProperty(t,"metadata","object"),n=t.metadata);let i=null;return t.hasOwnProperty("env")&&(r.validateProperty(t,"env","object"),i=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:i}}t.validateSpecModel=i,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs);const n=Object.create(null);let r=e.default;for(let r=0;r<t.length;r++){const o=e.kernelspecs[t[r]];try{n[t[r]]=i(o)}catch(e){console.warn(`Removing errant kernel spec: ${t[r]}`)}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return r&&"string"==typeof r&&r in n||(r=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:r,kernelspecs:n}}},93079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const r=n(4016),i=n(33227),o=n(4574),s=n(63644),a=n(12902),c=n(41874),l=n(92726),u=n(93247),d=n(28477),p=n(45399),h=n(62604);t.ServiceManager=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new r.Signal(this),this._isReady=!1;const f=e.defaultDrive,g=null!==(t=e.serverSettings)&&void 0!==t?t:d.ServerConnection.makeSettings(),m={defaultDrive:f,serverSettings:g,standby:null!==(n=e.standby)&&void 0!==n?n:"when-hidden"},y=new h.KernelManager(m);this.serverSettings=g,this.contents=new s.ContentsManager(m),this.sessions=new c.SessionManager(Object.assign(Object.assign({},m),{kernelManager:y})),this.settings=new l.SettingManager(m),this.terminals=new u.TerminalManager(m),this.builder=new i.BuildManager(m),this.workspaces=new p.WorkspaceManager(m),this.nbconvert=new o.NbConvertManager(m),this.kernelspecs=new a.KernelSpecManager(m),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const v=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&v.push(this.terminals.ready),this._readyPromise=Promise.all(v).then((()=>{this._isReady=!0}))}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},4574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertManager=void 0;const r=n(79622),i=n(28477);t.NbConvertManager=class{constructor(e={}){var t;this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:i.ServerConnection.makeSettings()}async getExportFormats(){const e=this.serverSettings.baseUrl,t=r.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this,o=await i.ServerConnection.makeRequest(t,{},n);if(200!==o.status)throw await i.ServerConnection.ResponseError.create(o);const s=await o.json(),a={};return Object.keys(s).forEach((function(e){const t=s[e].output_mimetype;a[e]={output_mimetype:t}})),a}}},28477:(e,t,n)=>{"use strict";var r,i,o,s=n(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=void 0;const a=n(79622);let c,l,u,d;if("undefined"==typeof window){const e=n(21763);c=null!==(r=n.g.fetch)&&void 0!==r?r:e,u=null!==(i=n.g.Request)&&void 0!==i?i:e.Request,l=null!==(o=n.g.Headers)&&void 0!==o?o:e.Headers,d=n(12447)}else c=fetch,u=Request,l=Headers,d=WebSocket;var p,h;!function(e){e.makeSettings=function(e){return h.makeSettings(e)},e.makeRequest=function(e,t,n){return h.handleRequest(e,t,n)};class t extends Error{constructor(e,t=`Invalid response: ${e.status} ${e.statusText}`,n=""){super(t),this.response=e,this.traceback=n}static async create(e){try{const n=await e.json();return n.traceback&&console.error(n.traceback),n.message?new t(e,n.message):new t(e)}catch(n){return console.debug(n),new t(e)}}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n}(p=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){const t=a.PageConfig.getBaseUrl(),n=a.PageConfig.getWsUrl(),r=a.URLExt.normalize(e.baseUrl)||t;let i=e.wsUrl;return i||r!==t||(i=n),i||0!==r.indexOf("http")||(i="ws"+r.slice(4)),i=null!=i?i:n,Object.assign(Object.assign({init:{cache:"no-store",credentials:"same-origin"},fetch:c,Headers:l,Request:u,WebSocket:d,token:a.PageConfig.getToken(),appUrl:a.PageConfig.getOption("appUrl"),appendToken:"undefined"==typeof window||void 0!==s.env.JEST_WORKER_ID||a.URLExt.getHostName(t)!==a.URLExt.getHostName(i)},e),{baseUrl:r,wsUrl:i})},e.handleRequest=function(e,t,n){var r;if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(null!==(r=t.cache)&&void 0!==r?r:n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const i=new n.Request(e,Object.assign(Object.assign({},n.init),t));let o=!1;if(n.token&&(o=!0,i.headers.append("Authorization",`token ${n.token}`)),"undefined"!=typeof document&&(null===document||void 0===document?void 0:document.cookie)){const e=function(e){const t=document.cookie.match("\\b_xsrf=([^;]*)\\b");return null==t?void 0:t[1]}();void 0!==e&&(o=!0,i.headers.append("X-XSRFToken",e))}return!i.headers.has("Content-Type")&&o&&i.headers.set("Content-Type","application/json"),n.fetch.call(null,i).catch((e=>{throw new p.NetworkError(e)}))}}(h||(h={}))},35410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionConnection=void 0;const r=n(4016),i=n(76240),o=n(56807),s=n(95082);t.SessionConnection=class{constructor(e){var t,n,o,a;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new r.Signal(this),this._kernelChanged=new r.Signal(this),this._statusChanged=new r.Signal(this),this._connectionStatusChanged=new r.Signal(this),this._iopubMessage=new r.Signal(this),this._unhandledMessage=new r.Signal(this),this._anyMessage=new r.Signal(this),this._propertyChanged=new r.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=null!==(t=e.username)&&void 0!==t?t:"",this._clientId=null!==(n=e.clientId)&&void 0!==n?n:s.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=null!==(o=e.kernelConnectionOptions)&&void 0!==o?o:{},this.serverSettings=null!==(a=e.serverSettings)&&void 0!==a?a:i.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){const t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,null===this._kernel&&null!==e.kernel||null!==this._kernel&&null===e.kernel||null!==this._kernel&&null!==e.kernel&&this._kernel.id!==e.kernel.id){null!==this._kernel&&this._kernel.dispose();const t=this._kernel||null;this.setupKernel(e.kernel);const n=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const e=this._kernel;this._kernel=null;const t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}r.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await o.shutdownSession(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(null===e)return void(this._kernel=null);const t=this._connectToKernel(Object.assign(Object.assign({},this._kernelConnectionOptions),{model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings}));this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){const t=await o.updateSession(Object.assign(Object.assign({},e),{id:this._id}),this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}},41874:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const a=o(n(11372));t.Session=a;const c=o(n(56807));t.SessionAPI=c,s(n(57847),t)},57847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=void 0;const r=n(35259),i=n(23114),o=n(4016),s=n(28477),a=n(50591),c=n(35410),l=n(56807);class u extends a.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),this._connectToKernel=e=>this._kernelManager.connectTo(e),this._kernelManager=e.kernelManager,this._pollModels=new i.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}connectTo(e){const t=new c.SessionConnection(Object.assign(Object.assign({},e),{connectToKernel:this._connectToKernel,serverSettings:this.serverSettings}));return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch((()=>{})),t}running(){return r.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){const n=await l.startSession(e,this.serverSettings);return await this.refreshRunning(),this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await l.shutdownSession(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map((e=>l.shutdownSession(e,this.serverSettings)))),await this.refreshRunning()}async stopIfNeeded(e){try{const t=(await l.listRunning(this.serverSettings)).filter((t=>t.path===e));if(1===t.length){const e=t[0].id;await this.shutdown(e)}}catch(e){}}async findById(e){return this._models.has(e)||await this.refreshRunning(),this._models.get(e)}async findByPath(e){for(const t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(const t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await l.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}this.isDisposed||this._models.size===n.length&&r.every(n,(e=>{var t,n,r,i;const o=this._models.get(e.id);return!!o&&(null===(t=o.kernel)||void 0===t?void 0:t.id)===(null===(n=e.kernel)||void 0===n?void 0:n.id)&&(null===(r=o.kernel)||void 0===r?void 0:r.name)===(null===(i=e.kernel)||void 0===i?void 0:i.name)&&o.name===e.name&&o.path===e.path&&o.type===e.type}))||(this._models=new Map(n.map((e=>[e.id,e]))),this._sessionConnections.forEach((e=>{this._models.has(e.id)?e.update(this._models.get(e.id)):e.dispose()})),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch((()=>{}))}_onChanged(){this.refreshRunning().catch((()=>{}))}}t.SessionManager=u},56807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSession=t.startSession=t.getSessionModel=t.shutdownSession=t.getSessionUrl=t.listRunning=t.SESSION_SERVICE_URL=void 0;const r=n(28477),i=n(79622),o=n(29145);function s(e,n){return i.URLExt.join(e,t.SESSION_SERVICE_URL,n)}t.SESSION_SERVICE_URL="api/sessions",t.listRunning=async function(e=r.ServerConnection.makeSettings()){const n=i.URLExt.join(e.baseUrl,t.SESSION_SERVICE_URL),s=await r.ServerConnection.makeRequest(n,{},e);if(200!==s.status)throw await r.ServerConnection.ResponseError.create(s);const a=await s.json();if(!Array.isArray(a))throw new Error("Invalid Session list");return a.forEach((e=>{o.updateLegacySessionModel(e),o.validateModel(e)})),a},t.getSessionUrl=s,t.shutdownSession=async function(e,t=r.ServerConnection.makeSettings()){var n;const i=s(t.baseUrl,e),o=await r.ServerConnection.makeRequest(i,{method:"DELETE"},t);if(404===o.status){const t=null!==(n=(await o.json()).message)&&void 0!==n?n:`The session "${e}"" does not exist on the server`;console.warn(t)}else{if(410===o.status)throw new r.ServerConnection.ResponseError(o,"The kernel was deleted but the session was not");if(204!==o.status)throw await r.ServerConnection.ResponseError.create(o)}},t.getSessionModel=async function(e,t=r.ServerConnection.makeSettings()){const n=s(t.baseUrl,e),i=await r.ServerConnection.makeRequest(n,{},t);if(200!==i.status)throw await r.ServerConnection.ResponseError.create(i);const a=await i.json();return o.updateLegacySessionModel(a),o.validateModel(a),a},t.startSession=async function(e,n=r.ServerConnection.makeSettings()){const s=i.URLExt.join(n.baseUrl,t.SESSION_SERVICE_URL),a={method:"POST",body:JSON.stringify(e)},c=await r.ServerConnection.makeRequest(s,a,n);if(201!==c.status)throw await r.ServerConnection.ResponseError.create(c);const l=await c.json();return o.updateLegacySessionModel(l),o.validateModel(l),l},t.updateSession=async function(e,t=r.ServerConnection.makeSettings()){const n=s(t.baseUrl,e.id),i={method:"PATCH",body:JSON.stringify(e)},a=await r.ServerConnection.makeRequest(n,i,t);if(200!==a.status)throw await r.ServerConnection.ResponseError.create(a);const c=await a.json();return o.updateLegacySessionModel(c),o.validateModel(c),c}},11372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateModels=t.updateLegacySessionModel=t.validateModel=void 0;const r=n(96512),i=n(46901);function o(e){i.validateProperty(e,"id","string"),i.validateProperty(e,"type","string"),i.validateProperty(e,"name","string"),i.validateProperty(e,"path","string"),i.validateProperty(e,"kernel","object"),r.validateModel(e.kernel)}t.validateModel=o,t.updateLegacySessionModel=function(e){void 0===e.path&&void 0!==e.notebook&&(e.path=e.notebook.path,e.type="notebook",e.name="")},t.validateModels=function(e){if(!Array.isArray(e))throw new Error("Invalid session list");e.forEach((e=>o(e)))}},92726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingManager=void 0;const r=n(79622),i=n(17266),o=n(28477);class s extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:i,ResponseError:s}=o.ServerConnection,c=n+r,l=a.url(c,e),u=await i(l,{},t);if(200!==u.status)throw await s.create(u);return u.json()}async list(){var e,t;const{serverSettings:n}=this,{baseUrl:r,appUrl:i}=n,{makeRequest:s,ResponseError:c}=o.ServerConnection,l=r+i,u=a.url(l,""),d=await s(u,{},n);if(200!==d.status)throw new c(d);const p=await d.json(),h=null!==(t=null===(e=null==p?void 0:p.settings)||void 0===e?void 0:e.map((e=>(e.data={composite:{},user:{}},e))))&&void 0!==t?t:[];return{ids:h.map((e=>e.id)),values:h}}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:i}=n,{makeRequest:s,ResponseError:c}=o.ServerConnection,l=r+i,u=a.url(l,e),d={body:JSON.stringify({raw:t}),method:"PUT"},p=await s(u,d,n);if(204!==p.status)throw new c(p)}}var a;t.SettingManager=s,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/settings",t)}}(a||(a={}))},12447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=WebSocket},71146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalConnection=void 0;const r=n(79622),i=n(95082),o=n(4016),s=n(76240),a=n(43286);class c{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const e=this._name,t=this.serverSettings;let n=r.URLExt.join(t.wsUrl,"terminals","websocket",encodeURIComponent(e));const i=t.token;t.appendToken&&""!==i&&(n+=`?token=${encodeURIComponent(i)}`),this._ws=new t.WebSocket(n),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&this.dispose(),"connecting"!==this._connectionStatus?this._messageReceived.emit({type:t[0],content:t.slice(1)}):"setup"===t[0]&&this._updateConnectionStatus("connected")},this._onWSClose=e=>{console.warn(`Terminal websocket closed: ${e.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new o.Signal(this),this._isDisposed=!1,this._disposed=new o.Signal(this),this._messageReceived=new o.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:s.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),o.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!this._isDisposed&&e.content)if("connected"===this.connectionStatus&&this._ws){const t=[e.type,...e.content];this._ws.send(JSON.stringify(t))}else{if(!t)throw new Error(`Could not send message: ${JSON.stringify(e)}`);this._pendingMessages.push(e)}}_sendPending(){for(;"connected"===this.connectionStatus&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const e=new i.PromiseDelegate,t=(n,r)=>{"connected"===r?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):"disconnected"===r&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const e=l.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await a.shutdownTerminal(this.name,this.serverSettings),this.dispose()}clone(){return new c(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,"connecting"!==e&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),"connected"===e&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}var l;t.TerminalConnection=c,function(e){e.getTermUrl=function(e,t){return r.URLExt.join(e,a.TERMINAL_SERVICE_URL,encodeURIComponent(t))},e.getRandomIntInclusive=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}}(l||(l={}))},93247:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const a=o(n(58353));t.Terminal=a;const c=o(n(43286));t.TerminalAPI=c,s(n(61546),t)},61546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const r=n(35259),i=n(23114),o=n(4016),s=n(76240),a=n(50591),c=n(43286),l=n(71146);class u extends a.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new o.Signal(this),this._connectionFailure=new o.Signal(this),!this.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch((e=>{}));this._pollModels=new i.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:null!==(t=e.standby)&&void 0!==t?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach((e=>e.dispose())),this._pollModels.dispose(),super.dispose())}isAvailable(){return c.isAvailable()}connectTo(e){const t=new l.TerminalConnection(Object.assign(Object.assign({},e),{serverSettings:this.serverSettings}));return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch((()=>{})),t}running(){return r.iter(this._models)}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(){const e=await c.startNew(this.serverSettings);return await this.refreshRunning(),this.connectTo({model:e})}async shutdown(e){await c.shutdownTerminal(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map((e=>c.shutdownTerminal(e,this.serverSettings)))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await c.listRunning(this.serverSettings)}catch(n){throw(n instanceof s.ServerConnection.NetworkError||503===(null===(e=n.response)||void 0===e?void 0:e.status)||424===(null===(t=n.response)||void 0===t?void 0:t.status))&&this._connectionFailure.emit(n),n}if(this.isDisposed)return;const r=n.map((({name:e})=>e)).sort();r!==this._names&&(this._names=r,this._terminalConnections.forEach((e=>{r.includes(e.name)||e.dispose()})),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch((()=>{}))}get _models(){return this._names.map((e=>({name:e})))}}t.TerminalManager=u},43286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownTerminal=t.listRunning=t.startNew=t.isAvailable=t.TERMINAL_SERVICE_URL=void 0;const r=n(79622),i=n(28477);function o(){return"true"===String(r.PageConfig.getOption("terminalsAvailable")).toLowerCase()}var s;t.TERMINAL_SERVICE_URL="api/terminals",t.isAvailable=o,t.startNew=async function(e=i.ServerConnection.makeSettings()){s.errorIfNotAvailable();const n=r.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),o=await i.ServerConnection.makeRequest(n,{method:"POST"},e);if(200!==o.status)throw await i.ServerConnection.ResponseError.create(o);return await o.json()},t.listRunning=async function(e=i.ServerConnection.makeSettings()){s.errorIfNotAvailable();const n=r.URLExt.join(e.baseUrl,t.TERMINAL_SERVICE_URL),o=await i.ServerConnection.makeRequest(n,{},e);if(200!==o.status)throw await i.ServerConnection.ResponseError.create(o);const a=await o.json();if(!Array.isArray(a))throw new Error("Invalid terminal list");return a},t.shutdownTerminal=async function(e,n=i.ServerConnection.makeSettings()){var o;s.errorIfNotAvailable();const a=r.URLExt.join(n.baseUrl,t.TERMINAL_SERVICE_URL,e),c=await i.ServerConnection.makeRequest(a,{method:"DELETE"},n);if(404===c.status){const t=null!==(o=(await c.json()).message)&&void 0!==o?o:`The terminal session "${e}"" does not exist on the server`;console.warn(t)}else if(204!==c.status)throw await i.ServerConnection.ResponseError.create(c)},function(e){e.errorIfNotAvailable=function(){if(!o())throw new Error("Terminals Unavailable")}}(s||(s={}))},58353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const r=n(43286);Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return r.isAvailable}})},46901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProperty=void 0,t.validateProperty=function(e,t,n,r=[]){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);const i=e[t];if(void 0!==n){let e=!0;switch(n){case"array":e=Array.isArray(i);break;case"object":e=void 0!==i;break;default:e=typeof i===n}if(!e)throw new Error(`Property '${t}' is not of type '${n}'`);if(r.length>0){let e=!0;switch(n){case"string":case"number":case"boolean":e=r.includes(i);break;default:e=r.findIndex((e=>e===i))>=0}if(!e)throw new Error(`Property '${t}' is not one of the valid values ${JSON.stringify(r)}`)}}}},45399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceManager=void 0;const r=n(79622),i=n(17266),o=n(28477);class s extends i.DataConnector{constructor(e={}){var t;super(),this.serverSettings=null!==(t=e.serverSettings)&&void 0!==t?t:o.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:i,ResponseError:s}=o.ServerConnection,c=n+r,l=a.url(c,e),u=await i(l,{},t);if(200!==u.status)throw await s.create(u);return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:r,ResponseError:i}=o.ServerConnection,s=t+n,c=a.url(s,""),l=await r(c,{},e);if(200!==l.status)throw await i.create(l);return(await l.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:i,ResponseError:s}=o.ServerConnection,c=n+r,l=a.url(c,e),u=await i(l,{method:"DELETE"},t);if(204!==u.status)throw await s.create(u)}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:i}=n,{makeRequest:s,ResponseError:c}=o.ServerConnection,l=r+i,u=a.url(l,e),d={body:JSON.stringify(t),method:"PUT"},p=await s(u,d,n);if(204!==p.status)throw await c.create(p)}}var a;t.WorkspaceManager=s,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/workspaces",t)}}(a||(a={}))},89525:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConnector=void 0,t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},17266:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(89525),t),i(n(14623),t),i(n(51156),t),i(n(64962),t),i(n(7263),t)},14623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},51156:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestorablePool=void 0;const r=n(95082),i=n(39770),o=n(4016);var s;t.RestorablePool=class{constructor(e){this._added=new o.Signal(this),this._current=null,this._currentChanged=new o.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new r.PromiseDelegate,this._updated=new o.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&null!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!s.injectedProperty.get(e)){if(this._restore){const{connector:r}=this._restore,i=this._restore.name(e);if(i){const o=`${this.namespace}:${i}`,a=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);s.nameProperty.set(e,o),await r.save(o,{data:a})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),o.Signal.clearData(this))}find(e){const t=this._objects.values();for(const n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach((n=>{e(n)&&t.push(n)})),t}inject(e){return s.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:r,when:i}=e,o=this.namespace,s=i?[n.list(o)].concat(i):[n.list(o)];this._restore=e;const[a]=await Promise.all(s),c=await Promise.all(a.ids.map((async(e,i)=>{const o=a.values[i],s=o&&o.data;return void 0===s?n.remove(e):r.execute(t,s).catch((()=>n.remove(e)))})));return this._restored.resolve(),c}async save(e){var t,n;const r=s.injectedProperty.get(e);if(!this._restore||!this.has(e)||r)return;const{connector:i}=this._restore,o=this._restore.name(e),a=s.nameProperty.get(e),c=o?`${this.namespace}:${o}`:"";if(a&&a!==c&&await i.remove(a),s.nameProperty.set(e,c),c){const r=null===(n=(t=this._restore).args)||void 0===n?void 0:n.call(t,e);await i.save(c,{data:r})}a!==c&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),s.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=s.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(s||(s={}))},64962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateDB=void 0;const r=n(4016);class i{constructor(e={}){this._changed=new r.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=n?n.then((e=>{const{contents:t,type:n}=e;switch(n){case"cancel":default:return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{})}})):Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce(((t,n,r)=>(t[e[r]]=n,t)),{})}async _clear(){await Promise.all((await this._list()).ids.map((e=>this._remove(e))))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map((e=>JSON.parse(e).v))}}async _merge(e){await Promise.all(Object.keys(e).map((t=>e[t]&&this._save(t,e[t]))))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce(((t,n)=>(""!==e&&e!==n.split(":")[0]||(t.ids.push(n),t.values.push(this._storage[n])),t)),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i=t.StateDB||(t.StateDB={}))},7263:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStateDB=void 0;const r=n(95082);t.IStateDB=new r.Token("@jupyterlab/coreutils:IStateDB")},35259:(e,t,n)=>{"use strict";var r;function i(e){return"function"==typeof e.iter?e.iter():new f(e)}function o(e){return new g(e)}function s(e){return new m(e)}function a(e){return new y(e)}function c(e){return new v(e)}function l(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(!1===t(n,r++))return}function u(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(!t(n,r++))return!1;return!0}function d(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(t(n,r++))return!0;return!1}function p(e){for(var t,n=0,r=[],o=i(e);void 0!==(t=o.next());)r[n++]=t;return r}function h(e){for(var t,n=i(e),r={};void 0!==(t=n.next());)r[t[0]]=t[1];return r}n.r(t),n.d(t,{ArrayExt:()=>r,ArrayIterator:()=>f,ChainIterator:()=>w,EmptyIterator:()=>C,EnumerateIterator:()=>k,FilterIterator:()=>I,FnIterator:()=>v,ItemIterator:()=>y,KeyIterator:()=>g,MapIterator:()=>A,RangeIterator:()=>M,RepeatIterator:()=>K,RetroArrayIterator:()=>V,StrideIterator:()=>J,StringExt:()=>q,TakeIterator:()=>G,ValueIterator:()=>m,ZipIterator:()=>Y,chain:()=>b,each:()=>l,empty:()=>S,enumerate:()=>_,every:()=>u,filter:()=>P,find:()=>E,findIndex:()=>D,iter:()=>i,iterFn:()=>c,iterItems:()=>a,iterKeys:()=>o,iterValues:()=>s,map:()=>j,max:()=>x,min:()=>T,minmax:()=>R,once:()=>U,range:()=>O,reduce:()=>L,repeat:()=>F,retro:()=>W,some:()=>d,stride:()=>B,take:()=>$,toArray:()=>p,toObject:()=>h,topologicSort:()=>H,zip:()=>z}),function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(e[a]===t)return a}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(e[a]===t)return a}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(t(e[a],a))return a}return-1}function i(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(t(e[a],a))return a}return-1}function o(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var i=e[t],o=e[n];e[t++]=o,e[n--]=i}}function s(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=r(e,t,n,i);return-1!==o?e[o]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o=i(e,t,n,r);return-1!==o?e[o]:void 0},e.lowerBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)<0?(s=l+1,a-=c+1):a=c}return s},e.upperBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)>0?a=c:(s=l+1,a-=c+1)}return s},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;++r)if(n?!n(e[r],t[r]):e[r]!==t[r])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,r=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var o,s=e.length;void 0===n?n=i<0?s-1:0:n<0?n=Math.max(n+s,i<0?-1:0):n>=s&&(n=i<0?s-1:s),void 0===r?r=i<0?-1:s:r<0?r=Math.max(r+s,i<0?-1:0):r>=s&&(r=i<0?s-1:s),o=i<0&&r>=n||i>0&&n>=r?0:i<0?Math.floor((r-n+1)/i+1):Math.floor((r-n-1)/i+1);for(var a=[],c=0;c<o;++c)a[c]=e[n+c*i];return a},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var i=e[t],o=t<n?1:-1,s=t;s!==n;s+=o)e[s]=e[s+o];e[n]=i}},e.reverse=o,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var s=r-n+1;if(t>0?t%=s:t<0&&(t=(t%s+s)%s),0!==t){var a=n+t;o(e,n,a-1),o(e,a,r),o(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0!==i){var o;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var s=0;s<o;++s)e[(n+s)%i]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var i=r;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=s,e.removeFirstOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t(e,n,r,i);return-1!==o&&s(e,o),o},e.removeLastOf=function(e,t,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o=n(e,t,r,i);return-1!==o&&s(e,o),o},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&e[s]===t||r<n&&(s<=r||s>=n)&&e[s]===t?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o},e.removeFirstWhere=function(e,t,n,i){var o;void 0===n&&(n=0),void 0===i&&(i=-1);var a=r(e,t,n,i);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeLastWhere=function(e,t,n,r){var o;void 0===n&&(n=-1),void 0===r&&(r=0);var a=i(e,t,n,r);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&t(e[s],s)||r<n&&(s<=r||s>=n)&&t(e[s],s)?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o}}(r||(r={}));var f=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}(),g=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},e}(),m=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},e}(),y=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},e}(),v=function(){function e(e){this._fn=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)},e}();function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new w(i(e.map(i)))}var w=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();function S(){return new C}var C=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();function _(e,t){return void 0===t&&(t=0),new k(i(e),t)}var k=function(){function e(e,t){this._source=e,this._index=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]},e}();function P(e,t){return new I(i(e),t)}var I=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();function E(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(t(n,r++))return n}function D(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(t(n,r++))return r-1;return-1}function T(e,t){var n=i(e),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)t(r,o)<0&&(o=r);return o}}function x(e,t){var n=i(e),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)t(r,o)>0&&(o=r);return o}}function R(e,t){var n=i(e),r=n.next();if(void 0!==r){for(var o=r,s=r;void 0!==(r=n.next());)t(r,o)<0?o=r:t(r,s)>0&&(s=r);return[o,s]}}function j(e,t){return new A(i(e),t)}var A=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();function O(e,t,n){return void 0===t?new M(0,e,1):new M(e,t,void 0===n?1:n)}var N,M=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=N.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();function L(e,t,n){var r=0,o=i(e),s=o.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,c,l=o.next();if(void 0===l&&void 0===n)return s;if(void 0===l)return t(n,s,r++);for(a=t(void 0===n?s:t(n,s,r++),l,r++);void 0!==(c=o.next());)a=t(a,c,r++);return a}function F(e,t){return new K(e,t)}function U(e){return new K(e,1)}!function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(N||(N={}));var K=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();function W(e){return"function"==typeof e.retro?e.retro():new V(e)}var V=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();function H(e){var t=[],n=new Set,r=new Map;return l(e,(function(e){var t=e[0],n=e[1],i=r.get(n);i?i.push(t):r.set(n,[t])})),r.forEach((function(e,t){i(t)})),t;function i(e){if(!n.has(e)){n.add(e);var o=r.get(e);o&&o.forEach(i),t.push(e)}}}function B(e,t){return new J(i(e),t)}var q,J=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();function $(e,t){return new G(i(e),t)}!function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),i=0,o=n,s=t.length;i<s;++i,++o){if(-1===(o=e.indexOf(t[i],o)))return null;r[i]=o}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=0,a=i.length;s<a;++s){var c=i[s]-r;o+=c*c}return{score:o,indices:i}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=r-1,a=0,c=i.length;a<c;++a){var l=i[a];o+=l-s-1,s=l}return{score:o,indices:i}},e.highlight=function(e,t,n){for(var r=[],i=0,o=0,s=t.length;i<s;){for(var a=t[i],c=t[i];++i<s&&t[i]===c+1;)c++;o<a&&r.push(e.slice(o,a)),a<c+1&&r.push(n(e.slice(a,c+1))),o=c+1}return o<e.length&&r.push(e.slice(o)),r},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(q||(q={}));var G=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Y(e.map(i))}var Y=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e},e}()},95082:function(e,t){!function(e){"use strict";e.JSONExt=void 0,function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function r(e,i){if(e===i)return!0;if(t(e)||t(i))return!1;var o=n(e),s=n(i);return o===s&&(o&&s?function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;++n)if(!r(e[n],t[n]))return!1;return!0}(e,i):function(e,t){if(e===t)return!0;for(var n in e)if(void 0!==e[n]&&!(n in t))return!1;for(var n in t)if(void 0!==t[n]&&!(n in e))return!1;for(var n in e){var i=e[n],o=t[n];if(void 0!==i||void 0!==o){if(void 0===i||void 0===o)return!1;if(!r(i,o))return!1}}return!0}(e,i))}function i(e){return t(e)?e:n(e)?function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=i(e[n]);return t}(e):function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=i(r))}return t}(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=r,e.deepCopy=i}(e.JSONExt||(e.JSONExt={}));var t=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}(),n=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)},e}(),r=function(e){this.name=e,this._tokenStructuralPropertyT=null};function i(e){for(var t=0,n=0,r=e.length;n<r;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}e.Random=void 0,(e.Random||(e.Random={})).getRandomValues=function(){var e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||null;return e&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:i}(),e.UUID=void 0,(e.UUID||(e.UUID={})).uuid4=function(e){for(var t=new Uint8Array(16),n=new Array(256),r=0;r<16;++r)n[r]="0"+r.toString(16);for(r=16;r<256;++r)n[r]=r.toString(16);return function(){return e(t),t[6]=64|15&t[6],t[8]=128|63&t[8],n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]]+"-"+n[t[4]]+n[t[5]]+"-"+n[t[6]]+n[t[7]]+"-"+n[t[8]]+n[t[9]]+"-"+n[t[10]]+n[t[11]]+n[t[12]]+n[t[13]]+n[t[14]]+n[t[15]]}}(e.Random.getRandomValues),e.MimeData=t,e.PromiseDelegate=n,e.Token=r,Object.defineProperty(e,"__esModule",{value:!0})}(t)},70725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DisposableDelegate:()=>a,DisposableSet:()=>l,ObservableDisposableDelegate:()=>c,ObservableDisposableSet:()=>u});var r=n(35259),i=n(4016),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new i.Signal(t),t}return s(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),i.Signal.clearData(this))},t}(a),l=function(){function e(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(e){e.dispose()})),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}();!function(e){e.from=function(t){var n=new e;return(0,r.each)(t,(function(e){n.add(e)})),n}}(l||(l={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new i.Signal(t),t}return s(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),i.Signal.clearData(this))},t}(l);!function(e){e.from=function(t){var n=new e;return(0,r.each)(t,(function(e){n.add(e)})),n}}(u||(u={}))},23114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Debouncer:()=>g,Poll:()=>h,RateLimiter:()=>f,Throttler:()=>m});var r=n(95082),i=n(4016),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var u,d="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,p="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate,h=function(){function e(e){var t=this;this._disposed=new i.Signal(this),this._tick=new r.PromiseDelegate,this._ticked=new i.Signal(this),this._timeout=-1,this._factory=e.factory,this._standby=e.standby||u.DEFAULT_STANDBY,this._state=a(a({},u.DEFAULT_STATE),{timestamp:(new Date).getTime()});var n=e.frequency||{},o=Math.max(n.interval||0,n.max||0,u.DEFAULT_FREQUENCY.max);this.frequency=a(a(a({},u.DEFAULT_FREQUENCY),n),{max:o}),this.name=e.name||u.DEFAULT_NAME,"auto"in e&&!e.auto||d((function(){t.start()}))}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},set:function(t){if(!this.isDisposed&&!r.JSONExt.deepEqual(t,this.frequency||{})){var n=t.backoff,i=t.interval,o=t.max;if(i=Math.round(i),o=Math.round(o),"number"==typeof n&&n<1)throw new Error("Poll backoff growth factor must be at least 1");if((i<0||i>o)&&i!==e.NEVER)throw new Error("Poll interval must be between 0 and max");if(o>e.MAX_INTERVAL&&o!==e.NEVER)throw new Error("Max interval must be less than "+e.MAX_INTERVAL);this._frequency={backoff:n,interval:i,max:o}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return"disposed"===this.state.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"standby",{get:function(){return this._standby},set:function(e){this.isDisposed||this.standby===e||(this._standby=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tick",{get:function(){return this._tick.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticked",{get:function(){return this._ticked},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._state=a(a({},u.DISPOSED_STATE),{timestamp:(new Date).getTime()}),this._tick.promise.catch((function(e){})),this._tick.reject(new Error("Poll ("+this.name+") is disposed.")),this._disposed.emit(void 0),i.Signal.clearData(this))},e.prototype.refresh=function(){return this.schedule({cancel:function(e){return"refreshed"===e.phase},interval:e.IMMEDIATE,phase:"refreshed"})},e.prototype.schedule=function(t){return void 0===t&&(t={}),c(this,void 0,void 0,(function(){var n,i,o,s,c,u=this;return l(this,(function(l){switch(l.label){case 0:return this.isDisposed||t.cancel&&t.cancel(this.state)?[2]:(n=this.state,i=this._tick,o=new r.PromiseDelegate,s=a({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},t),this._state=s,this._tick=o,n.interval===e.IMMEDIATE?p(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),i.resolve(this),[4,i.promise]);case 1:return l.sent(),c=function(){u.isDisposed||u.tick!==o.promise||u._execute()},this._timeout=s.interval===e.IMMEDIATE?d(c):s.interval===e.NEVER?-1:setTimeout(c,s.interval),[2]}}))}))},e.prototype.start=function(){return this.schedule({cancel:function(e){var t=e.phase;return"constructed"!==t&&"standby"!==t&&"stopped"!==t},interval:e.IMMEDIATE,phase:"started"})},e.prototype.stop=function(){return this.schedule({cancel:function(e){return"stopped"===e.phase},interval:e.NEVER,phase:"stopped"})},e.prototype._execute=function(){var e=this,t="function"==typeof this.standby?this.standby():this.standby;if(t="never"!==t&&("when-hidden"===t?!("undefined"==typeof document||!document||!document.hidden):t))this.schedule();else{var n=this.tick;this._factory(this.state).then((function(t){e.isDisposed||e.tick!==n||e.schedule({payload:t,phase:"rejected"===e.state.phase?"reconnected":"resolved"})})).catch((function(t){e.isDisposed||e.tick!==n||e.schedule({interval:u.sleep(e.frequency,e.state),payload:t,phase:"rejected"})}))}},e}();!function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(h||(h={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:h.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:h.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,n){var r=t.backoff,i=t.interval,o=t.max;if(i===h.NEVER)return i;var s=!0===r?e.DEFAULT_BACKOFF:!1===r?1:r,a=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(i,n.interval*s);return Math.min(o,a)}}(u||(u={}));var f=function(){function e(e,t){var n=this;void 0===t&&(t=500),this.payload=null,this.limit=t,this.poll=new h({auto:!1,factory:function(){return c(n,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()]}}))}))},frequency:{backoff:!1,interval:h.NEVER,max:h.NEVER},standby:"never"}),this.payload=new r.PromiseDelegate,this.poll.ticked.connect((function(e,t){var i=n.payload;return"resolved"===t.phase?(n.payload=new r.PromiseDelegate,void i.resolve(t.payload)):"rejected"===t.phase||"stopped"===t.phase?(n.payload=new r.PromiseDelegate,i.promise.catch((function(e){})),void i.reject(t.payload)):void 0}),this)}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return null===this.payload},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this.payload=null,this.poll.dispose())},e.prototype.stop=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.poll.stop()]}))}))},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.invoke=function(){return this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise},t}(f),m=function(e){function t(t,n){var r=e.call(this,t,"number"==typeof n?n:n&&n.limit)||this,i="leading";return"number"!=typeof n&&(i="edge"in(n=n||{})?n.edge:i),r._interval="trailing"===i?r.limit:h.IMMEDIATE,r}return s(t,e),t.prototype.invoke=function(){return"invoked"!==this.poll.state.phase&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise},t}(f)},39770:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachedProperty:()=>i});var r,i=function(){function e(e){this._pid=r.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=r.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,i=r.ensureMap(e);n=this._pid in i?i[this._pid]:i[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,n,i[this._pid]=o)},e.prototype.coerce=function(e){var t,n=r.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var i=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=i)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var r=this._changed;r&&!this._compareValue(t,n)&&r(e,t,n)},e}();!function(e){e.clearData=function(e){r.ownerData.delete(e)}}(i||(i={})),function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(r||(r={}))},4016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Signal:()=>s});var r,i=n(35259),o=n(39770),s=function(){function e(e){this._blockedCount=0,this.sender=e}return e.prototype.block=function(e){this._blockedCount++;try{e()}finally{this._blockedCount--}},e.prototype.connect=function(e,t){return r.connect(this,e,t)},e.prototype.disconnect=function(e,t){return r.disconnect(this,e,t)},e.prototype.emit=function(e){this._blockedCount||r.emit(this,e)},e}();!function(e){e.blockAll=function(e,t){var n=r.blockedProperty;n.set(e,n.get(e)+1);try{t()}finally{n.set(e,n.get(e)-1)}},e.disconnectBetween=function(e,t){r.disconnectBetween(e,t)},e.disconnectSender=function(e){r.disconnectSender(e)},e.disconnectReceiver=function(e){r.disconnectReceiver(e)},e.disconnectAll=function(e){r.disconnectAll(e)},e.clearData=function(e){r.disconnectAll(e)},e.getExceptionHandler=function(){return r.exceptionHandler},e.setExceptionHandler=function(e){var t=r.exceptionHandler;return r.exceptionHandler=e,t}}(s||(s={})),function(e){function t(e){var t=r.get(e);t&&0!==t.length&&((0,i.each)(t,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,d(s.get(t))}})),d(t))}function n(e){var t=s.get(e);t&&0!==t.length&&((0,i.each)(t,(function(e){if(e.signal){var t=e.signal.sender;e.signal=null,d(r.get(t))}})),d(t))}e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,t,n){n=n||void 0;var i=r.get(e.sender);if(i||(i=[],r.set(e.sender,i)),l(i,e,t,n))return!1;var o=n||t,a=s.get(o);a||(a=[],s.set(o,a));var c={signal:e,slot:t,thisArg:n};return i.push(c),a.push(c),!0},e.disconnect=function(e,t,n){n=n||void 0;var i=r.get(e.sender);if(!i||0===i.length)return!1;var o=l(i,e,t,n);if(!o)return!1;var a=n||t,c=s.get(a);return o.signal=null,d(i),d(c),!0},e.disconnectBetween=function(e,t){var n=r.get(e);if(n&&0!==n.length){var o=s.get(t);o&&0!==o.length&&((0,i.each)(o,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),d(n),d(o))}},e.disconnectSender=t,e.disconnectReceiver=n,e.disconnectAll=function(e){t(e),n(e)},e.emit=function(t,n){if(!(e.blockedProperty.get(t.sender)>0)){var i=r.get(t.sender);if(i&&0!==i.length)for(var o=0,s=i.length;o<s;++o){var a=i[o];a.signal===t&&u(a,n)}}};var r=new WeakMap,s=new WeakMap,a=new Set,c="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function l(e,t,n,r){return(0,i.find)(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function u(t,n){var r=t.signal,i=t.slot,o=t.thisArg;try{i.call(o,r.sender,n)}catch(t){e.exceptionHandler(t)}}function d(e){0===a.size&&c(p),a.add(e)}function p(){a.forEach(h),a.clear()}function h(e){i.ArrayExt.removeAllWhere(e,f)}function f(e){return null===e.signal}e.blockedProperty=new o.AttachedProperty({name:"blocked",create:function(){return 0}})}(r||(r={}))},67164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>V,BaseCore:()=>B,BaseTelemetryPlugin:()=>E.i,CoreUtils:()=>K.Tr,DiagnosticLogger:()=>f.AQ,ESPromise:()=>$,ESPromiseScheduler:()=>Z,EventHelper:()=>re.zB,EventLatency:()=>l,EventPersistence:()=>d,EventPropertyType:()=>u,EventsDiscardedReason:()=>ne.h,FullVersionString:()=>K.vs,InternalAppInsightsCore:()=>U,InternalBaseCore:()=>M,LoggingSeverity:()=>s,MinChannelPriorty:()=>te,NotificationManager:()=>F,PerfEvent:()=>g.zn,PerfManager:()=>g.Jk,ProcessTelemetryContext:()=>b.Vi,TraceLevel:()=>p,Undefined:()=>se.jA,Utils:()=>K.cQ,ValueKind:()=>c,ValueSanitizer:()=>ee,Version:()=>K.Gf,_ExtendedInternalMessageId:()=>h,_InternalLogMessage:()=>f.lQ,_InternalMessageId:()=>a,__getRegisteredEvents:()=>ie.um,_throwInternal:()=>f.kP,addEventHandler:()=>ie.Ib,addEventListeners:()=>ie.yw,addPageHideEventListener:()=>ie.TJ,addPageShowEventListener:()=>ie.nD,addPageUnloadEventListener:()=>ie.c9,areCookiesSupported:()=>S.p7,arrForEach:()=>o.tO,arrIndexOf:()=>o.UA,arrMap:()=>o.Mr,arrReduce:()=>o.Xz,attachEvent:()=>ie.pZ,cookieAvailable:()=>S.p7,createCookieMgr:()=>S.Nz,createEnumStyle:()=>i.By,createGuid:()=>K.cm,createProcessTelemetryContext:()=>b.CD,createTraceParent:()=>ae.SU,createUniqueNamespace:()=>T.J,createUnloadHandlerContainer:()=>x.Y,dateNow:()=>o.m6,deleteCookie:()=>K.kT,detachEvent:()=>ie.pD,disableCookies:()=>K.oF,disallowsSameSiteNone:()=>S.UY,doPerf:()=>g.Lm,dumpObj:()=>m.eU,eventOff:()=>ie.QY,eventOn:()=>ie.XO,extend:()=>K.l7,findW3cTraceParent:()=>ae.lq,formatTraceParent:()=>ae.aR,generateW3CId:()=>re.DO,getCommonSchemaMetaData:()=>K.Vv,getConsole:()=>m.dr,getCookie:()=>K.ej,getCookieValue:()=>K.Do,getCrypto:()=>m.MX,getDocument:()=>m.Me,getExceptionName:()=>o.jj,getFieldValueType:()=>K.Sy,getGlobal:()=>y.Rd,getGlobalInst:()=>m.a8,getHistory:()=>m.s1,getIEVersion:()=>m.sA,getISOString:()=>o.Y6,getJSON:()=>m.xA,getLocation:()=>m.k$,getMsCrypto:()=>m.gz,getNavigator:()=>m.jW,getPerformance:()=>m.r,getSetValue:()=>o.qK,getTenantId:()=>K.jM,getTime:()=>K.hK,getWindow:()=>m.Jj,hasDocument:()=>m.Nv,hasHistory:()=>m.fE,hasJSON:()=>m.nS,hasNavigator:()=>m.d6,hasOwnProperty:()=>o.nr,hasWindow:()=>m.Ym,isArray:()=>o.kJ,isArrayValid:()=>K.JT,isBeaconsSupported:()=>m.MF,isBoolean:()=>o.jn,isChromium:()=>K.mJ,isDate:()=>o.J_,isDocumentObjectAvailable:()=>K.x9,isError:()=>o.VZ,isFetchSupported:()=>m.JO,isFunction:()=>o.mf,isIE:()=>m.w1,isLatency:()=>K.r7,isNotTruthy:()=>o.F,isNullOrUndefined:()=>o.le,isNumber:()=>o.hj,isObject:()=>o.Kn,isReactNative:()=>m.b$,isSampledFlag:()=>ae.Pn,isString:()=>o.HD,isTruthy:()=>o.fQ,isTypeof:()=>o.Ym,isUint8ArrayAvailable:()=>K.IZ,isUndefined:()=>o.o8,isValidSpanId:()=>ae.Lc,isValidTraceId:()=>ae.jN,isValidTraceParent:()=>ae.J6,isValueAssigned:()=>K.Sn,isValueKind:()=>K.oS,isWindowObjectAvailable:()=>K.dH,isXhrSupported:()=>m.Z3,mergeEvtNamespace:()=>ie.jU,newGuid:()=>re.GW,newId:()=>oe.pZ,normalizeJsName:()=>o.Gf,objCreate:()=>y.pu,objDefineAccessors:()=>o.l_,objForEachKey:()=>o.rW,objFreeze:()=>o.FL,objKeys:()=>o.FY,objSeal:()=>o.Xi,openXhr:()=>K.ot,optimizeObject:()=>o.Ax,parseTraceParent:()=>ae.j_,perfNow:()=>re.Jj,proxyAssign:()=>o.cf,proxyFunctionAs:()=>o.Oi,proxyFunctions:()=>o.Vb,random32:()=>oe._l,randomValue:()=>oe.az,removeEventHandler:()=>ie.C1,removeEventListeners:()=>ie.nJ,removePageHideEventListener:()=>ie.C9,removePageShowEventListener:()=>ie.Yl,removePageUnloadEventListener:()=>ie.JA,safeGetCookieMgr:()=>S.JP,safeGetLogger:()=>f.vH,sanitizeProperty:()=>K.yj,setCookie:()=>K.d8,setEnableEnvMocks:()=>m.dI,setProcessTelemetryTimings:()=>K.if,setValue:()=>o.sO,strContains:()=>o._Q,strEndsWith:()=>o.Id,strFunction:()=>se.cb,strObject:()=>se.fK,strPrototype:()=>se.hB,strStartsWith:()=>o.xe,strTrim:()=>o.nd,strUndefined:()=>se.jA,throwError:()=>o._y,toISOString:()=>o.Y6,useXDomainRequest:()=>m.cp});var r=n(27421),i=n(50951),o=n(24869),s=(0,i.By)({CRITICAL:1,WARNING:2}),a=(0,i.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),c=(0,i.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),l=(0,i.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),u=(0,i.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),d=(0,i.By)({Normal:1,Critical:2}),p=(0,i.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),h=(0,o.FL)((0,r.uc)((0,r.uc)({},a),(0,i.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),f=n(29339),g=n(81782),m=n(49251),y=n(30175),v=n(29141),b=n(31030),w=n(69031),S=n(88140),C=n(61733),_=n(28341),k=n(96335),P=500;function I(e,t,n,r){t&&(0,o.kJ)(t)&&t.length>0&&(t=t.sort((function(e,t){return e.priority-t.priority})),(0,o.tO)(t,(function(e){e.priority<P&&(0,o._y)("Channel has invalid priority - "+e.identifier)})),e.push({queue:(0,o.FL)(t),chain:(0,b.jV)(t,n,r)}))}var E=n(87951),D=function(e){function t(){var n,r,i=e.call(this)||this;function s(){n=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,s(),(0,v.Z)(t,i,(function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return r.push(t),{remove:function(){(0,o.tO)(r,(function(e,n){if(e.id===t.id)return r.splice(n,1),-1}))}}},e.processTelemetry=function(t,n){for(var i=!1,s=r.length,a=0;a<s;++a){var c=r[a];if(c)try{if(!1===c.fn.apply(null,[t])){i=!0;break}}catch(e){(0,f.kP)(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,o.jj)(e),{exception:(0,m.eU)(e)},!0)}}i||e.processNext(t,n)},e[k.Ho]=function(){s()}})),i}return(0,r.ne)(t,e),t}(E.i),T=n(87624),x=n(38593),R="Plugins must provide initialize method",j="SDK is still unloading...",A={loggingLevelConsole:1};function O(e,t){return new g.Jk(t)}function N(e,t){var n=!1;return(0,o.tO)(t,(function(t){if(t===e)return n=!0,-1})),n}var M=function e(){var t,n,i,s,a,c,l,u,d,p,h,m,E,M,L,F,U,K,W,V=0;(0,v.Z)(e,this,(function(e){function v(){t=!1,e.config=(0,o.mm)(!0,{},A),e.logger=new f.AQ(e.config),e._extensions=[],M=new D,n=[],i=null,s=null,a=null,c=null,l=null,d=null,u=[],p=null,h=null,m=null,E=!1,L=null,F=(0,T.J)("AIBaseCore",!0),U=(0,x.Y)(),W=null}function H(){return(0,b.CD)(J(),e.config,e)}function B(t,n){var r=function(e,t,n){var r=[],i={};return(0,o.tO)(n,(function(t){((0,o.le)(t)||(0,o.le)(t.initialize))&&(0,o._y)(R);var n=t.priority,s=t.identifier;t&&n&&((0,o.le)(i[n])?i[n]=s:(0,f.jV)(e,"Two extensions have same priority #"+n+" - "+i[n]+", "+s)),(!n||n<500)&&r.push(t)})),{all:n,core:r}}(e.logger,0,u);d=r.core,l=null;var i=r.all;if(m=(0,o.FL)(function(e,t,n,r){var i=[];if(e&&(0,o.tO)(e,(function(e){return I(i,e,n,r)})),t){var s=[];(0,o.tO)(t,(function(e){e.priority>P&&s.push(e)})),I(i,s,n,r)}return i}(h,i,t,e)),p){var s=(0,o.UA)(i,p);-1!==s&&i.splice(s,1),-1!==(s=(0,o.UA)(d,p))&&d.splice(s,1),p._setQueue(m)}else p=function(e,t){var n;function r(){return(0,b.CD)(null,t.config,t,null)}function i(e,t,n,r){var i=e?e.length+1:1;function s(){0==--i&&(r&&r(),r=null)}i>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0){var r=e.chain,o=t.createNew(r);o.onComplete(s),n(o)}else i--})),s()}var s=!1,a=(n={identifier:"ChannelControllerPlugin",priority:P,initialize:function(t,n,r,i){s=!0,(0,o.tO)(e,(function(e){e&&e.queue.length>0&&(0,w.bP)((0,b.CD)(e.chain,t,n),r)}))},isInitialized:function(){return s},processTelemetry:function(t,n){i(e,n||r(),(function(e){e[k.Z_](t)}),(function(){n[k.Z_](t)}))},update:function(t,n){var r=n||{reason:0};return i(e,t,(function(e){e[k.Z_](r)}),(function(){t[k.Z_](r)})),!0}},n[k.nE]=function(){i(e,r(),(function(e){e.iterate((function(e){e[k.nE]&&e[k.nE]()}))}),null)},n[k.Mf]=function(){i(e,r(),(function(e){e.iterate((function(e){e[k.Mf]&&e[k.Mf]()}))}),null)},n[k.vE]=function(t,n){var r=n||{reason:0,isAsync:!1};return i(e,t,(function(e){e[k.Z_](r)}),(function(){t[k.Z_](r),s=!1})),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0&&((0,o.tO)(e.queue,(function(e){if(e.identifier===t)return n=e,-1})),n))return-1})),n},n.flush=function(t,n,o,s){var a=1,c=!1,l=null;function u(){a--,c&&0===a&&(l&&(clearTimeout(l),l=null),n&&n(c),n=null)}return s=s||5e3,i(e,r(),(function(e){e.iterate((function(e){if(e.flush){a++;var n=!1;e.flush(t,(function(){n=!0,u()}),o)||n||(t&&null==l?l=setTimeout((function(){l=null,u()}),s):u())}}))}),(function(){c=!0,u()})),!0},n._setQueue=function(t){e=t},n);return a}(m,e);i.push(p),d.push(p),e._extensions=(0,w.AA)(i),p.initialize(t,e,i),(0,w.bP)(H(),i),e._extensions=(0,o.FL)((0,w.AA)(d||[])).slice(),n&&function(t){var n=(0,b.xy)(J(),e);e._updateHook&&!0===e._updateHook(n,t)||n.processNext(t)}(n)}function q(t){var n=null,r=null;return(0,o.tO)(e._extensions,(function(e){if(e.identifier===t&&e!==p&&e!==M)return r=e,-1})),!r&&p&&(r=p.getChannel(t)),r&&(n={plugin:r,setEnabled:function(e){(0,w.OY)(r)[k.C0]=!e},isEnabled:function(){var e=(0,w.OY)(r);return!e[k.vE]&&!e[k.C0]},remove:function(t,n){void 0===t&&(t=!0);var i=[r];$(i,{reason:1,isAsync:t},(function(t){t&&B(e.config,{reason:32,removed:i}),n&&n(t)}))}}),n}function J(){if(!l){var t=(d||[]).slice();-1===(0,o.UA)(t,M)&&t.push(M),l=(0,b.jV)((0,w.AA)(t),e.config,e)}return l}function $(t,n,r){if(t&&t.length>0){var i=(0,b.jV)(t,e.config,e),s=(0,b.Bt)(i,e);s.onComplete((function(){var e=!1,n=[];(0,o.tO)(u,(function(r,i){N(r,t)?e=!0:n.push(r)})),u=n;var i=[];h&&((0,o.tO)(h,(function(n,r){var s=[];(0,o.tO)(n,(function(n){N(n,t)?e=!0:s.push(n)})),i.push(s)})),h=i),r&&r(e)})),s.processNext(n)}else r(!1)}function G(){var t=e.logger?e.logger.queue:[];t&&((0,o.tO)(t,(function(t){var n={name:L||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:(0,o.Y6)(new Date),baseType:f.lQ.dataType,baseData:{message:t.message}};e.track(n)})),t.length=0)}function z(e,t,n,r){return p?p.flush(e,t,n||6,r):(t&&t(!1),!0)}function Y(t){var n=e.logger;n?(0,f.kP)(n,2,73,t):(0,o._y)(t)}v(),e.isInitialized=function(){return t},e.initialize=function(n,s,c,l){E&&(0,o._y)(j),e.isInitialized()&&(0,o._y)("Core should not be initialized more than once"),n&&!(0,o.le)(n.instrumentationKey)||(0,o._y)("Please provide instrumentation key"),i=l,e._notificationManager=l,e.config=n||{},function(e){!0===e.disableDbgExt&&K&&(i[k.XP](K),K=null),i&&!K&&!0!==e.disableDbgExt&&(K=(0,_.p)(e),i[k.dV](K))}(n),function(t){!t.enablePerfMgr&&a&&(a=null),t.enablePerfMgr&&(0,o.sO)(e.config,"createPerfMgr",O)}(n),n.extensions=(0,o.le)(n.extensions)?[]:n.extensions,function(e){(0,o.qK)(e,C.F).NotificationManager=i}(n),c&&(e.logger=c),(u=[]).push.apply(u,(0,r.$h)((0,r.$h)([],s,!1),n.extensions,!1)),h=(n||{}).channels,B(n,null),m&&0!==m.length||(0,o._y)("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return m&&(0,o.tO)(m,(function(t){e.push(t.queue)})),(0,o.FL)(e)},e.track=function(t){(0,o.sO)(t,C.z,e.config.instrumentationKey,null,o.F),(0,o.sO)(t,"time",(0,o.Y6)(new Date),null,o.F),(0,o.sO)(t,"ver","4.0",null,o.le),!E&&e.isInitialized()?H().processNext(t):n.push(t)},e.getProcessTelContext=H,e.getNotifyMgr=function(){var t;return i||(i=(0,y.pu)(((t={})[k.dV]=function(e){},t[k.XP]=function(e){},t[k.eO]=function(e){},t[k.H4]=function(e,t){},t[k.rX]=function(e,t){},t)),e._notificationManager=i),i},e[k.dV]=function(e){i&&i[k.dV](e)},e[k.XP]=function(e){i&&i[k.XP](e)},e.getCookieMgr=function(){return c||(c=(0,S.Nz)(e.config,e.logger)),c},e.setCookieMgr=function(e){c=e},e.getPerfMgr=function(){return s||a||e.config&&e.config.enablePerfMgr&&(0,o.mf)(e.config.createPerfMgr)&&(a=e.config.createPerfMgr(e,e.getNotifyMgr())),s||a||(0,g.j5)()},e.setPerfMgr=function(e){s=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],(0,o.tO)(e,(function(e){H().processNext(e)}))}},e.pollInternalLogs=function(t){L=t||null;var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),V&&clearInterval(V),V=setInterval((function(){G()}),n)},e.stopPollingInternalLogs=function(){V&&(clearInterval(V),V=0,G())},(0,o.Vb)(e,(function(){return M}),["addTelemetryInitializer"]),e.unload=function(n,r,i){void 0===n&&(n=!0),t||(0,o._y)("SDK is not initialized"),E&&(0,o._y)(j);var s={reason:50,isAsync:n,flushComplete:!1},a=(0,b.Bt)(J(),e);function c(t){s.flushComplete=t,E=!0,U.run(a,s),e.stopPollingInternalLogs(),a.processNext(s)}a.onComplete((function(){v(),r&&r(s)}),e),z(n,c,6,i)||c(!1)},e.getPlugin=q,e.addPlugin=function(t,n,r,i){if(!t)return i&&i(!1),void Y(R);var o=q(t.identifier);if(o&&!n)return i&&i(!1),void Y("Plugin ["+t.identifier+"] is already loaded!");var s={reason:16};function a(n){u.push(t),s.added=[t],B(e.config,s),i&&i(!0)}if(o){var c=[o.plugin];$(c,{reason:2,isAsync:!!r},(function(e){e?(s.removed=c,s.reason|=32,a()):i&&i(!1)}))}else a()},e.evtNamespace=function(){return F},e.flush=z,e.getTraceCtx=function(e){return W||(W=(0,w.Yn)()),W},e.setTraceCtx=function(e){W=e||null},(0,o.Oi)(e,"addUnloadCb",(function(){return U}),"add")}))};function L(e,t,n,r){(0,o.tO)(e,(function(e){if(e&&e[t])if(n)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var F=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;(0,v.Z)(e,this,(function(e){e[k.dV]=function(t){e.listeners.push(t)},e[k.XP]=function(t){for(var n=(0,o.UA)(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=(0,o.UA)(e.listeners,t)},e[k.eO]=function(t){L(e.listeners,k.eO,!0,(function(e){e[k.eO](t)}))},e[k.H4]=function(t,n){L(e.listeners,k.H4,!0,(function(e){e[k.H4](t,n)}))},e[k.rX]=function(t,n){L(e.listeners,k.rX,n,(function(e){e[k.rX](t,n)}))},e[k.SN]=function(t){t&&(!n&&t.isChildEvt()||L(e.listeners,k.SN,!1,(function(e){t.isAsync?setTimeout((function(){return e[k.SN](t)}),0):e[k.SN](t)})))}}))},U=function(e){function t(){var n=e.call(this)||this;return(0,v.Z)(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new f.AQ(e),i||new F(e))},e.track=function(r){(0,g.Lm)(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),(0,o._y)("Invalid telemetry item")),function(e){(0,o.le)(e.name)&&(n(e),(0,o._y)("telemetry name required"))}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)}})),n}return(0,r.ne)(t,e),t}(M),K=n(65705),W=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",(0,v.Z)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new f.AQ({loggingLevelConsole:1})),e.initialize=function(n,r,i,s){(0,g.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var a=n.propertyStorageOverride;if(a&&(!a.getProperty||!a.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&(0,o.tO)(n.channels,(function(t){t&&(0,o.tO)(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&(0,o.tO)(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,r,i,s),e.pollInternalLogs("InternalLog")}catch(t){var c=e.logger,l=(0,m.eU)(t);-1!==l.indexOf("channels")&&(l+="\n - Channels must be provided through config.channels only!"),c.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+l)}}),(function(){return{config:n,extensions:r,logger:i,notificationManager:s}}))},e.track=function(n){(0,g.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=(0,K.hK)(),(0,K.r7)(r.latency)||(r.latency=1);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver=K.vs;var o=r.baseData=r.baseData||{};o.properties||(o.properties={});var s=o.properties;s.version||(s.version=""),""!==e.pluginVersionString&&(s.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return(0,r.ne)(t,e),t}(U);const V=W;var H=function(e){function t(){var n=e.call(this)||this;return(0,v.Z)(t,n,(function(e,t){e.initialize=function(n,r,i,o){n&&!n.endpointUrl&&(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return K.x9?0:-1};try{t.initialize(n,r,i,o)}catch(t){(0,f.kP)(e.logger,1,514,"Initialization Failed: "+(0,m.eU)(t)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var n=e;if(n){var r=n.ext=n.ext||{};r.sdk=r.sdk||{},r.sdk.ver=K.vs}t.track(n)}})),n}return(0,r.ne)(t,e),t}(M);const B=H;var q=o.mf;function J(e,t,n){return function(r){e[t]=r,n()}}const $=function(){function e(t){var n=0,r=null,i=[];function o(){if(i.length>0){var e=i.slice();i=[],setTimeout((function(){for(var t=0,n=e.length;t<n;++t)try{e[t]()}catch(e){}}),0)}}function s(e){0===n&&(r=e,n=1,o())}function a(e){0===n&&(r=e,n=2,o())}(0,v.Z)(e,this,(function(t){t.then=function(t,s){return new e((function(a,c){!function(t,s,a,c){i.push((function(){var i;try{(i=1===n?q(t)?t(r):r:q(s)?s(r):r)instanceof e?i.then(a,c):2!==n||q(s)?a(i):c(i)}catch(e){return void c(e)}})),0!==n&&o()}(t,s,a,c)}))},t.catch=function(e){return t.then(null,e)}})),function(){if(!q(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,a)}catch(e){a(e)}}()}return e.resolve=function(t){return t instanceof e?t:t&&q(t.then)?new e((function(e,n){try{t.then(e,n)}catch(e){n(e)}})):new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){if(t&&t.length)return new e((function(e,n){try{for(var r=[],i=0,o=0;o<t.length;o++){var s=t[o];s&&q(s.then)?(i++,s.then(J(r,o,(function(){0==--i&&e(r)})),n)):r[o]=s}0===i&&setTimeout((function(){e(r)}),0)}catch(e){n(e)}}))},e.race=function(t){return new e((function(e,n){if(t&&t.length)try{for(var r=function(r){var i=t[r];i&&q(i.then)?i.then(e,n):setTimeout((function(){e(i)}),0)},i=0;i<t.length;i++)r(i)}catch(e){n(e)}}))},e}();var G=0,z=[],Y=[],Q=[];function X(){return(new Date).getTime()}const Z=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+G;function o(e){var t=(0,y.Rd)();t&&t.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+e)}function s(e){n&&n.warnToConsole("ESPromiseScheduler["+i+"] "+e)}G++,(0,v.Z)(e,this,(function(e){var t=null,n=0;function a(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return e.splice(n,1)[0];return null}e.scheduleEvent=function(e,c,l){var u=i+"."+n;n++,c&&(u+="-("+c+")");var d=u+"{"+r+"}";r++;var p,h,f,g={evt:null,tm:X(),id:d,isRunning:!1,isAborted:!1};return g.evt=t?(p=g,h=t,f=new $((function(e,t){var n=X()-h.tm,r=h.id;o("["+u+"] is waiting for ["+r+":"+n+" ms] to complete before starting -- ["+Y.length+"] waiting and ["+z.length+"] running"),p.abort=function(e){p.abort=null,a(Y,u),p.isAborted=!0,t(new Error(e))},h.evt.then((function(n){a(Y,u),S(p).then(e,t)}),(function(n){a(Y,u),S(p).then(e,t)}))})),Y.push(p),f):S(g),(t=g).evt._schId=d,g.evt;function m(e){for(var t=X(),n=t-6e5,r=e.length,i=0;i<r;){var o=e[i];if(o&&o.tm<n){var a=null;o.abort?(a="Aborting ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",o.abort(a)):a="Removing ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",s(a),e.splice(i,1),r--}else i++}}function y(e,n){var r=!1,i=a(z,e);if(i||(i=a(Q,e),r=!0),i){i.to&&(clearTimeout(i.to),i.to=null);var c=X()-i.tm;n?r?s("Timed out event ["+e+"] finally complete -- "+c+" ms"):o("Promise ["+e+"] Complete -- "+c+" ms"):(Q.push(i),s("Event ["+e+"] Timed out and removed -- "+c+" ms"))}else o("Failed to remove ["+e+"] from running queue");t&&t.id===e&&(t=null),m(z),m(Y),m(Q)}function v(e,t){return function(n){return y(e,!0),t&&t(n),n}}function b(e,t,n,r){t.then((function(t){return t instanceof $?(o("Event ["+e+"] returned a promise -- waiting"),b(e,t,n,r),t):v(e,n)(t)}),v(e,r))}function w(e,t){var n=e.id;return new $((function(r,i){o("Event ["+n+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(t){e.abort=null,e.isAborted=!0,y(n,!1),i(new Error(t))};var s=t(n);s instanceof $?(l&&(e.to=setTimeout((function(){y(n,!1),i(new Error("Timed out after ["+l+"] ms"))}),l)),b(n,s,(function(t){o("Event ["+n+"] Resolving after "+(X()-e.tm)+" ms"),r(t)}),i)):(o("Promise ["+n+"] Auto completed as the start action did not return a promise"),r())}))}function S(t){var n=X();return t.wTm=n-t.tm,t.tm=n,t.isAborted?$.reject(new Error("["+u+"] was aborted")):(z.push(t),w(t,e))}}}))}return e.incomplete=function(){return z},e.waitingToStart=function(){return Y},e}();var ee=function(){function e(e){var t=this,n={},r=[],i=[];function s(e,t){var s,a=n[e];if(a&&(s=a[t]),!s&&null!==s){if((0,o.HD)(e)&&(0,o.HD)(t))if(i.length>0){for(var c=0;c<i.length;c++)if(i[c].handleField(e,t)){s={canHandle:!0,fieldHandler:i[c]};break}}else 0===r.length&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,c=0;c<r.length;c++)if(r[c].handleField(e,t)){s={canHandle:!0,handler:r[c],fieldHandler:null};break}a||(a=n[e]={}),a[t]=s}return s}function a(e,t,n,r,i,s){if(e.handler)return e.handler.property(t,n,i,s);if(!(0,o.le)(i.kind)){if(4096==(4096&r)||!(0,K.oS)(i.kind))return null;i.value=i.value.toString()}return l(e.fieldHandler,t,n,r,i)}function c(e,t,n){return(0,K.Sn)(n)?{value:n}:null}function l(e,n,r,i,s){if(s&&e){var a=e.getSanitizer(n,r,i,s.kind,s.propertyType);if(a)if(4===i){var u={},d=s.value;(0,o.rW)(d,(function(t,i){var o=n+"."+r;if((0,K.Sn)(i)){var s=c(0,0,i);(s=l(e,o,t,(0,K.Sy)(i),s))&&(u[t]=s.value)}})),s.value=u}else{var p={path:n,name:r,type:i,prop:s,sanitizer:t};s=a.call(t,p)}}return s}e&&i.push(e),t.addSanitizer=function(e){e&&(r.push(e),n={})},t.addFieldSanitizer=function(e){e&&(i.push(e),n={})},t.handleField=function(e,t){var n=s(e,t);return!!n&&n.canHandle},t.value=function(e,t,n,r){var i=s(e,t);if(i&&i.canHandle){if(!i||!i.canHandle)return null;if(i.handler)return i.handler.value(e,t,n,r);if(!(0,o.HD)(t)||(0,o.le)(n)||""===n)return null;var l=null,u=(0,K.Sy)(n);if(8192==(8192&u)){var d=-8193&u;if(l=n,!(0,K.Sn)(l.value)||1!==d&&2!==d&&3!==d&&4096!=(4096&d))return null}else 1===u||2===u||3===u||4096==(4096&u)?l=c(0,0,n):4===u&&(l=c(0,0,r?JSON.stringify(n):n));if(l)return a(i,e,t,u,l,r)}return null},t.property=function(e,t,n,r){var i=s(e,t);if(!i||!i.canHandle)return null;if(!(0,o.HD)(t)||(0,o.le)(n)||!(0,K.Sn)(n.value))return null;var c=(0,K.Sy)(n.value);return 0===c?null:a(i,e,t,c,n,r)}}return e.getFieldType=K.Sy,e}(),te=100,ne=n(28452),re=n(28956),ie=n(47954),oe=n(19406),se=n(1550),ae=n(56207)},65705:(e,t,n)=>{"use strict";n.d(t,{Do:()=>T,Gf:()=>p,IZ:()=>S,JT:()=>O,Sn:()=>b,Sy:()=>M,Tr:()=>F,Vv:()=>k,cQ:()=>L,cm:()=>x,d8:()=>I,dH:()=>v,ej:()=>D,hK:()=>j,if:()=>N,jM:()=>w,kT:()=>E,l7:()=>R,mJ:()=>U,oF:()=>P,oS:()=>A,ot:()=>K,r7:()=>C,vs:()=>h,x9:()=>y,yj:()=>_});var r,i=n(1550),o=n(30175),s=n(49251),a=n(24869),c=n(88140),l=n(28956),u=n(47954),d=n(19406),p="3.2.3",h="1DS-Web-JS-"+p,f="withCredentials",g=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),m=null,y=Boolean((0,s.Me)()),v=Boolean((0,s.Jj)());function b(e){return!(""===e||(0,a.le)(e))}function w(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function S(){return null===m&&(m=!(0,a.o8)(Uint8Array)&&!function(){var e=(0,s.jW)();if(!(0,a.o8)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!(0,s.b$)()),m}function C(e){return!!(e&&(0,a.hj)(e)&&e>=1&&e<=4)}function _(e,t,n){if(!t&&!b(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||(0,a.kJ)(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if((0,a.le)(t.value)||""===t.value||!(0,a.HD)(t.value)&&!(0,a.hj)(t.value)&&!(0,a.jn)(t.value)&&!(0,a.kJ)(t.value))return null}else t={value:n?JSON.stringify(t):t};if((0,a.kJ)(t.value)&&!O(t.value))return null;if(!(0,a.le)(t.kind)){if((0,a.kJ)(t.value)||!A(t.kind))return null;t.value=t.value.toString()}return t}function k(e,t,n){var r=-1;if(!(0,a.o8)(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var i=g[M(e)]||-1;-1!==r&&-1!==i?r|=i:6===i&&(r=i)}return r}function P(){(0,c.JP)(null).setEnabled(!1)}function I(e,t,n){(0,c.p7)(null)&&(0,c.JP)(null).set(e,t,86400*n,null,"/")}function E(e){(0,c.p7)(null)&&(0,c.JP)(null).del(e)}function D(e){return(0,c.p7)(null)?T((0,c.JP)(null),e):""}function T(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function x(e){void 0===e&&(e="D");var t=(0,l.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function R(e,t,n,r,o){var s={},c=!1,l=0,u=arguments.length,d=Object[i.hB],p=arguments;for("[object Boolean]"===d.toString.call(p[0])&&(c=p[0],l++);l<u;l++)e=p[l],(0,a.rW)(e,(function(e,t){c&&t&&(0,a.Kn)(t)?(0,a.kJ)(t)?(s[e]=s[e]||[],(0,a.tO)(t,(function(t,n){t&&(0,a.Kn)(t)?s[e][n]=R(!0,s[e][n],t):s[e][n]=t}))):s[e]=R(!0,s[e],t):s[e]=t}));return s}var j=l.Jj;function A(e){return 0===e||e>0&&e<=13||32===e}function O(e){return e.length>0}function N(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=j()}function M(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===i.fK&&(t=4,(0,a.kJ)(e)?(t=4096,e.length>0&&(t|=M(e[0]))):(0,a.nr)(e,"value")&&(t=8192|M(e.value)))}return t}var L={Version:p,FullVersionString:h,strUndefined:i.jA,strObject:i.fK,Undefined:i.jA,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,objKeys:a.FY,toISOString:a.Y6,isReactNative:s.b$,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,isFunction:a.mf,isArray:a.kJ,isObject:a.Kn,strTrim:a.nd,isDocumentObjectAvailable:y,isWindowObjectAvailable:v,isValueAssigned:b,getTenantId:w,isBeaconsSupported:s.MF,isUint8ArrayAvailable:S,isLatency:C,sanitizeProperty:_,getISOString:a.Y6,useXDomainRequest:s.cp,getCommonSchemaMetaData:k,cookieAvailable:c.p7,disallowsSameSiteNone:c.UY,setCookie:I,deleteCookie:E,getCookie:D,createGuid:x,extend:R,getTime:j,isValueKind:A,isArrayValid:O,objDefineAccessors:a.l_,addPageUnloadEventListener:u.c9,setProcessTelemetryTimings:N,addEventHandler:u.Ib,getFieldValueType:M,strEndsWith:a.Id,objForEachKey:a.rW},F={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:o.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:u.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:P,newGuid:l.GW,perfNow:l.Jj,newId:d.pZ,randomValue:d.az,random32:d._l,mwcRandomSeed:d.CN,mwcRandom32:d.F6,generateW3CId:l.DO};function U(){return!!(0,s.a8)("chrome")}function K(e,t,n,r,i,o){function s(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var a=new XMLHttpRequest;return r&&s(a,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&s(a,f,n),a.open(e,t,!i),n&&s(a,f,n),!i&&o&&s(a,"timeout",o),a}},63391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BE_PROFILE:()=>m,NRT_PROFILE:()=>g,PostChannel:()=>re,RT_PROFILE:()=>f});var r=n(27421),i=n(29141),o=n(81782),s=n(47954),a=n(87624),c=n(65705),l=n(24869),u=n(49251),d=n(28452),p=n(29339),h=n(87951),f="REAL_TIME",g="NEAR_REAL_TIME",m="BEST_EFFORT",y="POST",v="drop",b="requeue",w="application/x-json-stream",S="cache-control",C="content-type",_="time-delta-millis",k="client-version",P="client-id",I="time-delta-to-apply-millis",E="upload-time",D="apikey",T="AuthMsaDeviceTicket",x="AuthXToken";function R(e){var t=(e.ext||{}).intweb;return t&&(0,c.Sn)(t.msfpc)?t.msfpc:null}function j(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=R(e[n]);return t}var A=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=j(r);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(e){return!!e&&(r.push(e),o||(o=R(e)),!0)},i.split=function(n,i){var s;if(n<r.length){var a=r.length-n;(0,l.le)(i)||(a=i<a?i:a),s=r.splice(n,a),o=j(r)}return new e(t,s)}}return e.create=function(t,n){return new e(t,n)},e}(),O=n(1550),N=2e6,M=Math.min(N,65e3),L=/\./,F=function e(t,n,r,s){var a="baseData",u=!!s,d=n,p={};(0,i.Z)(e,this,(function(e){function n(e,t,i,o,s,a,h){(0,l.rW)(e,(function(e,f){var g=null;if(f||(0,c.Sn)(f)){var m=i,y=e,v=s,b=t;if(u&&!o&&L.test(e)){var w=e.split("."),S=w.length;if(S>1){v&&(v=v.slice());for(var C=0;C<S-1;C++){var _=w[C];b=b[_]=b[_]||{},m+="."+_,v&&v.push(_)}y=w[S-1]}}var k=o&&function(e,t){var n=p[e];return void 0===n&&(e.length>=7&&(n=(0,l.xe)(e,"ext.metadata")||(0,l.xe)(e,"ext.web")),p[e]=n),n}(m);if(g=!k&&d&&d.handleField(m,y)?d.value(m,y,f,r):(0,c.yj)(y,f,r)){var P=g.value;if(b[y]=P,a&&a(v,y,g),h&&"object"==typeof P&&!(0,l.kJ)(P)){var I=v;I&&(I=I.slice()).push(y),n(f,P,m+"."+y,o,I,a,h)}}}}))}e.createPayload=function(e,t,n,r,i,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:o,sendReason:i}},e.appendPayload=function(n,r,i){var s=n&&r&&!n.overflow;return s&&(0,o.Lm)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),o=n.payloadBlob,s=n.numEvents,a=!1,c=[],u=[],d=n.isBeacon,p=d?65e3:3984588,h=d?M:N,f=0,g=0;f<t.length;){var m=t[f];if(m){if(s>=i){n.overflow=r.split(f);break}var y=e.getEventBlob(m);if(y&&y.length<=h){var v=y.length;if(o.length+v>p){n.overflow=r.split(f);break}o&&(o+="\n"),o+=y,++g>20&&(o.substr(0,1),g=0),a=!0,s++}else y?c.push(m):u.push(m),t.splice(f,1),f--}f++}if(c&&c.length>0&&n.sizeExceed.push(A.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(A.create(r.iKey(),u)),a){n.batches.push(r),n.payloadBlob=o,n.numEvents=s;var b=r.iKey();-1===(0,l.UA)(n.apiKeys,b)&&n.apiKeys.push(b)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),s},e.getEventBlob=function(e){try{return(0,o.Lm)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.jM)(e.iKey);var r={},i=e.ext;i&&(t.ext=r,(0,l.rW)(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var o=t.data={};o.baseType=e.baseType;var s=o.baseData={};return n(e.baseData,s,a,!1,[a],(function(e,t,n){U(r,e,t,n)}),!0),n(e.data,o,"data",!1,[],(function(e,t,n){U(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function U(e,t,n,r){if(r&&e){var i=(0,c.Vv)(r.value,r.kind,r.propertyType);if(i>-1){var o=e.metadata;o||(o=e.metadata={f:{}});var s=o.f;if(s||(s=o.f={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var d=s[u].f;d||(d=s[u].f={}),s=d}s=s[n]={},(0,l.kJ)(r.value)?s.a={t:i}:s.t=i}}}function K(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}const W=function e(){var t={};(0,i.Z)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(s=e.split(","),a=[],s&&(0,l.tO)(s,(function(e){a.push((0,l.nd)(e))})),a);if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),o=0;o<r.length;++o)t[r[o]]=(0,l.m6)()+i}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,r=(0,l.nd)(e);return void 0!==n[r]&&n[r]>(0,l.m6)()||(delete n[r],!1)}}))},V=function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",s=!1;(0,i.Z)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,s||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return o},e.setClockSkew=function(e){s||(e?(o=e,n=!0,s=!0):n=!1,t=!0)}}))};var H,B="&NoResponseBody=true",q=((H={})[1]=b,H[100]=b,H[200]="sent",H[8004]=v,H[8003]=v,H),J={},$={};function G(e,t,n){J[e]=t,!1!==n&&($[t]=e)}function z(e){try{return e.responseText}catch(e){}return""}function Y(e,t){var n=!1;if(e&&t){var r=(0,l.FY)(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&(0,l.nr)(t,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function Q(e,t,n,r){t&&n&&n.length>0&&(r&&J[t]?(e.hdrs[J[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}G(T,T,!1),G(k,k),G(P,"Client-Id"),G(D,D),G(I,I),G(E,E),G(x,x);var X=function e(t,n,r,s,a){this._responseHandlers=[];var d,h,f,g,m,b,T="?cors=true&"+C.toLowerCase()+"="+w,x=new W,R=!1,j=new V,A=!1,N=0,M=!0,L=[],U={},H=[],J=null,G=!1,X=!1,Z=!1;(0,i.Z)(e,this,(function(e){var i=!0;function W(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?(0,u.cp)()?r=V:(0,u.Z3)()&&(r=te):2===n&&(0,u.JO)(t)?r=ee:A&&3===n&&(0,u.MF)()&&(r=re),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function V(e,t,n){var r=new XDomainRequest;r.open(y,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=z(r);ne(t,200,{},e),fe(e)},r.onerror=function(){ne(t,400,{})},r.ontimeout=function(){ne(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a.set((function(){r.send(e.data)}),0)}function ee(e,t,n){var r,o=e.urlString,s=!1,c=!1,u=((r={body:e.data,method:y}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(u.keepalive=!0,2===e._sendReason&&(s=!0,o+=B)),i&&(u.credentials="include"),e.headers&&(0,l.FY)(e.headers).length>0&&(u.headers=e.headers),fetch(o,u).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),c||(c=!0,ne(t,e.status,n,r),fe(r))})).catch((function(e){c||(c=!0,ne(t,0,{}))})),s&&!c&&(c=!0,ne(t,200,{})),!c&&e.timeout>0&&a.set((function(){c||(c=!0,ne(t,500,{}))}),e.timeout)}function te(e,t,n){var r=e.urlString;function o(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=(0,l.nd)(r))}return e}function s(e,n){ne(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if((0,l.HD)(e)){var n=(0,l.nd)(e).split(/[\r\n]+/);(0,l.tO)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=(0,l.nd)(e.substring(0,n)).toLowerCase(),i=(0,l.nd)(e.substring(n+1));t[r]=i}else t[(0,l.nd)(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=o(t,e,_),t=o(t,e,"kill-duration"),t=o(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var a=(0,c.ot)(y,r,i,!0,n,e.timeout);(0,l.rW)(e.headers,(function(e,t){a.setRequestHeader(e,t)})),a.onload=function(){var e=z(a);s(a,e),fe(e)},a.onerror=function(){s(a)},a.ontimeout=function(){s(a)},a.send(e.data)}function ne(e,t,n,r){try{e(t,n,r)}catch(e){(0,p.kP)(d.diagLog(),2,518,(0,u.eU)(e))}}function re(e,t,n){var r=200,i=e._thePayload,o=e.urlString+B;try{var s=(0,u.jW)();if(!s.sendBeacon(o,e.data))if(i){var a=[];(0,l.tO)(i.batches,(function(e){if(a&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(o,J.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))})),ge(a,8003,i.sendType,!0)}else r=0}catch(e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,u.eU)(e)),r=0}finally{ne(t,r,{},"")}}function ie(e){return 2===e||3===e}function oe(e){return X&&ie(e)&&(e=2),e}function se(){return!R&&N<n}function ae(){var e=H;return H=[],e}function ce(e,t,n){var r=!1;return e&&e.length>0&&!R&&h[t]&&J&&(r=0!==t||se()&&(n>0||j.allowRequestSending())),r}function le(e){var t={};return e&&(0,l.tO)(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function ue(e,n,r,i,s){if(e&&0!==e.length)if(R)ge(e,1,i);else{i=oe(i);try{var a=e,l=0!==i;(0,o.Lm)(f,(function(){return"HttpManager:_sendBatches"}),(function(o){o&&(e=e.slice(0));for(var a=[],d=null,p=(0,c.hK)(),f=h[i]||(l?h[1]:h[0]),g=(X||ie(i)||f&&3===f._transport)&&!M&&A&&(0,u.MF)();ce(e,i,n);){var m=e.shift();m&&m.count()>0&&(x.isTenantKilled(m.iKey())?a.push(m):(d=d||J.createPayload(n,r,l,g,s,i),J.appendPayload(d,m,t)?null!==d.overflow&&(e=[d.overflow].concat(e),d.overflow=null,pe(d,p,(0,c.hK)(),s),p=(0,c.hK)(),d=null):(pe(d,p,(0,c.hK)(),s),p=(0,c.hK)(),e=[m].concat(e),d=null)))}d&&pe(d,p,(0,c.hK)(),s),e.length>0&&(H=e.concat(H)),ge(a,8004,i)}),(function(){return{batches:le(a),retryCount:n,isTeardown:r,isSynchronous:l,sendReason:s,useSendBeacon:ie(i),sendType:i}}),!l)}catch(e){(0,p.kP)(d.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,u.eU)(e))}}}function de(e,t,n){e[t]=e[t]||{},e[t][d.identifier]=n}function pe(t,n,i,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var a=!!e.sendHook,p=h[t.sendType];!ie(t.sendType)&&t.isBeacon&&2===t.sendReason&&(p=h[2]||h[3]||p);var g=Z;(t.isBeacon||3===p._transport)&&(g=!1);var y=function(e,t){var n={url:T,hdrs:{},useHdrs:!1};t?(n.hdrs=(0,c.l7)(n.hdrs,U),n.useHdrs=(0,l.FY)(n.hdrs).length>0):(0,l.rW)(U,(function(e,t){$[e]?Q(n,$[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),Q(n,P,"NO_AUTH",t),Q(n,k,c.vs,t);var r="";(0,l.tO)(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),Q(n,D,r,t),Q(n,E,(0,l.m6)().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if((0,c.Sn)(i)&&(n.url+="&ext.intweb.msfpc="+i),j.shouldAddClockSkewHeaders()&&Q(n,I,j.getClockSkewHeaderValue(),t),f.getWParam){var o=f.getWParam();o>=0&&(n.url+="&w="+o)}for(var s=0;s<L.length;s++)n.url+="&"+L[s].name+"="+L[s].value;return n}(t,g);g=g||y.useHdrs;var v=(0,c.hK)();(0,o.Lm)(f,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var h=0;h<t.batches.length;h++)for(var k=t.batches[h].events(),P=0;P<k.length;P++){var I=k[P];if(G){var E=I.timings=I.timings||{};de(E,"sendEventStart",v),de(E,"serializationStart",n),de(E,"serializationCompleted",i)}I.sendAttempt>0?I.sendAttempt++:I.sendAttempt=1}ge(t.batches,1e3+(s||0),t.sendType,!0);var D={data:t.payloadBlob,urlString:y.url,headers:y.hdrs,_thePayload:t,_sendReason:s,timeout:m};(0,l.o8)(b)||(D.disableXhrSync=!!b),g&&(Y(D.headers,S)||(D.headers[S]="no-cache, no-store"),Y(D.headers,C)||(D.headers["content-type"]=w));var T=null;p&&(T=function(n){j.firstRequestSent();var i=function(n,i){!function(t,n,i,o){var s,a=9e3,u=null,p=!1,h=!1;try{var f=!0;if(typeof t!==O.jA){if(n){j.setClockSkew(n[_]);var g=n["kill-duration"]||n["kill-duration-seconds"];(0,l.tO)(x.setKillSwitchTenants(n["kill-tokens"],g),(function(e){(0,l.tO)(i.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);i.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(a=200);((s=t)>=300&&s<500&&408!=s&&429!=s||501==s||505==s||i.numEvents<=0)&&(f=!1),a=9e3+t%1e3}if(f){a=100;var m=i.retryCnt;0===i.sendType&&(m<r?(p=!0,he((function(){0===i.sendType&&N--,ue(i.batches,m+1,i.isTeardown,X?2:i.sendType,5)}),X,K(m))):(h=!0,X&&(a=8001)))}}finally{p||(j.setClockSkew(),function(t,n,r,i){try{i&&d._backOffTransmission(),200===n&&(i||t.isSync||d._clearBackOff(),function(e){if(G){var t=(0,c.hK)();(0,l.tO)(e,(function(e){e&&e.count()>0&&function(e,t){G&&(0,l.tO)(e,(function(e){de(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),ge(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(N--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(i,a,o,h)),ge(u,8004,i.sendType)}}(n,i,t,s)},o=t.isTeardown||t.isSync;try{p.sendPOST(n,i,o),e.sendListener&&e.sendListener(D,n,o,t.isBeacon)}catch(e){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,u.eU)(e)),ne(i,0,{})}}),(0,o.Lm)(f,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(T)if(0===t.sendType&&N++,a&&!t.isBeacon&&3!==p._transport){var n={data:D.data,urlString:D.urlString,headers:(0,c.l7)({},D.headers),timeout:D.timeout,disableXhrSync:D.disableXhrSync},r=!1;(0,o.Lm)(f,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,M||e._thePayload||(e._thePayload=e._thePayload||D._thePayload,e._sendReason=e._sendReason||D._sendReason),T(e)}),t.isSync||t.isTeardown)}catch(e){r||T(D)}}))}else T(D)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&ge(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&ge(t.failedEvts,8002,t.sendType)}function he(e,t,n){t?e():a.set(e,n)}function fe(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){(0,p.kP)(d.diagLog(),1,519,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);(0,c.Sn)(i.webResult)&&(0,c.Sn)(i.webResult.msfpc)&&g.set("MSFPC",i.webResult.msfpc,31536e3)}}catch(e){}}function ge(e,t,n,r){if(e&&e.length>0&&s){var i=s[(l=t,u=q[l],(0,c.Sn)(u)||(u="oth",l>=9e3&&l<=9999?u="rspFail":l>=8e3&&l<=8999?u=v:l>=1e3&&l<=1999&&(u="send")),u)];if(i){var a=0!==n;(0,o.Lm)(f,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){he((function(){try{i.call(s,e,t,a,n)}catch(e){(0,p.kP)(d.diagLog(),1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:le(e),reason:t,isSync:a,sendSync:r,sendType:n}}),!a)}}var l,u}e.initialize=function(e,t,n,r,o){var s;o||(o={}),T=e+T,Z=!!(0,l.o8)(o.avoidOptions)||!o.avoidOptions,f=t,g=t.getCookieMgr(),G=!f.config.disableEventTimings;var a=!!f.config.enableCompoundKey;d=n;var c=o.valueSanitizer,p=o.stringifyObjects;(0,l.o8)(o.enableCompoundKey)||(a=!!o.enableCompoundKey),m=o.xhrTimeout,b=o.disableXhrSync,A=!(0,u.b$)(),J=new F(f,c,p,a);var y=r,v=o.alwaysUseXhrOverride?r:null,w=o.alwaysUseXhrOverride?r:null;if(!r){M=!1;var S=(0,u.k$)();S&&S.protocol&&"file:"===S.protocol.toLowerCase()&&(i=!1);var C=[];C=(0,u.b$)()?[2,1]:[1,2,3];var _=o.transports;_&&((0,l.hj)(_)?C=[_].concat(C):(0,l.kJ)(_)&&(C=_.concat(C))),r=W(C,!1),y=W(C,!0),r||d.diagLog().warnToConsole("No available transport to send events")}(s={})[0]=r,s[1]=y||W([1,2,3],!0),s[2]=v||W([3,2],!0)||y||W([1],!0),s[3]=w||W([2,3],!0)||y||W([1],!0),h=s},e._getDbgPlgTargets=function(){return[h[0],x,J,h]},e.addQueryStringParameter=function(e,t){for(var n=0;n<L.length;n++)if(L[n].name===e)return void(L[n].value=t);L.push({name:e,value:t})},e.addHeader=function(e,t){U[e]=t},e.canSendRequest=function(){return se()&&j.allowRequestSending()},e.sendQueuedRequests=function(e,t){(0,l.o8)(e)&&(e=0),X&&(e=oe(e),t=2),ce(H,e,0)&&ue(ae(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!R&&0===N&&0===H.length},e.setUnloading=function(e){X=e},e.addBatch=function(e){if(e&&e.count()>0){if(x.isTenantKilled(e.iKey()))return!1;H.push(e)}return!0},e.teardown=function(){H.length>0&&ue(ae(),0,!0,2,2)},e.pause=function(){R=!0},e.resume=function(){R=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&((0,l.le)(t)&&(t=1),X&&(t=oe(t),n=2),ue([e],0,!1,t,n||0))}}))};function Z(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function ee(e){clearTimeout(e)}function te(e,t){return{set:e||Z,clear:t||ee}}var ne="eventsDiscarded";const re=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var h,y,v,b,w,S,C,_=!1,k=[],P=null,I=!1,E=0,D=500,x=0,R=1e4,j={},O=f,N=null,M=null,L=0,F=0,U={},W=-1,V=!0,H=!1,B=6,q=2;return(0,i.Z)(t,r,(function(e,t){function r(e){"beforeunload"!==(e||(0,u.Jj)().event).type&&(H=!0,y.setUnloading(H)),ee(2,2)}function i(e){H=!1,y.setUnloading(H)}function J(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,V&&(e.ext=(0,l.Ax)(e.ext),e.baseData&&(e.baseData=(0,l.Ax)(e.baseData)),e.data&&(e.data=(0,l.Ax)(e.data))),e.sync)if(L||I)e.latency=3,e.sync=!1;else if(y)return V&&(e=(0,l.Ax)(e)),void y.sendSynchronousBatch(A.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=x,i=R;4===n&&(r=E,i=D);var o=!1;if(r<i)o=!oe(e,t);else{var s=1,a=20;4===n&&(s=4,a=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=re(e,t,!0);if(i&&i.count()>0){var o=i.split(0,r),s=o.count();if(s>0)return 4===n?E-=s:x-=s,fe(ne,[o],d.h.QueueFull),!0}n++}return se(),!1}(e.iKey,e.latency,s,a)&&(o=!oe(e,t))}o&&he(ne,[e],d.h.QueueFull)}function $(e,t,n){var r=ae(e,t,n);return y.sendQueuedRequests(t,n),r}function G(){return x>0}function z(){if(W>=0&&ae(W,0,w)&&y.sendQueuedRequests(0,w),E>0&&!M&&!I){var e=j[O][2];e>=0&&(M=Q((function(){M=null,$(4,0,1),z()}),e))}var t=j[O][1];!N&&!P&&t>=0&&!I&&(G()?N=Q((function(){N=null,$(0===F?3:1,0,1),F++,F%=2,z()}),t):F=0)}function Y(){n=null,_=!1,k=[],P=null,I=!1,E=0,D=500,x=0,R=1e4,j={},O=f,N=null,M=null,L=0,F=0,h=null,U={},v=void 0,b=0,W=-1,w=null,V=!0,H=!1,B=6,q=2,S=null,C=te(),y=new X(500,2,1,{requeue:de,send:ge,sent:me,drop:ye,rspFail:ve,oth:be},C),ue(),U[4]={batches:[],iKeyMap:{}},U[3]={batches:[],iKeyMap:{}},U[2]={batches:[],iKeyMap:{}},U[1]={batches:[],iKeyMap:{}},we()}function Q(e,t){0===t&&L&&(t=1);var n=1e3;return L&&(n=K(L-1)),C.set(e,t*n)}function Z(){return null!==N&&(C.clear(N),N=null,F=0,!0)}function ee(e,t){Z(),P&&(C.clear(P),P=null),I||$(1,e,t)}function re(e,t,n){var r=U[t];r||(r=U[t=1]);var i=r.iKeyMap[e];return!i&&n&&(i=A.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function ie(t,n){y.canSendRequest()&&!L&&(v>0&&x>v&&(n=!0),n&&null==P&&e.flush(t,null,20))}function oe(e,t){V&&(e=(0,l.Ax)(e));var n=e.latency,r=re(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(x++,t&&0===e.sendAttempt&&ie(!e.sync,b>0&&r.count()>=b)):E++,!0)}function se(){for(var e=0,t=0,n=function(n){var r=U[n];r&&r.batches&&(0,l.tO)(r.batches,(function(r){4===n?e+=r.count():t+=r.count()}))},r=1;r<=4;r++)n(r);x=t,E=e}function ae(t,n,r){var i=!1,s=0===n;return!s||y.canSendRequest()?(0,o.Lm)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=U[n];r&&r.batches&&r.batches.length>0&&((0,l.tO)(r.batches,(function(t){y.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===n?E-=t.count():x-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&he(ne,e,d.h.KillSwitch),i&&W>=t&&(W=-1,w=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!s):(W=W>=0?Math.min(W,t):t,w=Math.max(w,r)),i}function ce(e,t){$(1,0,t),se(),le((function(){e&&e(),k.length>0?P=Q((function(){P=null,ce(k.shift(),t)}),0):(P=null,z())}))}function le(e){y.isCompletelyIdle()?e():P=Q((function(){P=null,le(e)}),.25)}function ue(){(j={})[f]=[2,1,0],j[g]=[6,3,0],j[m]=[18,9,0]}function de(t,n){var r=[],i=B;H&&(i=q),(0,l.tO)(t,(function(t){t&&t.count()>0&&(0,l.tO)(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?((0,c.if)(t,e.identifier),J(t,!1)):r.push(t))}))})),r.length>0&&he(ne,r,d.h.NonRetryableStatus),H&&ee(2,2)}function pe(t,n){var r=e._notificationManager||{},i=r[t];if(i)try{i.apply(r,n)}catch(n){(0,p.kP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function he(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&pe(e,[t].concat(n))}function fe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&(0,l.tO)(t,(function(t){t&&t.count()>0&&pe(e,[t.events()].concat(n))}))}function ge(e,t,n){e&&e.length>0&&pe("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function me(e,t){fe("eventsSent",e,t),z()}function ye(e,t){fe(ne,e,t>=8e3&&t<=8999?t-8e3:d.h.Unknown)}function ve(e){fe(ne,e,d.h.NonRetryableStatus),z()}function be(e,t){fe(ne,e,d.h.Unknown),z()}function we(){b=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,R/6)}Y(),e._getDbgPlgTargets=function(){return[y]},e.initialize=function(u,d,p){(0,o.Lm)(d,(function(){return"PostChannel:initialize"}),(function(){var o=d;t.initialize(u,d,p);try{d.addUnloadCb,S=(0,s.jU)((0,a.J)(e.identifier),d.evtNamespace&&d.evtNamespace());var f=e._getTelCtx();u.extensionConfig[e.identifier]=u.extensionConfig[e.identifier]||{},n=f.getExtCfg(e.identifier),C=te(n.setTimeoutOverride,n.clearTimeoutOverride),V=!n.disableOptimizeObj&&(0,c.mJ)(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(o),n.eventsLimitInMem>0&&(R=n.eventsLimitInMem),n.immediateEventLimit>0&&(D=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(v=n.autoFlushEventsLimit),(0,l.hj)(n.maxEventRetryAttempts)&&(B=n.maxEventRetryAttempts),(0,l.hj)(n.maxUnloadEventRetryAttempts)&&(q=n.maxUnloadEventRetryAttempts),we(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(h=n.httpXHROverride),(0,c.Sn)(u.anonCookieName)&&y.addQueryStringParameter("anoncknm",u.anonCookieName),y.sendHook=n.payloadPreprocessor,y.sendListener=n.payloadListener;var g=n.overrideEndpointUrl?n.overrideEndpointUrl:u.endpointUrl;e._notificationManager=u.extensionConfig.NotificationManager,y.initialize(g,e.core,e,h,n);var m=u.disablePageUnloadEvents||[];(0,s.c9)(r,m,S),(0,s.TJ)(r,m,S),(0,s.nD)(i,u.disablePageShowEvents,S)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:u,core:d,extensions:p}}))},e.processTelemetry=function(t,r){(0,c.if)(t,e.identifier);var i=(r=e._getTelCtx(r)).getExtCfg(e.identifier),o=!!n.disableTelemetry;i&&(o=o||!!i.disableTelemetry);var s=t;o||_||(n.overrideInstrumentationKey&&(s.iKey=n.overrideInstrumentationKey),i&&i.overrideInstrumentationKey&&(s.iKey=i.overrideInstrumentationKey),J(s,!0),H?ee(2,2):z()),e.processNext(s,r)},e._doTeardown=function(e,t){ee(2,2),_=!0,y.teardown(),(0,s.JA)(null,S),(0,s.C9)(null,S),(0,s.Yl)(null,S),Y()},e.setEventQueueLimits=function(e,t){R=e>0?e:1e4,v=t>0?t:0,we();var n=x>e;if(!n&&b>0)for(var r=1;!n&&r<=3;r++){var i=U[r];i&&i.batches&&(0,l.tO)(i.batches,(function(e){e&&e.count()>=b&&(n=!0)}))}ie(!0,n)},e.pause=function(){Z(),I=!0,y.pause()},e.resume=function(){I=!1,y.resume(),z()},e.addResponseHandler=function(e){y._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){Z(),ue(),O=f,z(),(0,l.rW)(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),j[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!I)if(n=n||1,e)null==P?(Z(),ae(1,0,n),P=Q((function(){P=null,ce(t,n)}),0)):k.push(t);else{var r=Z();$(1,1,n),null!=t&&t(),r&&z()}},e.setMsaAuthTicket=function(e){y.addHeader(T,e)},e.hasEvents=G,e._setTransmitProfile=function(e){O!==e&&void 0!==j[e]&&(Z(),O=e,z())},e._backOffTransmission=function(){L<4&&(L++,Z(),z())},e._clearBackOff=function(){L&&(L=0,Z(),z())},(0,l.l_)(e,"_setTimeoutOverride",(function(){return C.set}),(function(e){C=te(e,C.clear)})),(0,l.l_)(e,"_clearTimeoutOverride",(function(){return C.clear}),(function(e){C=te(C.set,e)}))})),r}return(0,r.ne)(t,e),t}(h.i)},50951:(e,t,n)=>{"use strict";n.d(t,{By:()=>i});var r=n(24869);function i(e){var t={};return(0,r.rW)(e,(function(e,n){t[e]=n,t[n]=e})),(0,r._A)(t)}},28452:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=(0,n(50951).By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},87951:(e,t,n)=>{"use strict";n.d(t,{i:()=>l});var r=n(29141),i=n(31030),o=n(24869),s=n(61733),a=n(38593),c=n(96335),l=function e(){var t,n,l,u,d,p=this;function h(e){void 0===e&&(e=null);var t=e;if(!t){var r=n||(0,i.CD)(null,{},p.core);t=l&&l.getPlugin?r.createNew(null,l.getPlugin):r.createNew(null,l)}return t}function f(e,t,r){e&&(0,o.sO)(e,s.F,[],null,o.le),!r&&t&&(r=t.getProcessTelContext().getNext());var a=l;l&&l.getPlugin&&(a=l.getPlugin()),p.core=t,n=(0,i.CD)(r,e,t,a)}function g(){t=!1,p.core=null,n=null,l=null,d=[],u=(0,a.Y)()}g(),(0,r.Z)(e,p,(function(e){e.initialize=function(e,n,r,i){f(e,n,i),t=!0},e.teardown=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var s,a=!1,p=t||(0,i.Bt)(null,r,l&&l.getPlugin?l.getPlugin():l),h=n||{reason:0,isAsync:!1};return e[c.Ho]&&!0===e[c.Ho](p,h,f)?s=!0:f(),s}function f(){a||(a=!0,u.run(p,n),(0,o.tO)(d,(function(e){e.rm()})),d=[],!0===s&&p.processNext(h),g())}},e.update=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var o,s=!1,a=t||(0,i.xy)(null,r,l&&l.getPlugin?l.getPlugin():l),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(a,c,u)?o=!0:u(),o}function u(){s||(s=!0,f(a.getCfg(),a.core(),a.getNext()))}},e._addHook=function(e){e&&((0,o.kJ)(e)?d=d.concat(e):d.push(e))},(0,o.Oi)(e,"_addUnloadCb",(function(){return u}),"add")})),p.diagLog=function(e){return h(e).diagLog()},p[c.Vr]=function(){return t},p.setInitialized=function(e){t=e},p[c.El]=function(e){l=e},p.processNext=function(e,t){t?t.processNext(e):l&&(0,o.mf)(l.processTelemetry)&&l.processTelemetry(e,null)},p._getTelCtx=h}},61733:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,z:()=>r});var r="iKey",i="extensionConfig"},88140:(e,t,n)=>{"use strict";n.d(t,{JP:()=>y,Nz:()=>v,UY:()=>P,kj:()=>g,p7:()=>b});var r=n(49251),i=n(24869),o=n(96335),s=n(29339),a="toGMTString",c="toUTCString",l=null,u=null,d=null,p=(0,r.Me)(),h={},f={};function g(e,t){var n=v._ckMgr||f._ckMgr;return n||(n=v._ckMgr=v(e,t),f._ckMgr=n),n}function m(e){return!e||e.isEnabled()}function y(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:v(t)}return n||(n=g(t,(e||{}).logger)),n}function v(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if((0,i.sO)(t,"domain",e.cookieDomain,i.BX,i.le),(0,i.sO)(t,"path",e.cookiePath||"/",null,i.le),(0,i.le)(t.enabled)){var n=void 0;(0,i.o8)(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),(0,i.o8)(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||f),s=n.path||"/",l=n.domain,d=!1!==n.enabled,p={isEnabled:function(){var e=d&&b(t),n=f._ckMgr;return e&&n&&p!==n&&(e=m(n)),e},setEnabled:function(e){d=!1!==e},set:function(e,t,d,h,f){var g=!1;if(m(p)){var y={},v=(0,i.nd)(t||o.SM),b=v.indexOf(";");if(-1!==b&&(v=(0,i.nd)(t.substring(0,b)),y=w(t.substring(b+1))),(0,i.sO)(y,"domain",h||l,i.fQ,i.o8),!(0,i.le)(d)){var _=(0,r.w1)();if((0,i.o8)(y.expires)){var I=(0,i.m6)()+1e3*d;if(I>0){var E=new Date;E.setTime(I),(0,i.sO)(y,"expires",S(E,_?a:c)||S(E,_?a:c)||o.SM,i.fQ)}}_||(0,i.sO)(y,"max-age",o.SM+d,null,i.o8)}var D=(0,r.k$)();D&&"https:"===D.protocol&&((0,i.sO)(y,"secure",null,null,i.o8),null===u&&(u=!P(((0,r.jW)()||{}).userAgent)),u&&(0,i.sO)(y,"SameSite","None",null,i.o8)),(0,i.sO)(y,"path",f||s,null,i.o8),(n.setCookie||k)(e,C(v,y)),g=!0}return g},get:function(e){var t=o.SM;return m(p)&&(t=(n.getCookie||_)(e)),t},del:function(e,t){var n=!1;return m(p)&&(n=p.purge(e,t)),n},purge:function(e,i){var s,a=!1;if(b(t)){var c=((s={}).path=i||"/",s.expires="Thu, 01 Jan 1970 00:00:01 GMT",s);(0,r.w1)()||(c["max-age"]="0"),(n.delCookie||k)(e,C(o.SM,c)),a=!0}return a}};return p._ckMgr=p,p}function b(e){if(null===l){l=!1;try{l=void 0!==(p||{}).cookie}catch(t){(0,s.kP)(e,2,68,"Cannot access document.cookie - "+(0,i.jj)(t),{exception:(0,r.eU)(t)})}}return l}function w(e){var t={};if(e&&e.length){var n=(0,i.nd)(e).split(";");(0,i.tO)(n,(function(e){if(e=(0,i.nd)(e||o.SM)){var n=e.indexOf("=");-1===n?t[e]=null:t[(0,i.nd)(e.substring(0,n))]=(0,i.nd)(e.substring(n+1))}}))}return t}function S(e,t){return(0,i.mf)(e[t])?e[t]():null}function C(e,t){var n=e||o.SM;return(0,i.rW)(t,(function(e,t){n+="; "+e+((0,i.le)(t)?o.SM:"="+t)})),n}function _(e){var t=o.SM;if(p){var n=p.cookie||o.SM;d!==n&&(h=w(n),d=n),t=(0,i.nd)(h[e]||o.SM)}return t}function k(e,t){p&&(p.cookie=e+"="+t)}function P(e){return!(!(0,i.HD)(e)||!(0,i._Q)(e,"CPU iPhone OS 12")&&!(0,i._Q)(e,"iPad; CPU OS 12")&&!((0,i._Q)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,i._Q)(e,"Version/")&&(0,i._Q)(e,"Safari"))&&(!(0,i._Q)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,i.Id)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,i._Q)(e,"Chrome/5")&&!(0,i._Q)(e,"Chrome/6")&&(!(0,i._Q)(e,"UnrealEngine")||(0,i._Q)(e,"Chrome"))&&!(0,i._Q)(e,"UCBrowser/12")&&!(0,i._Q)(e,"UCBrowser/11"))}},28956:(e,t,n)=>{"use strict";n.d(t,{DO:()=>f,GW:()=>p,Jj:()=>h,zB:()=>y});var r,i=n(30175),o=n(88140),s=n(49251),a=n(24869),c=n(47954),l=n(19406),u=n(96335),d=null;function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(m,(function(e){var t=0|(0,l.az)(15);return("x"===e?t:3&t|8).toString(16)}))}function h(){var e=(0,s.r)();return e&&e.now?e.now():(0,a.m6)()}function f(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=u.SM,r=0;r<4;r++)n+=t[15&(e=(0,l._l)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&(0,l._l)())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var g={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:i.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:c.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:function(){var e,t,n,i;(n=(0,o.kj)(e,t),i=g._canUseCookies,null===d&&(d=[],r=i,(0,a.l_)(g,"_canUseCookies",(function(){return r}),(function(e){r=e,(0,a.tO)(d,(function(t){t.setEnabled(e)}))}))),-1===(0,a.UA)(d,n)&&d.push(n),(0,a.jn)(i)&&n.setEnabled(i),(0,a.jn)(r)&&n.setEnabled(r),n).setEnabled(!1)},newGuid:p,perfNow:h,newId:l.pZ,randomValue:l.az,random32:l._l,mwcRandomSeed:l.CN,mwcRandom32:l.F6,generateW3CId:f},m=/[xy]/g,y={Attach:c.pZ,AttachEvent:c.pZ,Detach:c.pD,DetachEvent:c.pD}},87624:(e,t,n)=>{"use strict";n.d(t,{J:()=>u,K:()=>d});var r=n(1550),i=n(24869),o=n(19406),s=r.RJ,a="."+(0,o.pZ)(6),c=0;function l(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function u(e,t){return void 0===t&&(t=!1),(0,i.Gf)(e+c+++(t?".2.8.4":"")+a)}function d(e){var t={id:u("_aiData-"+(e||"")+".2.8.4"),accept:function(e){return l(e)},get:function(e,n,r,o){var a=e[t.id];return a?a[(0,i.Gf)(n)]:(o&&((a=function(e,t){var n=t[e.id];if(!n){n={};try{l(t)&&(function(e,t,n){if(s)try{return s(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[(0,i.Gf)(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},28341:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,p:()=>l});var r,i=n(49251),o=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],s=null;function a(e,t){return function(){var n=arguments,r=c(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function c(e){var t,n=s;return n||!0===e.disableDbgExt||(n=s||((t=(0,i.a8)("Microsoft"))&&(s=t.ApplicationInsights),s)),n?n.ChromeDbgExt:null}function l(e){if(!r){r={};for(var t=0;t<o.length;t++)r[o[t]]=a(o[t],e)}return r}},29339:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>p,jV:()=>f,kP:()=>h,lQ:()=>u,vH:()=>d});var r=n(49251),i=n(29141),o=n(24869),s=n(28341),a=n(96335);function c(e){return e?'"'+e.replace(/\"/g,a.SM)+'"':a.SM}function l(e,t){var n=(0,r.dr)();if(n){var i="log";n[e]&&(i=e),(0,o.mf)(n[i])&&n[i](t)}}var u=function(){function e(e,t,n,i){void 0===n&&(n=!1);var o=this;o.messageId=e,o.message=(n?"AI: ":"AI (Internal): ")+e;var s=a.SM;(0,r.nS)()&&(s=(0,r.xA)().stringify(i));var l=(t?" message:"+c(t):a.SM)+(i?" props:"+c(s):a.SM);o.message+=l}return e.dataType="MessageData",e}();function d(e,t){return(e||{}).logger||new p(t)}var p=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,a={};(0,i.Z)(e,this,(function(e){function i(e,n){var r=t[e];return(0,o.le)(r)?n:r}function c(e,n){var r=(0,s.j)(t);r&&r.diagLog&&r.diagLog(e,n)}(0,o.le)(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,s,l){void 0===l&&(l=!1);var d=new u(n,i,l,s);if(e.enableDebugExceptions())throw(0,r.eU)(d);var p=1===t?"errorToConsole":"warnToConsole";if((0,o.o8)(d.message))c("throw"+(1===t?"Critical":"Warning"),d);else{var h=e.consoleLoggingLevel();if(l){var f=+d.messageId;!a[f]&&h>=t&&(e[p](d.message),a[f]=!0)}else h>=t&&e[p](d.message);e.logInternalMessage(t,d)}},e.warnToConsole=function(e){l("warn",e),c("warning",e)},e.errorToConsole=function(e){l("error",e),c("error",e)},e.resetInternalMessageCount=function(){n=0,a={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var i=!0,o="AITR_"+r.messageId;if(a[o]?i=!1:a[o]=!0,i&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++,c(1===t?"error":"warn",r)),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",l=new u(23,s,!1);e.queue.push(l),1===t?e.errorToConsole(s):e.warnToConsole(s)}}}}))};function h(e,t,n,r,i,o){void 0===o&&(o=!1),(e||new p).throwInternal(t,n,r,i,o)}function f(e,t){(function(e){return e||new p})(e).warnToConsole(t)}},49251:(e,t,n)=>{"use strict";n.d(t,{JO:()=>K,Jj:()=>S,MF:()=>U,MX:()=>A,Me:()=>_,Nv:()=>C,Ym:()=>w,Z3:()=>V,a8:()=>b,b$:()=>N,cp:()=>W,d6:()=>k,dI:()=>v,dr:()=>T,eU:()=>F,ed:()=>B,fE:()=>I,gz:()=>O,jW:()=>P,k$:()=>D,nS:()=>R,pI:()=>q,r:()=>x,s1:()=>E,sA:()=>L,w1:()=>M,xA:()=>j});var r=n(1550),i=n(30175),o=n(96335),s=n(24869),a="window",c="JSON",l="msie",u="trident/",d="XMLHttpRequest",p=null,h=null,f=!1,g=null,m=null;function y(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[r.hB];i&&(n=t in i)}}catch(e){}if(!n)try{var o=new e;n=!(0,s.o8)(o[t])}catch(e){}}return n}function v(e){f=e}function b(e){var t=(0,i.Rd)();return t&&t[e]?t[e]:e===a&&w()?window:null}function w(){return Boolean(typeof window===r.fK&&window)}function S(){return w()?window:b(a)}function C(){return Boolean(typeof document===r.fK&&document)}function _(){return C()?document:b("document")}function k(){return Boolean(typeof navigator===r.fK&&navigator)}function P(){return k()?navigator:b("navigator")}function I(){return Boolean(typeof history===r.fK&&history)}function E(){return I()?history:b("history")}function D(e){if(e&&f){var t=b("__mockLocation");if(t)return t}return typeof location===r.fK&&location?location:b("location")}function T(){return typeof console!==r.jA?console:b("console")}function x(){return b("performance")}function R(){return Boolean(typeof JSON===r.fK&&JSON||null!==b(c))}function j(){return R()?JSON||b(c):null}function A(){return b("crypto")}function O(){return b("msCrypto")}function N(){var e=P();return!(!e||!e.product)&&"ReactNative"===e.product}function M(){var e=P();if(e&&(e.userAgent!==h||null===p)){var t=((h=e.userAgent)||o.SM).toLowerCase();p=(0,s._Q)(t,l)||(0,s._Q)(t,u)}return p}function L(e){if(void 0===e&&(e=null),!e){var t=P()||{};e=t?(t.userAgent||o.SM).toLowerCase():o.SM}var n=(e||o.SM).toLowerCase();if((0,s._Q)(n,l)){var r=_()||{};return Math.max(parseInt(n.split(l)[1]),r.documentMode||0)}if((0,s._Q)(n,u)){var i=parseInt(n.split(u)[1]);if(i)return i+4}return null}function F(e){var t=Object[r.hB].toString.call(e),n=o.SM;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":R()&&(n=j().stringify(e)),t+n}function U(){return null===m&&(m=k()&&Boolean(P().sendBeacon)),m}function K(e){var t=!1;try{t=!!b("fetch");var n=b("Request");t&&e&&n&&(t=y(n,"keepalive"))}catch(e){}return t}function W(){return null===g&&(g=typeof XDomainRequest!==r.jA)&&V()&&(g=g&&!y(b(d),"withCredentials")),g}function V(){var e=!1;try{e=!!b(d)}catch(e){}return e}function H(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.name&&r.name===t)return r}return{}}function B(e){var t=_();return t&&e?H(t.querySelectorAll("meta"),e).content:null}function q(e){var t,n=x();if(n){var r=n.getEntriesByType("navigation")||[];t=H((r.length>0?r[0]:{}).serverTiming,e).description}return t}},47954:(e,t,n)=>{"use strict";n.d(t,{C1:()=>R,C9:()=>F,Ib:()=>x,JA:()=>M,QY:()=>E,TJ:()=>L,XO:()=>I,Yl:()=>K,c9:()=>N,jU:()=>P,nD:()=>U,nJ:()=>O,pD:()=>T,pZ:()=>D,um:()=>S,yw:()=>A});var r=n(87624),i=n(49251),o=n(24869),s="events",a="visibilitychange",c="pagehide",l="pageshow",u="unload",d="beforeunload",p=(0,r.J)("aiEvtPageHide"),h=(0,r.J)("aiEvtPageShow"),f=/\.[\.]+/g,g=/[\.]+$/,m=1,y=(0,r.K)("events"),v=/^([^.]*)(?:\.(.+)|)/;function b(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function w(e,t){if(t){var n="";(0,o.kJ)(t)?(n="",(0,o.tO)(t,(function(e){(e=b(e))&&("."!==e[0]&&(e="."+e),n+=e)}))):n=b(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var r=v.exec(e||"")||[];return{type:r[1],ns:(r[2]||"").replace(f,".").replace(g,"").split(".").sort().join(".")}}function S(e,t,n){var r=[],i=y.get(e,s,{},!1),a=w(t,n);return(0,o.rW)(i,(function(e,t){(0,o.tO)(t,(function(e){a.type&&a.type!==e.evtName.type||a.ns&&a.ns!=a.ns||r.push({name:e.evtName.type+(e.evtName.ns?"."+e.evtName.ns:""),handler:e.handler})}))})),r}function C(e,t,n){void 0===n&&(n=!0);var r=y.get(e,s,{},n),i=r[t];return i||(i=r[t]=[]),i}function _(e,t,n,r){e&&t&&t.type&&(e.removeEventListener?e.removeEventListener(t.type,n,r):e.detachEvent&&e.detachEvent("on"+t.type,n))}function k(e,t,n,r){for(var i=t.length;i--;){var o=t[i];o&&(n.ns&&n.ns!==o.evtName.ns||r&&!r(o)||(_(e,o.evtName,o.handler,o.capture),t.splice(i,1)))}}function P(e,t){return t?w("xx",(0,o.kJ)(t)?[e].concat(t):[e,t]).ns.split("."):e}function I(e,t,n,r,i){void 0===i&&(i=!1);var o=!1;if(e)try{var s=w(t,r);if(o=function(e,t,n,r){var i=!1;return e&&t&&t.type&&n&&(e.addEventListener?(e.addEventListener(t.type,n,r),i=!0):e.attachEvent&&(e.attachEvent("on"+t.type,n),i=!0)),i}(e,s,n,i),o&&y.accept(e)){var a={guid:m++,evtName:s,handler:n,capture:i};C(e,s.type).push(a)}}catch(e){}return o}function E(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=w(t,r),c=!1;!function(e,t,n){if(t.type)k(e,C(e,t.type),t,n);else{var r=y.get(e,s,{});(0,o.rW)(r,(function(r,i){k(e,i,t,n)})),0===(0,o.FY)(r).length&&y.kill(e,s)}}(e,a,(function(e){return!((!a.ns||n)&&e.handler!==n||(c=!0,0))})),c||_(e,a,n,i)}catch(e){}}function D(e,t,n,r){return void 0===r&&(r=!1),I(e,t,n,null,r)}function T(e,t,n,r){void 0===r&&(r=!1),E(e,t,n,null,r)}function x(e,t,n){var r=!1,o=(0,i.Jj)();o&&(r=I(o,e,t,n),r=I(o.body,e,t,n)||r);var s=(0,i.Me)();return s&&(r=I(s,e,t,n)||r),r}function R(e,t,n){var r=(0,i.Jj)();r&&(E(r,e,t,n),E(r.body,e,t,n));var o=(0,i.Me)();o&&E(o,e,t,n)}function j(e,t,n,r){var i=!1;return t&&e&&e.length>0&&(0,o.tO)(e,(function(e){e&&(n&&-1!==(0,o.UA)(n,e)||(i=x(e,t,r)||i))})),i}function A(e,t,n,r){var i=!1;return t&&e&&(0,o.kJ)(e)&&!(i=j(e,t,n,r))&&n&&n.length>0&&(i=j(e,t,null,r)),i}function O(e,t,n){e&&(0,o.kJ)(e)&&(0,o.tO)(e,(function(e){e&&R(e,t,n)}))}function N(e,t,n){return A([d,u,c],e,t,n)}function M(e,t){O([d,u,c],e,t)}function L(e,t,n){var r=P(p,n),s=j([c],e,t,r);return t&&-1!==(0,o.UA)(t,a)||(s=j([a],(function(t){var n=(0,i.Me)();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||s),!s&&t&&(s=L(e,null,n)),s}function F(e,t){var n=P(p,t);O([c],e,n),O([a],null,n)}function U(e,t,n){var r=P(h,n),o=j([l],e,t,r);return!(o=j([a],(function(t){var n=(0,i.Me)();e&&n&&"visible"===n.visibilityState&&e(t)}),t,r)||o)&&t&&(o=U(e,null,n)),o}function K(e,t){var n=P(h,t);O([l],e,n),O([a],null,n)}},24869:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>he,BX:()=>I,F:()=>se,FL:()=>ee,FY:()=>Y,Gf:()=>x,HD:()=>F,Id:()=>j,J_:()=>N,Kn:()=>D,Mr:()=>q,Oi:()=>de,UA:()=>B,VZ:()=>L,Vb:()=>pe,Xi:()=>te,Xz:()=>J,Y6:()=>V,Ym:()=>_,_A:()=>Z,_Q:()=>O,_y:()=>ce,cf:()=>ue,fQ:()=>ae,hj:()=>U,jj:()=>re,jn:()=>K,kJ:()=>M,l_:()=>Q,le:()=>P,m6:()=>ne,mf:()=>T,mm:()=>fe,nd:()=>$,nr:()=>E,o8:()=>k,qK:()=>oe,rW:()=>R,sO:()=>ie,tO:()=>H,xe:()=>A});var r=n(1550),i=n(30175),o=n(96335),s=r.RJ,a=r.Pw.freeze,c=r.Pw.seal,l=r.Pw.keys,u=String[r.hB],d=u.trim,p=u.endsWith,h=u.startsWith,f=Date[r.hB].toISOString,g=Array.isArray,m=r.V4.toString,y=r.CY.toString,v=y.call(r.Pw),b=/-([a-z])/g,w=/([^\w\d_$])/g,S=/^(\d+[\w\d_$])/,C=Object.getPrototypeOf;function _(e,t){return typeof e===t}function k(e){return void 0===e||typeof e===r.jA}function P(e){return null===e||k(e)}function I(e){return!P(e)}function E(e,t){return!(!e||!r.CY.call(e,t))}function D(e){return!(!e||typeof e!==r.fK)}function T(e){return!(!e||typeof e!==r.cb)}function x(e){var t=e;return t&&F(t)&&(t=(t=(t=t.replace(b,(function(e,t){return t.toUpperCase()}))).replace(w,"_")).replace(S,(function(e,t){return"_"+t}))),t}function R(e,t){if(e)for(var n in e)r.CY.call(e,n)&&t.call(e,n,e[n])}function j(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=p?e.endsWith(t):function(e,t){var n=!1,r=t?t.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,s=r-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}n=!0}return n}(e,t)),n}function A(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=h?e.startsWith(t):function(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}(e,t)),n}function O(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function N(e){return!(!e||"[object Date]"!==m.call(e))}var M=g||function(e){return!(!e||"[object Array]"!==m.call(e))};function L(e){return!(!e||"[object Error]"!==m.call(e))}function F(e){return"string"==typeof e}function U(e){return"number"==typeof e}function K(e){return"boolean"==typeof e}function W(e){var t=!1;if(e&&"object"==typeof e){var n=C?C(e):function(e){if(e){if(C)return C(e);var t=e.__proto__||e[r.hB]||e.constructor;if(t)return t}return null}(e);n?(n.constructor&&r.CY.call(n,"constructor")&&(n=n.constructor),t=typeof n===r.cb&&y.call(n)===v):t=!0}return t}function V(e){if(e)return f?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function H(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function B(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var r=e.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch(e){}}return-1}function q(e,t,n){var r;if(e){if(e.map)return e.map(t,n);var i=e.length,o=n||e;r=new Array(i);try{for(var s=0;s<i;s++)s in e&&(r[s]=t.call(o,e[s],e))}catch(e){}}return r}function J(e,t,n){var r;if(e){if(e.reduce)return e.reduce(t,n);var i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function $(e){return e&&(e=d&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var G=!{toString:null}.propertyIsEnumerable("toString"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Y(e){var t=typeof e;if(t===r.cb||t===r.fK&&null!==e||(0,i.ZU)("objKeys called on non-object"),!G&&l)return l(e);var n=[];for(var o in e)e&&r.CY.call(e,o)&&n.push(o);if(G)for(var s=z.length,a=0;a<s;a++)e&&r.CY.call(e,z[a])&&n.push(z[a]);return n}function Q(e,t,n,r){if(s)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),s(e,t,i),!0}catch(e){}return!1}function X(e){return e}function Z(e){return a&&R(e,(function(e,t){(M(t)||D(t))&&a(t)})),ee(e)}var ee=a||X,te=c||X;function ne(){var e=Date;return e.now?e.now():(new e).getTime()}function re(e){return L(e)?e.name:o.SM}function ie(e,t,n,r,i){var o=n;return e&&((o=e[t])===n||i&&!i(o)||r&&!r(n)||(o=n,e[t]=o)),o}function oe(e,t,n){var r;return e?!(r=e[t])&&P(r)&&(r=k(n)?{}:n,e[t]=r):r=k(n)?{}:n,r}function se(e){return!e}function ae(e){return!!e}function ce(e){throw new Error(e)}function le(e,t){var n=null,r=null;return T(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t].apply(r,e)}}function ue(e,t,n){if(e&&t&&D(e)&&D(t)){var r=function(r){if(F(r)){var i=t[r];T(i)?n&&!n(r,!0,t,e)||(e[r]=le(t,r)):n&&!n(r,!1,t,e)||(E(e,r)&&delete e[r],Q(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}};for(var i in t)r(i)}return e}function de(e,t,n,r,i){e&&t&&n&&(!1!==i||k(e[t]))&&(e[t]=le(n,r))}function pe(e,t,n,r){return e&&t&&D(e)&&M(n)&&H(n,(function(n){F(n)&&de(e,n,t,n,r)})),e}function he(e){return e&&r.rl&&(e=(0,r.Pw)((0,r.rl)({},e))),e}function fe(e,t,n,i,o,s){var a=arguments,c=a[0]||{},l=a.length,u=!1,d=1;for(l>0&&K(c)&&(u=c,c=a[d]||{},d++),D(c)||(c={});d<l;d++){var p=a[d],h=M(p),f=D(p);for(var g in p){var m=h&&g in p||f&&r.CY.call(p,g);if(m){var y=p[g],v=void 0;if(u&&y&&((v=M(y))||W(y))){var b=c[g];v?M(b)||(b=[]):W(b)||(b={}),y=fe(u,b,y)}void 0!==y&&(c[g]=y)}}}return c}},96335:(e,t,n)=>{"use strict";n.d(t,{C0:()=>d,El:()=>s,Gc:()=>l,H4:()=>b,Ho:()=>p,Mf:()=>f,Nz:()=>o,Rw:()=>u,SM:()=>r,SN:()=>S,Vr:()=>a,XP:()=>y,Z_:()=>h,dV:()=>m,eO:()=>v,i9:()=>i,nE:()=>g,rX:()=>w,vE:()=>c});var r="",i="processTelemetry",o="priority",s="setNextPlugin",a="isInitialized",c="teardown",l="core",u="update",d="disabled",p="_doTeardown",h="processNext",f="resume",g="pause",m="addNotificationListener",y="removeNotificationListener",v="eventsSent",b="eventsDiscarded",w="eventsSendRequest",S="perfEvent"},81782:(e,t,n)=>{"use strict";n.d(t,{Jk:()=>s,Lm:()=>c,j5:()=>l,zn:()=>o});var r=n(29141),i=n(24869),o=function(){function e(t,n,r){var o,s=this,a=!1;s.start=(0,i.m6)(),s.name=t,s.isAsync=r,s.isChildEvt=function(){return!1},(0,i.mf)(n)&&(a=(0,i.l_)(s,"payload",(function(){return!o&&(0,i.mf)(n)&&(o=n(),n=null),o}))),s.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?s[t]:(s.ctx||{})[t]:null},s.setCtx=function(t,n){t&&(t===e.ParentContextKey?(s[t]||(s.isChildEvt=function(){return!0}),s[t]=n):t===e.ChildrenContextKey?s[t]=n:(s.ctx=s.ctx||{})[t]=n)},s.complete=function(){var t=0,r=s.getCtx(e.ChildrenContextKey);if((0,i.kJ)(r))for(var o=0;o<r.length;o++){var c=r[o];c&&(t+=c.time)}s.time=(0,i.m6)()-s.start,s.exTime=s.time-t,s.complete=function(){},!a&&(0,i.mf)(n)&&(s.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),s=function e(t){this.ctx={},(0,r.Z)(e,this,(function(e){e.create=function(e,t,n){return new o(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&(0,i.mf)(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},a="CoreUtils.doPerf";function c(e,t,n,r,s){if(e){var c=e;if((0,i.mf)(c.getPerfMgr)&&(c=c.getPerfMgr()),c){var l=void 0,u=c.getCtx(a);try{if(l=c.create(t(),r,s)){if(u&&l.setCtx&&(l.setCtx(o.ParentContextKey,u),u.getCtx&&u.setCtx)){var d=u.getCtx(o.ChildrenContextKey);d||(d=[],u.setCtx(o.ChildrenContextKey,d)),d.push(l)}return c.setCtx(a,l),n(l)}}catch(e){l&&l.setCtx&&l.setCtx("exception",e)}finally{l&&c.fire(l),c.setCtx(a,u)}}}return n()}function l(){return null}},31030:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>p,CD:()=>d,Vi:()=>g,jV:()=>f,xy:()=>h});var r=n(29339),i=n(24869),o=n(81782),s=n(49251),a=n(96335),c=n(69031),l=0;function u(e,t,n,o){var a=null,c=[];null!==o&&(a=o?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return f([n],t.config||{},t)}(e,n,o):e);var l={_next:function(){var e=a;if(a=e?e.getNext():null,!e){var t=c;t&&t.length>0&&((0,i.tO)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,r.kP)(n.logger,2,73,"Unexpected Exception during onComplete - "+(0,s.eU)(e))}})),c=[])}return e},ctx:{core:function(){return n},diagLog:function(){return(0,r.vH)(n,t)},getCfg:function(){return t},getExtCfg:u,getConfig:function(e,n,r){void 0===r&&(r=!1);var o,s=u(e,null);return s&&!(0,i.le)(s[n])?o=s[n]:t&&!(0,i.le)(t[n])&&(o=t[n]),(0,i.le)(o)?r:o},hasNext:function(){return!!a},getNext:function(){return a},setNext:function(e){a=e},iterate:function(e){for(var t;t=l._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&c.push({func:e,self:(0,i.o8)(t)?l.ctx:t,args:n})}}};function u(e,n,r){var o;if(void 0===n&&(n={}),void 0===r&&(r=0),t){var s=t.extensionConfig;s&&e&&(o=s[e])}if(o){if((0,i.Kn)(n)&&0!==r){var a=(0,i.mm)(!0,n,o);t&&2===r&&(0,i.rW)(n,(function(e){if((0,i.le)(a[e])){var n=t[e];(0,i.le)(n)||(a[e]=n)}})),o=a}}else o=n;return o}return l}function d(e,t,n,r){var o=u(e,t,n,r),s=o.ctx;return s.processNext=function(e){var t=o._next();return t&&t.processTelemetry(e,s),!t},s.createNew=function(e,r){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=f(e,t,n,r)),d(e||s.getNext(),t,n,r)},s}function p(e,t,n){var r=t.config||{},o=u(e,r,t,n),s=o.ctx;return s.processNext=function(e){var t=o._next();return t&&t.unload(s,e),!t},s.createNew=function(e,n){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=f(e,r,t,n)),p(e||s.getNext(),t,n)},s}function h(e,t,n){var r=t.config||{},o=u(e,r,t,n).ctx;return o.processNext=function(e){return o.iterate((function(t){(0,i.mf)(t.update)&&t.update(o,e)}))},o.createNew=function(e,n){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=f(e,r,t,n)),h(e||o.getNext(),t,n)},o}function f(e,t,n,u){var p=null,h=!u;if((0,i.kJ)(e)&&e.length>0){var g=null;(0,i.tO)(e,(function(e){if(h||u!==e||(h=!0),h&&e&&(0,i.mf)(e.processTelemetry)){var f=function(e,t,n){var u,p=null,h=(0,i.mf)(e.processTelemetry),f=(0,i.mf)(e.setNextPlugin),g={getPlugin:function(){return e},getNext:function(){return p},processTelemetry:function(r,o){m(o=o||function(){var r;return e&&(0,i.mf)(e._getTelCtx)&&(r=e._getTelCtx()),r||(r=d(g,t,n)),r}(),(function(t){if(!e||!h)return!1;var n=(0,c.OY)(e);return!n.teardown&&!n[a.C0]&&(f&&e.setNextPlugin(p),e.processTelemetry(r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||o.processNext(r)},unload:function(t,n){m(t,(function(){var r=!1;if(e){var i=(0,c.OY)(e),o=e[a.Gc]||i.core;!e||o&&o!==t[a.Gc]()||i[a.vE]||(i[a.Gc]=null,i[a.vE]=!0,i[a.Vr]=!1,e[a.vE]&&!0===e[a.vE](t,n)&&(r=!0))}return r}),"unload",(function(){}),n.isAsync)||t.processNext(n)},update:function(t,n){m(t,(function(){var r=!1;if(e){var i=(0,c.OY)(e),o=e[a.Gc]||i.core;!e||o&&o!==t[a.Gc]()||i[a.vE]||e[a.Rw]&&!0===e[a.Rw](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t.processNext(n)},_id:u=e?e.identifier+"-"+e.priority+"-"+l++:"Unknown-0-"+l++,_setNext:function(e){p=e}};function m(t,n,i,c,l){var d=!1,h=e?e.identifier:"TelemetryPluginChain",f=t._hasRun;return f||(f=t._hasRun={}),t.setNext(p),e&&(0,o.Lm)(t[a.Gc](),(function(){return h+":"+i}),(function(){f[u]=!0;try{var e=p?p._id:a.SM;e&&(f[e]=!1),d=n(t)}catch(e){var o=!p||f[p._id];o&&(d=!0),p&&o||(0,r.kP)(t.diagLog(),1,73,"Plugin ["+h+"] failed during "+i+" - "+(0,s.eU)(e)+", run flags: "+(0,s.eU)(f))}}),c,l),d}return(0,i.FL)(g)}(e,t,n);p||(p=f),g&&g._setNext(f),g=f}}))}return u&&!p?f([u],t,n):p}var g=function(e,t,n,r){var o=d(e,t,n,r);(0,i.Vb)(this,o,(0,i.FY)(o))}},19406:(e,t,n)=>{"use strict";n.d(t,{CN:()=>g,F6:()=>m,_l:()=>f,az:()=>h,pZ:()=>y});var r=n(49251),i=n(24869),o=n(96335),s=4294967296,a=4294967295,c=!1,l=123456789,u=987654321;function d(e){e<0&&(e>>>=0),l=123456789+e&a,u=987654321-e&a,c=!0}function p(){try{var e=2147483647&(0,i.m6)();d((Math.random()*s^e)+e)}catch(e){}}function h(e){return e>0?Math.floor(f()/a*(e+1))>>>0:0}function f(e){var t=0,n=(0,r.MX)()||(0,r.gz)();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&a),0===t&&(0,r.w1)()&&(c||p(),t=m()&a),0===t&&(t=Math.floor(s*Math.random()|0)),e||(t>>>=0),t}function g(e){e?d(e):p()}function m(e){var t=((u=36969*(65535&u)+(u>>16)&a)<<16)+(65535&(l=18e3*(65535&l)+(l>>16)&a))>>>0&a|0;return e||(t>>>=0),t}function y(e){void 0===e&&(e=22);for(var t=f()>>>0,n=0,r=o.SM;r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(f()<<2&4294967295|3&t)>>>0,n=0);return r}},69031:(e,t,n)=>{"use strict";n.d(t,{AA:()=>u,OY:()=>c,Yn:()=>d,bP:()=>l});var r=n(24869),i=n(96335),o=n(87624),s=n(56207),a=(0,o.K)("plugin");function c(e){return a.get(e,"state",{},!0)}function l(e,t){for(var n,o=[],s=null,a=e.getNext();a;){var l=a.getPlugin();l&&(s&&(0,r.mf)(s[i.El])&&(0,r.mf)(l[i.i9])&&s[i.El](l),((0,r.mf)(l[i.Vr])?l[i.Vr]():(n=c(l))[i.Vr])||o.push(l),s=l,a=a.getNext())}(0,r.tO)(o,(function(r){var o=e.core();r.initialize(e.getCfg(),o,t,e.getNext()),n=c(r),r[i.Gc]||n[i.Gc]||(n[i.Gc]=o),n[i.Vr]=!0,delete n[i.vE]}))}function u(e){return e.sort((function(e,t){var n=0;if(t){var o=(0,r.mf)(t[i.i9]);(0,r.mf)(e[i.i9])?n=o?e[i.Nz]-t[i.Nz]:1:o&&(n=-1)}else n=e?1:-1;return n}))}function d(e){var t={};return{getName:function(){return t.name},setName:function(n){e&&e.setName(n),t.name=n},getTraceId:function(){return t.traceId},setTraceId:function(n){e&&e.setTraceId(n),(0,s.jN)(n)&&(t.traceId=n)},getSpanId:function(){return t.spanId},setSpanId:function(n){e&&e.setSpanId(n),(0,s.Lc)(n)&&(t.spanId=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}},38593:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(29339),i=n(49251),o=n(24869);function s(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){(0,o.tO)(e,(function(e){try{e(t,n)}catch(e){(0,r.kP)(t.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,i.eU)(e))}})),e=[]}}}},56207:(e,t,n)=>{"use strict";n.d(t,{J6:()=>v,Lc:()=>y,Pn:()=>b,SU:()=>f,aR:()=>w,jN:()=>m,j_:()=>g,lq:()=>S});var r=n(28956),i=n(49251),o=n(24869),s=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,a="00",c="ff",l="00000000000000000000000000000000",u="0000000000000000";function d(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function p(e,t,n){return d(e,t)?e:n}function h(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function f(e,t,n,i){return{version:d(i,2,c)?i:a,traceId:m(e)?e:(0,r.DO)(),spanId:y(t)?t:(0,r.DO)().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function g(e){if(!e)return null;if((0,o.kJ)(e)&&(e=e[0]||""),!e||!(0,o.HD)(e)||e.length>8192)return null;var t=s.exec((0,o.nd)(e));return t&&t[1]!==c&&t[2]!==l&&t[3]!==u?{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}function m(e){return d(e,32,l)}function y(e){return d(e,16,u)}function v(e){return!!(e&&d(e.version,2,c)&&d(e.traceId,32,l)&&d(e.spanId,16,u)&&d(h(e.traceFlags),2))}function b(e){return!!v(e)&&1==(1&e.traceFlags)}function w(e){if(e){var t=h(e.traceFlags);d(t,2)||(t="01");var n=e.version||a;return"00"!==n&&"ff"!==n&&(n=a),"".concat(n,"-").concat(p(e.traceId,32,l),"-").concat(p(e.spanId,16,u),"-").concat(t)}return""}function S(){var e="traceparent",t=g((0,i.ed)(e));return t||(t=g((0,i.pI)(e))),t}},1550:(e,t,n)=>{"use strict";n.d(t,{CY:()=>h,Pw:()=>c,RJ:()=>p,V4:()=>l,bO:()=>a,cb:()=>r,fK:()=>i,hB:()=>s,jA:()=>o,rl:()=>u,yu:()=>d});var r="function",i="object",o="undefined",s="prototype",a="hasOwnProperty",c=Object,l=c[s],u=c.assign,d=c.create,p=c.defineProperty,h=l[a]},30175:(e,t,n)=>{"use strict";n.d(t,{Rd:()=>o,ZU:()=>s,pu:()=>a});var r=n(1550),i=null;function o(e){return void 0===e&&(e=!0),i&&e||(typeof globalThis!==r.jA&&globalThis&&(i=globalThis),typeof self!==r.jA&&self&&(i=self),typeof window!==r.jA&&window&&(i=window),typeof n.g!==r.jA&&n.g&&(i=n.g)),i}function s(e){throw new TypeError(e)}function a(e){var t=r.yu;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.fK&&n!==r.cb&&s("Object prototype may only be an Object:"+e),i[r.hB]=e,new i}},27421:(e,t,n)=>{"use strict";n.d(t,{$h:()=>c,ne:()=>a,uc:()=>o});var r=n(1550),i=n(30175),o=(((0,i.Rd)()||{}).Symbol,((0,i.Rd)()||{}).Reflect,r.rl||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])r.V4[r.bO].call(t,o)&&(e[o]=t[o]);return e}),s=function(e,t){return s=r.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.bO](n)&&(e[n]=t[n])},s(e,t)};function a(e,t){function n(){this.constructor=e}typeof t!==r.cb&&null!==t&&(0,i.ZU)("Class extends value "+String(t)+" is not a constructor or null"),s(e,t),e[r.hB]=null===t?(0,i.pu)(t):(n[r.hB]=t[r.hB],new n)}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},29141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r="prototype",i="function",o="_dynClass",s="_unknown_",a=Object,c=a.getPrototypeOf,l=a.getOwnPropertyNames,u=0;function d(e,t){return e&&a.prototype.hasOwnProperty.call(e,t)}function p(e){return e&&(e===a.prototype||e===Array.prototype)}function h(e){return p(e)||e===Function.prototype}function f(e){var t;if(e){if(c)return c(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,d(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function g(e,t){var n=[];if(l)n=l(e);else for(var r in e)"string"==typeof r&&d(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function m(e,t,n){return"constructor"!==t&&typeof e[t]===i&&(n||d(e,t))}function y(e){throw new TypeError("DynamicProto: "+e)}function v(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function b(e,t,n,r){var s=null;if(e&&d(n,o)){var a=e._dynInstFuncs||{};if((s=(a[n._dynClass]||{})[t])||y("Missing ["+t+"] "+i),!s._dynInstChk&&!1!==a._dynInstChk){for(var c=!d(e,t),l=f(e),u=[];c&&l&&!h(l)&&!v(u,l);){var p=l[t];if(p){c=p===r;break}u.push(l),l=f(l)}try{c&&(e[t]=s),s._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return s}function w(e,t,n){var r=t[e];return r===n&&(r=f(t)[e]),typeof r!==i&&y("["+e+"] is not a "+i),r}function S(e,t){return d(e,r)?e.name||t||s:((e||{}).constructor||{}).name||t||s}function C(e,t,n,i){d(e,r)||y("theClass is an invalid class definition.");var s=e.prototype;(function(e,t){if(c){for(var n=[],r=f(t);r&&!h(r)&&!v(n,r);){if(r===e)return!0;n.push(r),r=f(r)}return!1}return!0})(s,t)||y("["+S(e)+"] is not in class hierarchy of ["+S(t)+"]");var a=null;d(s,o)?a=s._dynClass:(a="_dynCls$"+S(e,"_")+"$"+u,u++,s._dynClass=a);var l=C._dfOpts,_=!!l.useBaseInst;_&&i&&void 0!==i.useBaseInst&&(_=!!i.useBaseInst);var k=function(e){var t={};return g(e,(function(n){!t[n]&&m(e,n,!1)&&(t[n]=e[n])})),t}(t),P=function(e,t,n,r){function i(e,t,n){var i=t[n];if(i._isDynProxy&&r){var o=e._dynInstFuncs||{};!1!==o._dynInstChk&&(i=(o[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};g(n,(function(e){o[e]=i(t,n,e)}));for(var s=f(e),a=[];s&&!h(s)&&!v(a,s);)g(s,(function(e){!o[e]&&m(s,e,!c)&&(o[e]=i(t,s,e))})),a.push(s),s=f(s);return o}(s,t,k,_);n(t,P);var I=!!c&&!!l.setInstFuncs;I&&i&&(I=!!i.setInstFuncs),function(e,t,n,r,i){if(!p(e)){var o=n._dynInstFuncs=n._dynInstFuncs||{},s=o[t]=o[t]||{};!1!==o._dynInstChk&&(o._dynInstChk=!!i),g(n,(function(t){m(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!d(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){return(b(this,t,e,n)||w(t,e,n)).apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}(s,a,t,k,!1!==I)}C._dfOpts={setInstFuncs:!0,useBaseInst:!0}},58331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Mc});var r,i,o,s,a,c,l,u,d,p,h,f,g=n(66828),m=Object.defineProperty,y=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&w(e,n,t[n]);if(y)for(var n of y(t))b.call(t,n)&&w(e,n,t[n]);return e},C=(e,t)=>()=>(e&&(t=e(e=0)),t),_=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{a(n.next(e))}catch(e){i(e)}},s=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((n=n.apply(e,t)).next())})),k=C((()=>{r={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}})),P=C((()=>{i="function",o="object",s="undefined",a="prototype",c="hasOwnProperty",u=(l=Object)[a],d=l.assign,p=l.create,h=l.defineProperty,f=u[c]}));function I(){return typeof globalThis!==s&&globalThis?globalThis:typeof self!==s&&self?self:typeof window!==s&&window?window:typeof n.g!==s&&n.g?n.g:null}function E(e){throw new TypeError(e)}function D(e){if(p)return p(e);if(null==e)return{};var t=typeof e;function n(){}return t!==o&&t!==i&&E("Object prototype may only be an Object:"+e),n[a]=e,new n}var T=C((()=>{P()}));function x(e,t){function n(){this.constructor=e}typeof t!==i&&null!==t&&E("Class extends value "+String(t)+" is not a constructor or null"),A(e,t),e[a]=null===t?D(t):(n[a]=t[a],new n)}var R,j,A,O=C((()=>{P(),T(),(I()||{}).Symbol,(I()||{}).Reflect,R=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])u[c].call(t,i)&&(e[i]=t[i]);return e},j=d||R,A=function(e,t){return(A=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])})(e,t)}})),N=C((()=>{})),M=C((()=>{P(),T(),O(),N()}));function L(e,t){return e&&de[Y].hasOwnProperty.call(e,t)}function F(e){return e&&(e===de[Y]||e===Array[Y])}function U(e){return F(e)||e===Function[Y]}function K(e){var t;if(e){if(pe)return pe(e);var n=e[se]||e[Y]||(e[z]?e[z][Y]:null);t=e[ae]||n,L(e,ae)||(delete e[ce],t=e[ae]=e[ce]||e[ae],e[ce]=n)}return t}function W(e,t){var n=[];if(he)n=he(e);else for(var r in e)"string"==typeof r&&L(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function V(e,t,n){return t!==z&&typeof e[t]===Q&&(n||L(e,t))}function H(e){throw new TypeError("DynamicProto: "+e)}function B(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function q(e,t,n,r){var i=null;if(e&&L(n,ee)){var o=e[X]||{};if((i=(o[n[ee]]||{})[t])||H("Missing ["+t+"] "+Q),!i[ne]&&!1!==o[re]){for(var s=!L(e,t),a=K(e),c=[];s&&a&&!U(a)&&!B(c,a);){var l=a[t];if(l){s=l===r;break}c.push(a),a=K(a)}try{s&&(e[t]=i),i[ne]=1}catch(e){o[re]=!1}}}return i}function J(e,t,n){var r=t[e];return r===n&&(r=K(t)[e]),typeof r!==Q&&H("["+e+"] is not a "+Q),r}function $(e,t){return L(e,Y)?e.name||t||oe:((e||{})[z]||{}).name||t||oe}function G(e,t,n,r){L(e,Y)||H("theClass is an invalid class definition.");var i=e[Y];(function(e,t){if(pe){for(var n=[],r=K(t);r&&!U(r)&&!B(n,r);){if(r===e)return!0;n.push(r),r=K(r)}return!1}return!0})(i,t)||H("["+$(e)+"] is not in class hierarchy of ["+$(t)+"]");var o=null;L(i,ee)?o=i[ee]:(o=te+$(e,"_")+"$"+fe,fe++,i[ee]=o);var s=G[ie],a=!!s[le];a&&r&&void 0!==r[le]&&(a=!!r[le]);var c=function(e){var t={};return W(e,(function(n){!t[n]&&V(e,n,!1)&&(t[n]=e[n])})),t}(t),l=function(e,t,n,r){function i(e,t,n){var i=t[n];if(i[Z]&&r){var o=e[X]||{};!1!==o[re]&&(i=(o[t[ee]]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};W(n,(function(e){o[e]=i(t,n,e)}));for(var s=K(e),a=[];s&&!U(s)&&!B(a,s);)W(s,(function(e){!o[e]&&V(s,e,!pe)&&(o[e]=i(t,s,e))})),a.push(s),s=K(s);return o}(i,t,c,a);n(t,l);var u=!!pe&&!!s[ue];u&&r&&(u=!!r[ue]),function(e,t,n,r,i){if(!F(e)){var o=n[X]=n[X]||{},s=o[t]=o[t]||{};!1!==o[re]&&(o[re]=!!i),W(n,(function(t){V(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!L(e,t)||e[t]&&!e[t][Z])&&(e[t]=function(e,t){var n=function(){return(q(this,t,e,n)||J(t,e,n)).apply(this,arguments)};return n[Z]=1,n}(e,t)))}))}}(i,o,t,c,!1!==u)}var z,Y,Q,X,Z,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,de,pe,he,fe,ge,me,ye,ve=C((()=>{z="constructor",Y="prototype",Q="function",X="_dynInstFuncs",Z="_isDynProxy",ee="_dynClass",te="_dynCls$",re=ne="_dynInstChk",ie="_dfOpts",oe="_unknown_",ae="_dyn"+(se="__proto__"),ce="_dynInstProto",le="useBaseInst",ue="setInstFuncs",pe=(de=Object).getPrototypeOf,he=de.getOwnPropertyNames,fe=0,ge={setInstFuncs:!0,useBaseInst:!0},G[ie]=ge})),be=C((()=>{var e;(e=me||(me={}))[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",ye={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}}));function we(e){return u.toString.call(e)}function Se(e,t){return typeof e===t}function Ce(e){return void 0===e||typeof e===s}function _e(e){return null===e||Ce(e)}function ke(e){return!_e(e)}function Pe(e,t){return e&&f.call(e,t)}function Ie(e){return typeof e===o}function Ee(e){return typeof e===i}function De(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!_e(e))try{_e(e[rt])?_e(e[nt])||(e[nt](tt+t,n),i=!0):(e[rt](t,n,r),i=!0)}catch(e){}return i}function Te(e,t,n,r){if(void 0===r&&(r=!1),!_e(e))try{_e(e[ot])?_e(e[it])||e[it](tt+t,n):e[ot](t,n,r)}catch(e){}}function xe(e,t){if(e)for(var n in e)f.call(e,n)&&t.call(e,n,e[n])}function Re(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function je(e){return"[object Date]"===we(e)}function Ae(e){return"[object Array]"===we(e)}function Oe(e){return"[object Error]"===we(e)}function Ne(e){return"string"==typeof e}function Me(e){return"number"==typeof e}function Le(e){return"boolean"==typeof e}function Fe(e){if(je(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ue(e,t,n){for(var r=e.length,i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}function Ke(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function We(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),s=0;s<r;s++)s in e&&(o[s]=t.call(i,e[s],e));return o}function Ve(e,t,n){var r,i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++;return r}function He(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function Be(e){var t=typeof e;t!==i&&(t!==o||null===e)&&E("objKeys called on non-object");var n=[];for(var r in e)e&&f.call(e,r)&&n.push(r);if(at)for(var s=ct.length,a=0;a<s;a++)e&&f.call(e,ct[a])&&n.push(ct[a]);return n}function qe(e,t,n,r){if(st)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),st(e,t,i),!0}catch(e){}return!1}function Je(){var e=Date;return e.now?e.now():(new e).getTime()}function $e(e){return Oe(e)?e.name:""}function Ge(e,t,n,r,i){var o=n;return e&&(o=e[t])!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o),o}function ze(e,t,n){var r;return e?!(r=e[t])&&_e(r)&&(r=Ce(n)?{}:n,e[t]=r):r=Ce(n)?{}:n,r}function Ye(e){return!e}function Qe(e){return!!e}function Xe(e){throw new Error(e)}function Ze(e,t,n){if(e&&t&&e!==t&&Ie(e)&&Ie(t)){var r=function(r){if(Ne(r)){var i=t[r];Ee(i)?(!n||n(r,!0,t,e))&&(e[r]=(o=r,function(){var e=arguments;return t[o].apply(t,e)})):(!n||n(r,!1,t,e))&&(Pe(e,r)&&delete e[r],qe(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var o};for(var i in t)r(i)}return e}function et(e){return e&&(e=l(d?d({},e):e)),e}var tt,nt,rt,it,ot,st,at,ct,lt=C((()=>{M(),tt="on",nt="attachEvent",rt="addEventListener",it="detachEvent",ot="removeEventListener",st=h,l.freeze,l.seal,at=!{toString:null}.propertyIsEnumerable("toString"),ct=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]}));function ut(e){var t=I();return t&&t[e]?t[e]:e===_t&&dt()?window:null}function dt(){return Boolean(typeof window===o&&window)}function pt(){return dt()?window:ut(_t)}function ht(){return Boolean(typeof document===o&&document)}function ft(){return ht()?document:ut(kt)}function gt(){return Boolean(typeof navigator===o&&navigator)?navigator:ut(Pt)}function mt(e){if(e&&Ft){var t=ut("__mockLocation");if(t)return t}return typeof location===o&&location?location:ut(Et)}function yt(){return ut(Tt)}function vt(){return Boolean(typeof JSON===o&&JSON||null!==ut(xt))}function bt(){return vt()?JSON||ut(xt):null}function wt(){var e=gt();if(e&&(e.userAgent!==Lt||null===Mt)){var t=((Lt=e.userAgent)||"").toLowerCase();Mt=Re(t,Ot)||Re(t,Nt)}return Mt}function St(e){if(void 0===e&&(e=null),!e){var t=gt()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(Re(n,Ot))return parseInt(n.split(Ot)[1]);if(Re(n,Nt)){var r=parseInt(n.split(Nt)[1]);if(r)return r+4}return null}function Ct(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":vt()&&(n=bt().stringify(e)),t+n}var _t,kt,Pt,It,Et,Dt,Tt,xt,Rt,jt,At,Ot,Nt,Mt,Lt,Ft,Ut=C((()=>{M(),lt(),_t="window",kt="document",Pt="navigator",It="history",Et="location",Dt="console",Tt="performance",xt="JSON",Rt="crypto",jt="msCrypto",At="ReactNative",Ot="msie",Nt="trident/",Mt=null,Lt=null,Ft=!1}));function Kt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Wt(e,t){return(e||{}).logger||new Ht(t)}var Vt,Ht,Bt=C((()=>{be(),Ut(),ve(),lt(),Vt=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var o="";vt()&&(o=bt().stringify(r));var s=(t?" message:"+Kt(t):"")+(r?" props:"+Kt(o):"");i.message+=s}return e.dataType="MessageData",e}(),Ht=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};G(e,this,(function(e){function i(e,n){var r=t[e];return _e(r)?n:r}_e(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var a=new Vt(n,i,s,o);if(e.enableDebugExceptions())throw a;if(!Ce(a.message)){var c=e.consoleLoggingLevel();if(s){var l=+a.messageId;!r[l]&&c>=me.WARNING&&(e.warnToConsole(a.message),r[l]=!0)}else c>=me.WARNING&&e.warnToConsole(a.message);e.logInternalMessage(t,a)}},e.warnToConsole=function(e){var t=typeof console!==s?console:ut(Dt);if(t){var n="log";t.warn&&(n="warn"),Ee(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit())){var a="Internal events throttle limit per PageView reached for this app.",c=new Vt(ye.MessageLimitPerPVExceeded,a,!1);e.queue.push(c),e.warnToConsole(a)}}}}))}}));function qt(e,t,n,r,i){if(e){var o=e;if(Ee(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(Gt);try{if(s=o.create(t(),r,i)){if(a&&s.setCtx&&(s.setCtx(Jt.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(Jt.ChildrenContextKey);c||(c=[],a.setCtx(Jt.ChildrenContextKey,c)),c.push(s)}return o.setCtx(Gt,s),n(s)}}catch(e){s&&s.setCtx&&s.setCtx("exception",e)}finally{s&&o.fire(s),o.setCtx(Gt,a)}}}return n()}var Jt,$t,Gt,zt,Yt=C((()=>{ve(),lt(),Jt=function(){function e(t,n,r){var i,o=this,s=!1;o.start=Je(),o.name=t,o.isAsync=r,o.isChildEvt=function(){return!1},Ee(n)&&(s=qe(o,"payload",(function(){return!i&&Ee(n)&&(i=n(),n=null),i}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,r=o.getCtx(e.ChildrenContextKey);if(Ae(r))for(var i=0;i<r.length;i++){var a=r[i];a&&(t+=a.time)}o.time=Je()-o.start,o.exTime=o.time-t,o.complete=function(){},!s&&Ee(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),$t=function e(t){this.ctx={},G(e,this,(function(e){e.create=function(e,t,n){return new Jt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},Gt="CoreUtils.doPerf"})),Qt=C((()=>{Yt(),be(),lt(),zt=function(e,t){var n=this,r=null,i=Ee(e.processTelemetry),o=Ee(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(s,a){a||(a=t);var c=e?e.identifier:"TelemetryPluginChain";qt(a?a.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{a.setNext(r),o&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=r&&r._hasRun;(!r||!t)&&a.diagLog().throwInternal(me.CRITICAL,ye.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),r&&!t&&r.processTelemetry(s,a)}}else r&&(n._hasRun=!0,r.processTelemetry(s,a))}),(function(){return{item:s}}),!s.sync)}}}));function Xt(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&Ee(o.processTelemetry)){var s=new zt(o,t);n.push(s),r&&r.setNext(s),r=s}}return n.length>0?n[0]:null}var Zt,en,tn,nn,rn,on=C((()=>{Bt(),Qt(),lt(),Zt=function e(t,n,r,i){var o=this,s=null;null!==i&&(t&&Ee(t.getPlugin)?s=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),Xt(r,t)}(t,o,i||t.getPlugin()):i?s=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],Ue(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),Xt(r,t)}(t,o,i):Ce(i)&&(s=Xt(t,o))),o.core=function(){return r},o.diagLog=function(){return Wt(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){void 0===r&&(r=!1);var i,s=o.getExtCfg(e,null);return s&&!_e(s[t])?i=s[t]:n&&!_e(n[t])&&(i=n[t]),_e(i)?r:i},o.hasNext=function(){return null!=s},o.getNext=function(){return s},o.setNext=function(e){s=e},o.processNext=function(e){var t=s;t&&(s=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||s,n,r,i)}}})),sn=C((()=>{en="iKey",tn="extensionConfig"})),an=C((()=>{on(),lt(),sn(),nn="getPlugin",rn=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&Ee(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new Zt(null,{},e.core);i=r&&r[nn]?o.createNew(null,r[nn]):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,s,a){i&&Ge(i,tn,[],null,_e),!a&&o&&(a=o.getProcessTelContext().getNext());var c=r;r&&r[nn]&&(c=r[nn]()),e.core=o,n=new Zt(a,i,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}()}));function cn(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&Ee(r[pn])&&Ee(o[un])&&r[pn](o),(!Ee(o[hn])||!o[hn]())&&n.push(o),r=o,i=i.getNext())}Ue(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function ln(e){return e.sort((function(e,t){var n=0,r=Ee(t[un]);return Ee(e[un])?n=r?e[dn]-t[dn]:1:r&&(n=-1),n}))}var un,dn,pn,hn,fn,gn=C((()=>{lt(),un="processTelemetry",dn="priority",pn="setNextPlugin",hn="isInitialized"})),mn=C((()=>{M(),ve(),an(),on(),gn(),lt(),500,fn=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){Ue(e,(function(e){e.priority<500&&Xe("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,G(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&Ue(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,o,s){e.isInitialized()||(t.initialize(r,o,s),function(e,t){if(n=[],e&&Ue(e,(function(e){return i(e)})),t){var r=[];Ue(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,s),Ue(n,(function(e){return cn(new Zt(e,r,o),s)})))}})),r}return x(t,e),t._staticInit=(qe(n=t.prototype,"ChannelControls",n.getChannelControls),void qe(n,"channelQueue",n.getChannelControls)),t;var n}(rn)}));function yn(e,t){var n=wn[Nn]||Vn[Nn];return n||(n=wn[Nn]=wn(e,t),Vn[Nn]=n),n}function vn(e){return!e||e.isEnabled()}function bn(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r[Nn]?r[Nn]:wn(t)}return n||(n=yn(t,(e||{}).logger)),n}function wn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ge(t,"domain",e.cookieDomain,ke,_e),Ge(t,"path",e.cookiePath||"/",null,_e),_e(t[jn])){var n=void 0;Ce(e[An])||(n=!e[An]),Ce(e[On])||(n=!e[On]),t[jn]=n}return t}(e||Vn),r=n.path||"/",i=n.domain,o=!1!==n[jn],s={isEnabled:function(){var e=o&&Sn(t),n=Vn[Nn];return e&&n&&s!==n&&(e=vn(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,a,c){if(vn(s)){var l={},u=He(t||Mn),d=u.indexOf(";");if(-1!==d&&(u=He(t.substring(0,d)),l=Cn(t.substring(d+1))),Ge(l,"domain",a||i,Qe,Ce),!_e(o)){var p=wt();if(Ce(l[Rn])){var h=Je()+1e3*o;if(h>0){var f=new Date;f.setTime(h),Ge(l,Rn,_n(f,p?Dn:Tn)||_n(f,p?Dn:Tn)||Mn,Qe)}}p||Ge(l,"max-age",Mn+o,null,Ce)}var g=mt();g&&"https:"===g.protocol&&(Ge(l,"secure",null,null,Ce),null===Fn&&(Fn=!En((gt()||{}).userAgent)),Fn&&Ge(l,"SameSite","None",null,Ce)),Ge(l,"path",c||r,null,Ce),(n.setCookie||In)(e,kn(u,l))}},get:function(e){var t=Mn;return vn(s)&&(t=(n.getCookie||Pn)(e)),t},del:function(e,t){vn(s)&&s.purge(e,t)},purge:function(e,r){if(Sn(t)){var i=((o={}).path=r||"/",o[Rn]="Thu, 01 Jan 1970 00:00:01 GMT",o);wt()||(i["max-age"]="0"),(n.delCookie||In)(e,kn(Mn,i))}var o}};return s[Nn]=s,s}function Sn(e){if(null===Ln){Ln=!1;try{Ln=void 0!==(Kn||{})[xn]}catch(t){e&&e.throwInternal(me.WARNING,ye.CannotAccessCookie,"Cannot access document.cookie - "+$e(t),{exception:Ct(t)})}}return Ln}function Cn(e){var t={};return e&&e.length&&Ue(He(e).split(";"),(function(e){if(e=He(e||Mn)){var n=e.indexOf("=");-1===n?t[e]=null:t[He(e.substring(0,n))]=He(e.substring(n+1))}})),t}function _n(e,t){return Ee(e[t])?e[t]():null}function kn(e,t){var n=e||Mn;return xe(t,(function(e,t){n+="; "+e+(_e(t)?Mn:"="+t)})),n}function Pn(e){var t=Mn;if(Kn){var n=Kn[xn]||Mn;Un!==n&&(Wn=Cn(n),Un=n),t=He(Wn[e]||Mn)}return t}function In(e,t){Kn&&(Kn[xn]=e+"="+t)}function En(e){return!!Ne(e)&&!!(Re(e,"CPU iPhone OS 12")||Re(e,"iPad; CPU OS 12")||Re(e,"Macintosh; Intel Mac OS X 10_14")&&Re(e,"Version/")&&Re(e,"Safari")||Re(e,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Re(e,"Chrome/5")||Re(e,"Chrome/6")||Re(e,"UnrealEngine")&&!Re(e,"Chrome")||Re(e,"UCBrowser/12")||Re(e,"UCBrowser/11"))}var Dn,Tn,xn,Rn,jn,An,On,Nn,Mn,Ln,Fn,Un,Kn,Wn,Vn,Hn,Bn,qn,Jn,$n=C((()=>{be(),Ut(),lt(),Dn="toGMTString",Tn="toUTCString",xn="cookie",Rn="expires",jn="enabled",An="isCookieUseDisabled",On="disableCookiesUsage",Nn="_ckMgr",Mn="",Ln=null,Fn=null,Un=null,Kn=ft(),Wn={},Vn={}})),Gn=C((()=>{M(),ve(),mn(),on(),gn(),Yt(),$n(),lt(),sn(),Hn="_notificationManager",Bn=function e(){var t,n,r,i,o,s=!1;G(e,this,(function(e){e._extensions=new Array,n=new fn,e.logger=D({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,i,o,a){e.isInitialized()&&Xe("Core should not be initialized more than once"),(!t||_e(t.instrumentationKey))&&Xe("Please provide instrumentation key"),r=a,e[Hn]=a,e.config=t||{},t.extensions=_e(t.extensions)?[]:t.extensions,ze(t,tn).NotificationManager=a,o&&(e.logger=o);var c=[];c.push.apply(c,i.concat(t.extensions)),c=ln(c);var l=[],u=[],d={};Ue(c,(function(e){(_e(e)||_e(e.initialize))&&Xe("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(_e(d[t])?d[t]=r:o.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+r)),!t||t<n.priority?l.push(e):u.push(e)})),c.push(n),l.push(n),c=ln(c),e._extensions=c,cn(new Zt([n],t,e),c),cn(new Zt(l,t,e),c),e._extensions=l,0===e.getTransmissionControls().length&&Xe("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){Ge(n,en,e.config.instrumentationKey,null,Ye),Ge(n,"time",Fe(new Date),null,Ye),Ge(n,"ver","4.0",null,_e),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return(!t||0===t.length)&&(r=[n]),new Zt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=D({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[Hn]=r),r},e.getCookieMgr=function(){return o||(o=wn(e.config,e.logger)),o},e.setCookieMgr=function(e){o=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&(i=new $t(e.getNotifyMgr())),i},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Ue(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}})),zn=C((()=>{ve(),lt(),qn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;G(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=Ke(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=Ke(e.listeners,t)},e.eventsSent=function(t){Ue(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){Ue(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){Ue(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(n||!t.isChildEvt())&&Ue(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}}))}}))}})),Yn=C((()=>{M(),Gn(),k(),zn(),Yt(),Bt(),ve(),lt(),Jn=function(e){function t(){var n=e.call(this)||this;return G(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],r.InvalidEvent)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new Ht(e),i||new qn(e))},e.track=function(r){qt(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),Xe("Invalid telemetry item")),function(e){if(_e(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return(!n||!(n>0))&&(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];Ue(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:Fe(new Date),baseType:Vt.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)}})),n}return x(t,e),t}(Bn)}));function Qn(e){e<0&&(e>>>=0),sr=123456789+e&ir,ar=987654321-e&ir,or=!0}function Xn(){try{var e=2147483647&Je();Qn((Math.random()*rr^e)+e)}catch(e){}}function Zn(e){return e>0?Math.floor(er()/ir*(e+1))>>>0:0}function er(e){var t,n=ut(Rt)||ut(jt);return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&ir:wt()?(or||Xn(),t=nr()&ir):t=Math.floor(rr*Math.random()|0),e||(t>>>=0),t}function tr(e){e?Qn(e):Xn()}function nr(e){var t=((ar=36969*(65535&ar)+(ar>>16)&ir)<<16)+(65535&(sr=18e3*(65535&sr)+(sr>>16)&ir))>>>0&ir|0;return e||(t>>>=0),t}var rr,ir,or,sr,ar,cr=C((()=>{Ut(),lt(),rr=4294967296,ir=4294967295,or=!1,sr=123456789,ar=987654321}));function lr(e,t){var n=!1,r=pt();r&&(n=De(r,e,t),n=De(r.body,e,t)||n);var i=ft();return i&&(n=kr.Attach(i,e,t)||n),n}function ur(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(_r,(function(e){var t=0|Zn(15);return("x"===e?t:3&t|8).toString(16)}))}function dr(){var e=yt();return e&&e.now?e.now():Je()}function pr(e){void 0===e&&(e=22);for(var t=er()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(er()<<2&4294967295|3&t)>>>0,n=0);return r}function hr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=er())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&er())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}function fr(e,t){var n=yn(e,t),r=Cr._canUseCookies;return null===wr&&(wr=[],Sr=r,qe(Cr,"_canUseCookies",(function(){return Sr}),(function(e){Sr=e,Ue(wr,(function(t){t.setEnabled(e)}))}))),-1===Ke(wr,n)&&wr.push(n),Le(r)&&n.setEnabled(r),Le(Sr)&&n.setEnabled(Sr),n}function gr(){fr().setEnabled(!1)}function mr(e){return fr(null,e).isEnabled()}function yr(e,t){return fr(null,e).get(t)}function vr(e,t,n,r){fr(null,e).set(t,n,null,r)}function br(e,t){return fr(null,e).del(t)}var wr,Sr,Cr,_r,kr,Pr=C((()=>{M(),$n(),Ut(),lt(),cr(),wr=null,Cr={_canUseCookies:void 0,isTypeof:Se,isUndefined:Ce,isNullOrUndefined:_e,hasOwnProperty:Pe,isFunction:Ee,isObject:Ie,isDate:je,isArray:Ae,isError:Oe,isString:Ne,isNumber:Me,isBoolean:Le,toISOString:Fe,arrForEach:Ue,arrIndexOf:Ke,arrMap:We,arrReduce:Ve,strTrim:He,objCreate:D,objKeys:Be,objDefineAccessors:qe,addEventHandler:lr,dateNow:Je,isIE:wt,disableCookies:gr,newGuid:ur,perfNow:dr,newId:pr,randomValue:Zn,random32:er,mwcRandomSeed:tr,mwcRandom32:nr,generateW3CId:hr},_r=/[xy]/g,kr={Attach:De,AttachEvent:De,Detach:Te,DetachEvent:Te}}));function Ir(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Er(e,t,n,r,i){i>=0&&i<=2&&Ir(e,(function(e,o){var s=e.cbks,a=s[Rr[i]];if(a){t.ctx=function(){return r[o]=r[o]||{}};try{a.apply(t.inst,n)}catch(e){var c=t.err;try{var l=s[Rr[2]];l&&(t.err=e,l.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}function Dr(e,t,n){var r=null;return e&&(Pe(e,t)?r=e:n&&(r=Dr(function(e){if(e){if(Or)return Or(e);var t=e[jr]||e[a]||e[Ar];if(t)return t}return null}(e),t,!1))),r}function Tr(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var o=Dr(e,t,r);if(o){var s=o[t];if(typeof s===i){var a=s[xr];if(!a){var c=function(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:c},o=[],s=a([i],n);function a(e,t){return Ir(t,(function(t){e.push(t)})),e}function c(e,t){(n=a([],n))[e]=t,s=a([i],n)}Er(r,i,s,o,0);var l=e.f;try{i.rslt=l.apply(t,n)}catch(e){throw i.err=e,Er(r,i,s,o,3),e}return Er(r,i,s,o,1),i.rslt}}(a={i:0,n:t,f:s,h:[]});c[xr]=a,o[t]=c}var l={id:a.i,cbks:n,rm:function(){var e=this.id;Ir(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(l),l}}}return null}var xr,Rr,jr,Ar,Or,Nr,Mr=C((()=>{M(),lt(),xr="_aiHooks",Rr=["req","rsp","hkErr","fnErr"],jr="__proto__",Ar="constructor",Or=Object.getPrototypeOf})),Lr=C((()=>{Yn(),Gn(),an(),cr(),Pr(),lt(),Ut(),M(),zn(),Yt(),Bt(),be(),Mr(),$n()})),Fr=C((()=>{Nr={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}}));function Ur(e,t,n){var r=t.length,i=Kr(e,t);if(i.length!==r){for(var o=0,s=i;void 0!==n[s];)o++,s=i.substring(0,147)+zr(o);i=s}return i}function Kr(e,t){var n;return t&&(t=He(t.toString())).length>150&&(n=t.substring(0,150),e.throwInternal(me.WARNING,ye.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Wr(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=He(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(me.WARNING,ye.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Vr(e,t){return Gr(e,t,2048,ye.UrlTooLong)}function Hr(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(me.WARNING,ye.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Br(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(me.WARNING,ye.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function qr(e,t){if(t){var n={};xe(t,(function(t,r){if(Ie(r)&&vt())try{r=bt().stringify(r)}catch(t){e.throwInternal(me.WARNING,ye.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Wr(e,r,8192),t=Ur(e,t,n),n[t]=r})),t=n}return t}function Jr(e,t){if(t){var n={};xe(t,(function(t,r){t=Ur(e,t,n),n[t]=r})),t=n}return t}function $r(e,t){return t&&Gr(e,t,128,ye.IdTooLong).toString()}function Gr(e,t,n,r){var i;return t&&(t=He(t)).length>n&&(i=t.substring(0,n),e.throwInternal(me.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function zr(e){var t="00"+e;return t.substr(t.length-3)}var Yr,Qr=C((()=>{Lr(),Yr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:Ur,sanitizeKey:Kr,sanitizeString:Wr,sanitizeUrl:Vr,sanitizeMessage:Hr,sanitizeException:Br,sanitizeProperties:qr,sanitizeMeasurements:Jr,sanitizeId:$r,sanitizeInput:Gr,padNumber:zr,trim:He}}));function Xr(e){var t=null;if(Ee(Event))t=new Event(e);else{var n=ft();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Zr=C((()=>{Lr()}));function ei(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function ti(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function ni(){var e=gt();return"sendBeacon"in e&&e.sendBeacon}function ri(e,t){var n=null;return Ue(e,(function(e){if(e.identifier===t)return n=e,-1})),n}function ii(e,t,n,r,i){return!i&&Ne(e)&&("Script error."===e||"Script error"===e)}var oi,si,ai,ci,li,ui,di,pi,hi=C((()=>{Lr()})),fi=C((()=>{oi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",si="sampleRate",ai="ProcessLegacy",ci="http.method",li="https://dc.services.visualstudio.com",ui="not_specified"})),gi=C((()=>{var e;(e=di||(di={}))[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(pi||(pi={}))}));function mi(){return wi()?yi(di.LocalStorage):null}function yi(e){try{if(_e(I()))return null;var t=new Date,n=ut(e===di.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function vi(){return ki()?yi(di.SessionStorage):null}function bi(){Ti=!1,xi=!1}function wi(){return void 0===Ti&&(Ti=!!yi(di.LocalStorage)),Ti}function Si(e,t){var n=mi();if(null!==n)try{return n.getItem(t)}catch(t){Ti=!1,e.throwInternal(me.WARNING,ye.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+$e(t),{exception:Ct(t)})}return null}function Ci(e,t,n){var r=mi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){Ti=!1,e.throwInternal(me.WARNING,ye.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+$e(t),{exception:Ct(t)})}return!1}function _i(e,t){var n=mi();if(null!==n)try{return n.removeItem(t),!0}catch(t){Ti=!1,e.throwInternal(me.WARNING,ye.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+$e(t),{exception:Ct(t)})}return!1}function ki(){return void 0===xi&&(xi=!!yi(di.SessionStorage)),xi}function Pi(){var e=[];return ki()&&xe(ut("sessionStorage"),(function(t){e.push(t)})),e}function Ii(e,t){var n=vi();if(null!==n)try{return n.getItem(t)}catch(t){xi=!1,e.throwInternal(me.WARNING,ye.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+$e(t),{exception:Ct(t)})}return null}function Ei(e,t,n){var r=vi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){xi=!1,e.throwInternal(me.WARNING,ye.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+$e(t),{exception:Ct(t)})}return!1}function Di(e,t){var n=vi();if(null!==n)try{return n.removeItem(t),!0}catch(t){xi=!1,e.throwInternal(me.WARNING,ye.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+$e(t),{exception:Ct(t)})}return!1}var Ti,xi,Ri=C((()=>{Lr(),gi(),Ti=void 0,xi=void 0}));function ji(e){var t=Ui,n=Ki,r=n[t];return Fi.createElement?n[t]||(r=n[t]=Fi.createElement("a")):r={host:Mi(e,!0)},r.href=e,++t>=n.length&&(t=0),Ui=t,r}function Ai(e){var t,n=ji(e);return n&&(t=n.href),t}function Oi(e){var t,n=ji(e);return n&&(t=n.pathname),t}function Ni(e,t){return e?e.toUpperCase()+" "+t:t}function Mi(e,t){var n=Li(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&Ne(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Li(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&Ne(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";("http"===i&&":80"===o||"https"===i&&":443"===o)&&(o=""),n+=o}}return n}var Fi,Ui,Ki,Wi=C((()=>{Lr(),Fi=ft()||{},Ui=0,Ki=[null,null,null,null,null]}));function Vi(e){return-1!==qi.indexOf(e.toLowerCase())}function Hi(){var e=yt();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return Je()}function Bi(e,t){var n=null;return 0!==e&&0!==t&&!_e(e)&&!_e(t)&&(n=t-e),n}var qi,Ji,$i,Gi,zi,Yi=C((()=>{Lr(),Fr(),Qr(),Zr(),hi(),fi(),Ri(),Wi(),qi=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Ji={NotSpecified:ui,createDomEvent:Xr,disableStorage:bi,isInternalApplicationInsightsEndpoint:Vi,canUseLocalStorage:wi,getStorage:Si,setStorage:Ci,removeStorage:_i,canUseSessionStorage:ki,getSessionStorageKeys:Pi,getSessionStorage:Ii,setSessionStorage:Ei,removeSessionStorage:Di,disableCookies:gr,canUseCookies:mr,disallowsSameSiteNone:En,setCookie:vr,stringToBoolOrDefault:ei,getCookie:yr,deleteCookie:br,trim:He,newId:pr,random32:function(){return er(!0)},generateW3CId:hr,isArray:Ae,isError:Oe,isDate:je,toISOStringForIE8:Fe,getIEVersion:St,msToTimeSpan:ti,isCrossOriginError:ii,dump:Ct,getExceptionName:$e,addEventHandler:De,IsBeaconApiSupported:ni,getExtension:ri},$i={parseUrl:ji,getAbsoluteUrl:Ai,getPathName:Oi,getCompleteUrl:Ni,parseHost:Mi,parseFullHost:Li},Gi={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=ji(t).host.toLowerCase();if(i&&(-1!==i.indexOf(":443")||-1!==i.indexOf(":80"))&&(i=(Li(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o,s=e&&e.correlationHeaderDomains;if(s&&(Ue(s,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||t.test(i)})),!o))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a.length)return!0;for(r=0;r<a.length;r++)if(new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Gi.getCorrelationContextValue(e,Nr.requestContextTargetKey);if(t&&t!==Gi.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}},zi={Now:Hi,GetDuration:Bi}}));function Qi(e){if(!e)return{};var t=Ve(e.split(Xi),(function(e,t){var n=t.split(Zi);if(2===n.length){var r=n[0].toLowerCase(),i=n[1];e[r]=i}return e}),{});if(Be(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||li}return t}var Xi,Zi,eo,to,no,ro,io,oo,so,ao,co,lo,uo=C((()=>{fi(),Lr(),Xi=";",Zi="=",eo={parse:Qi}})),po=C((()=>{to=function(){}})),ho=C((()=>{M(),po(),no=function(e){function t(){return e.call(this)||this}return x(t,e),t}(to)})),fo=C((()=>{ro=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),go=C((()=>{M(),fo(),Qr(),Lr(),fi(),io=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=Wr(t,r)||ui,i.data=n,i.time=Fe(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===i.sampleRate?4:1},tags:1,data:1},i}return x(t,e),t}(ro)})),mo=C((()=>{oo=function(){this.ver=2,this.properties={},this.measurements={}}})),yo=C((()=>{M(),mo(),Qr(),fi(),so=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=Wr(t,n)||ui,o.properties=qr(t,r),o.measurements=Jr(t,i),o}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(oo)})),vo=C((()=>{ao=function(){}})),bo=C((()=>{co=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}})),wo=C((()=>{lo=function(){this.hasFullStack=!0,this.parsedStack=[]}}));function So(e,t){var n=e;return n&&!Ne(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||"{}"===n)&&(n=Ee(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Co(e,t){var n=e;return e&&((n=e[jo]||e[Ao]||"")&&!Ne(n)&&(n=So(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function _o(e){return e&&e.src&&Ne(e.src)&&e.obj&&Ae(e.obj)}function ko(e){var t=e||"";Ne(t)||(t=Ne(t[To])?t[To]:""+t);var n=t.split("\n");return{src:t,obj:n}}function Po(e){var t=null;if(e)try{if(e[To])t=ko(e[To]);else if(e[Do]&&e[Do][To])t=ko(e[Do][To]);else if(e.exception&&e.exception[To])t=ko(e.exception[To]);else if(_o(e))t=e;else if(_o(e[xo]))t=e[xo];else if(window.opera&&e[jo])t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(Ne(e))t=ko(e);else{var n=e[jo]||e[Ao]||"";Ne(e[Ro])&&(n&&(n+="\n"),n+=" from "+e[Ro]),n&&(t=ko(n))}}catch(e){t=ko(e)}return t||{src:"",obj:null}}function Io(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function Eo(e){if(e)try{if(!Ne(e)){var t=Io(e),n=So(e,!1);return(!n||"{}"===n)&&(e[Do]&&(t=Io(e=e[Do])),n=So(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Do,To,xo,Ro,jo,Ao,Oo,No,Mo,Lo,Fo,Uo,Ko,Wo,Vo,Ho,Bo,qo,Jo,$o,Go,zo,Yo,Qo,Xo,Zo=C((()=>{M(),vo(),bo(),wo(),Qr(),Lr(),fi(),Do="error",To="stack",xo="stackDetails",Ro="errorSrc",jo="message",Ao="description",Oo=function(e){function t(t,n,r,i,o,s){var a=e.call(this)||this;return a.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){return!!Ie(e)&&"ver"in e&&"exceptions"in e&&"properties"in e}(n)?(a.exceptions=n.exceptions,a.properties=n.properties,a.measurements=n.measurements,n.severityLevel&&(a.severityLevel=n.severityLevel),n.id&&(a.id=n.id),n.problemGroup&&(a.problemGroup=n.problemGroup),a.ver=2,_e(n.isManual)||(a.isManual=n.isManual)):(r||(r={}),a.exceptions=[new No(t,n,r)],a.properties=qr(t,r),a.measurements=Jr(t,i),o&&(a.severityLevel=o),s&&(a.id=s)),a}return x(t,e),t.CreateAutoException=function(e,t,n,r,i,o,s,a){var c=Io(i||o||e);return{message:Co(e,c),url:t,lineNumber:n,columnNumber:r,error:Eo(i||o||e),evt:Eo(o||e),typeName:c,stackDetails:Po(s||i||o),errorSrc:a}},t.CreateFromInterface=function(e,n,r,i){var o=n.exceptions&&We(n.exceptions,(function(t){return No.CreateFromInterface(e,t)}));return new t(e,j({},n,{exceptions:o}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=(e.ver,e.problemGroup),s=e.id,a=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&We(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:s,isManual:a}},t.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Eo,t}(co),No=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){return!!Ie(e)&&"hasFullStack"in e&&"typeName"in e}(n))i.typeName=n.typeName,i.message=n.message,i[To]=n[To],i.parsedStack=n.parsedStack,i.hasFullStack=n.hasFullStack;else{var o=n,s=o&&o.evt;Oe(o)||(o=o[Do]||s||o),i.typeName=Wr(t,Io(o))||ui,i.message=Hr(t,Co(n||o,i.typeName))||ui;var a=n[xo]||Po(n);i.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;if(Ue(n,(function(e){var n=e.toString();if(Mo.regex.test(n)){var o=new Mo(n,r++);i+=o.sizeInBytes,t.push(o)}})),i>32768)for(var o=0,s=t.length-1,a=0,c=o,l=s;o<s;){if((a+=t[o].sizeInBytes+t[s].sizeInBytes)>32768){var u=l-c+1;t.splice(c,u);break}c=o,l=s,o++,s--}}return t}(a),i[To]=Br(t,function(e){var t="";return e&&(e.obj?Ue(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(a)),i.hasFullStack=Ae(i.parsedStack)&&i.parsedStack.length>0,r&&(r.typeName=r.typeName||i.typeName)}return i}return x(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&We(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[To],parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&We(n.parsedStack,(function(e){return Mo.CreateFromInterface(e)}))||n.parsedStack;return new t(e,j({},n,{parsedStack:r}))},t}(lo),Mo=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var o=n;i.level=r,i.method="<no_method>",i.assembly=He(o),i.fileName="",i.line=0;var s=o.match(t.regex);s&&s.length>=5&&(i.method=He(s[2])||i.method,i.fileName=He(s[4]),i.line=parseInt(s[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return x(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(ao)})),es=C((()=>{Lo=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}})),ts=C((()=>{var e;(e=Fo||(Fo={}))[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})),ns=C((()=>{ts(),Uo=function(){this.kind=Fo.Measurement}})),rs=C((()=>{M(),ns(),Ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return x(t,e),t}(Uo)})),is=C((()=>{M(),es(),Qr(),rs(),fi(),Wo=function(e){function t(t,n,r,i,o,s,a,c){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var u=new Ko;return u.count=i>0?i:void 0,u.max=isNaN(s)||null===s?void 0:s,u.min=isNaN(o)||null===o?void 0:o,u.name=Wr(t,n)||ui,u.value=r,l.metrics=[u],l.properties=qr(t,a),l.measurements=Jr(t,c),l}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Lo)})),os=C((()=>{M(),mo(),Vo=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(oo)})),ss=C((()=>{M(),os(),Qr(),hi(),fi(),Ho=function(e){function t(t,n,r,i,o,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=$r(t,a),c.url=Vr(t,r),c.name=Wr(t,n)||ui,isNaN(i)||(c.duration=ti(i)),c.properties=qr(t,o),c.measurements=Jr(t,s),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Vo)})),as=C((()=>{Bo=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}})),cs=C((()=>{M(),Qr(),Yi(),as(),hi(),qo=function(e){function t(t,n,r,i,o,s,a,c,l,u,d,p){void 0===l&&(l="Ajax");var h=e.call(this)||this;h.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},h.id=n,h.duration=ti(o),h.success=s,h.resultCode=a+"",h.type=Wr(t,l);var f=function(e,t,n,r){var i,o=r,s=r;if(t&&t.length>0){var a=ji(t);if(i=a.host,!o)if(null!=a.pathname){var c=0===a.pathname.length?"/":a.pathname;"/"!==c.charAt(0)&&(c="/"+c),s=a.pathname,o=Wr(e,n?n+" "+c:c)}else o=Wr(e,t)}else i=r,o=r;return{target:i,name:o,data:s}}(t,r,c,i);return h.data=Vr(t,i)||f.data,h.target=Wr(t,f.target),u&&(h.target=h.target+" | "+u),h.name=Wr(t,f.name),h.properties=qr(t,d),h.measurements=Jr(t,p),h}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Bo)})),ls=C((()=>{Jo=function(){this.ver=2,this.properties={},this.measurements={}}})),us=C((()=>{M(),ls(),Qr(),fi(),$o=function(e){function t(t,n,r,i,o){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ui,s.message=Hr(t,n),s.properties=qr(t,i),s.measurements=Jr(t,o),r&&(s.severityLevel=r),s}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(Jo)})),ds=C((()=>{M(),os(),Go=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return x(t,e),t}(Vo)})),ps=C((()=>{M(),ds(),Qr(),fi(),zo=function(e){function t(t,n,r,i,o,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Vr(t,r),c.name=Wr(t,n)||ui,c.properties=qr(t,o),c.measurements=Jr(t,s),a&&(c.domProcessing=a.domProcessing,c.duration=a.duration,c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c.receivedResponse=a.receivedResponse,c.sentRequest=a.sentRequest),c}return x(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(Go)})),hs=C((()=>{M(),ho(),Yo=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:1,baseData:1},r.baseType=t,r.baseData=n,r}return x(t,e),t}(no)})),fs=C((()=>{var e;(e=Qo||(Qo={}))[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})),gs=C((()=>{Lr(),Xo=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e.extensionConfig&&e.extensionConfig[n]&&!_e(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],_e(i)?r:i},e}()}));function ms(e){var t="ai."+e+".";return function(e){return t+e}}var ys,vs,bs,ws,Ss,Cs,_s,ks,Ps,Is,Es,Ds,Ts,xs,Rs,js,As,Os,Ns,Ms=C((()=>{var e;M(),Lr(),ys=ms("application"),vs=ms("device"),bs=ms("location"),ws=ms("operation"),Ss=ms("session"),Cs=ms("user"),_s=ms("cloud"),ks=ms("internal"),Ps=function(e){function t(){return e.call(this)||this}return x(t,e),t}((e={applicationVersion:ys("ver"),applicationBuild:ys("build"),applicationTypeId:ys("typeId"),applicationId:ys("applicationId"),applicationLayer:ys("layer"),deviceId:vs("id"),deviceIp:vs("ip"),deviceLanguage:vs("language"),deviceLocale:vs("locale"),deviceModel:vs("model"),deviceFriendlyName:vs("friendlyName"),deviceNetwork:vs("network"),deviceNetworkName:vs("networkName"),deviceOEMName:vs("oemName"),deviceOS:vs("os"),deviceOSVersion:vs("osVersion"),deviceRoleInstance:vs("roleInstance"),deviceRoleName:vs("roleName"),deviceScreenResolution:vs("screenResolution"),deviceType:vs("type"),deviceMachineName:vs("machineName"),deviceVMName:vs("vmName"),deviceBrowser:vs("browser"),deviceBrowserVersion:vs("browserVersion"),locationIp:bs("ip"),locationCountry:bs("country"),locationProvince:bs("province"),locationCity:bs("city"),operationId:ws("id"),operationName:ws("name"),operationParentId:ws("parentId"),operationRootId:ws("rootId"),operationSyntheticSource:ws("syntheticSource"),operationCorrelationVector:ws("correlationVector"),sessionId:Ss("id"),sessionIsFirst:Ss("isFirst"),sessionIsNew:Ss("isNew"),userAccountAcquisitionDate:Cs("accountAcquisitionDate"),userAccountId:Cs("accountId"),userAgent:Cs("userAgent"),userId:Cs("id"),userStoreRegion:Cs("storeRegion"),userAuthUserId:Cs("authUserId"),userAnonymousUserAcquisitionDate:Cs("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Cs("authUserAcquisitionDate"),cloudName:_s("name"),cloudRole:_s("role"),cloudRoleVer:_s("roleVer"),cloudRoleInstance:_s("roleInstance"),cloudEnvironment:_s("environment"),cloudLocation:_s("location"),cloudDeploymentUnit:_s("deploymentUnit"),internalNodeName:ks("nodeName"),internalSdkVersion:ks("sdkVersion"),internalAgentVersion:ks("agentVersion"),internalSnippet:ks("snippet"),internalSdkSrc:ks("sdkSrc")},function(){var t=this;e&&xe(e,(function(e,n){t[e]=n}))}))})),Ls=C((()=>{Qr(),Lr(),fi(),Is=function(){function e(){}return e.create=function(e,t,n,r,i,o){if(n=Wr(r,n)||ui,_e(e)||_e(t)||_e(n))throw Error("Input doesn't contain all required fields");var s={name:n,time:Fe(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};return _e(i)||xe(i,(function(e,t){s.data[e]=t})),s},e}()})),Fs=C((()=>{Ms(),Es={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ds=new Ps})),Us=C((()=>{Yi(),uo(),Fr(),fi(),ho(),po(),go(),yo(),Zo(),is(),ss(),os(),cs(),us(),ps(),hs(),fs(),gs(),Ms(),Qr(),Ls(),Fs(),gi(),hi(),Zr(),Ri(),Wi(),Ts="AppInsightsPropertiesPlugin",xs="AppInsightsChannelPlugin",Rs="ApplicationInsightsAnalytics"})),Ks=C((()=>{Us(),Lr(),ve(),js=function e(t,n,r,i){G(e,this,(function(e){var o,s=null,a=[],c=!1;function l(){r&&Ue(r.getTransmissionControls(),(function(e){Ue(e,(function(e){return e.flush(!0)}))}))}r&&(o=r.logger),e.trackPageView=function(e,r){var u=e.name;if(_e(u)||"string"!=typeof u){var d=ft();u=e.name=d&&d.title||""}var p=e.uri;if(_e(p)||"string"!=typeof p){var h=mt();p=e.uri=h&&h.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),l(),void o.throwInternal(me.WARNING,ye.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var f,g,m=!1,y=i.getPerformanceTiming().navigationStart;y>0&&(f=Bi(y,+new Date),i.shouldCollectDuration(f)||(f=void 0)),!_e(r)&&!_e(r.duration)&&(g=r.duration),(n||!isNaN(g))&&(isNaN(g)&&(r||(r={}),r.duration=f),t.sendPageViewInternal(e,r),l(),m=!0),r||(r={}),function(e){a.push(e),s||(s=setInterval((function(){var e=a.slice(0),t=!1;a=[],Ue(e,(function(e){e()?t=!0:a.push(e)})),0===a.length&&(clearInterval(s),s=null),t&&l()}),100))}((function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var s={name:u,uri:p};i.populatePageViewPerformanceEvent(s),s.isValid||m?(m||(r.duration=s.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(s,r),c=!0)):(r.duration=f,t.sendPageViewInternal(e,r))}else y>0&&Bi(y,+new Date)>6e4&&(n=!0,m||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){o.throwInternal(me.CRITICAL,ye.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+$e(e),{exception:Ct(e)})}return n}))}}))}})),Ws=C((()=>{Us(),Lr(),As=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Ct(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+Ct(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(ki()){null!=Ii(this._logger,this.prevPageVisitDataKeyName)&&Xe("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Os(e,t),r=bt().stringify(n);Ei(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+Ct(e))}},e.prototype.stopPageVisitTimer=function(){try{if(ki()){var e=Je(),t=Ii(this._logger,this.prevPageVisitDataKeyName);if(t&&vt()){var n=bt().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Di(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+Ct(e)),null}},e}(),Os=function(e,t){this.pageVisitStartTime=Je(),this.pageName=e,this.pageUrl=t}})),Vs=C((()=>{Us(),Lr(),Ns=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,o=0,s=0,a=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:Bi(t.startTime,t.connectEnd),o=Bi(t.requestStart,t.responseStart),s=Bi(t.responseStart,t.responseEnd),a=Bi(t.responseEnd,t.loadEventEnd)):(r=Bi(n.navigationStart,n.loadEventEnd),i=Bi(n.navigationStart,n.connectEnd),o=Bi(n.requestStart,n.responseStart),s=Bi(n.responseStart,n.responseEnd),a=Bi(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(me.WARNING,ye.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:o,response:s,dom:a}):this.shouldCollectDuration(r,i,o,s,a)?r<Math.floor(i)+Math.floor(o)+Math.floor(s)+Math.floor(a)?this._logger.throwInternal(me.WARNING,ye.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:o,response:s,dom:a}):(e.durationMs=r,e.perfTotal=e.duration=ti(r),e.networkConnect=ti(i),e.sentRequest=ti(o),e.receivedResponse=ti(s),e.domProcessing=ti(a),e.isValid=!0):this._logger.throwInternal(me.WARNING,ye.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:s,dom:a}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?yt().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?yt().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=yt();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=yt();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=yt(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gt()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,o=!1;if(i)for(var s=0;s<r.length;s++)o=o||-1!==i.toLowerCase().indexOf(r[s]);if(o)return!1;for(s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()}));function Hs(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Bs,qs,Js,$s,Gs,zs,Ys=C((()=>{M(),Us(),Lr(),Ks(),Ws(),Vs(),ve(),Bs="duration",qs="event",Js=function(e){function t(){var n,r,i,s,a,c=e.call(this)||this;return c.identifier=Rs,c.priority=180,c.autoRoutePVDelay=500,G(t,c,(function(e,l){var u=mt(!0);s=u&&u.href||"",e.getCookieMgr=function(){return bn(e.core)},e.processTelemetry=function(t,n){qt(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var o=0;o<i;++o){var s=e._telemetryInitializers[o];if(s)try{if(!1===s.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(me.CRITICAL,ye.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+$e(e),{exception:Ct(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=Is.create(t,so.dataType,so.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ye.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+$e(t),{exception:Ct(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+$e(t),{exception:Ct(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackTrace=function(t,n){try{var r=Is.create(t,$o.dataType,$o.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ye.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackMetric=function(t,n){try{var r=Is.create(t,Wo.dataType,Wo.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+$e(t),{exception:Ct(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,j({},r.properties,r.measurements,n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackPVFailed,"trackPageView failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.sendPageViewInternal=function(t,n,r){var i=ft();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var o=Is.create(t,Ho.dataType,Ho.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.sendPageViewPerformanceInternal=function(t,n,r){var i=Is.create(t,zo.dataType,zo.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=ft();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+$e(t),{exception:Ct(t)})}},e.stopTrackPage=function(t,n,i,o){try{if("string"!=typeof t){var s=ft();t=s&&s.title||""}if("string"!=typeof n){var a=mt();n=a&&a.href||""}r.stop(t,n,i,o),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+$e(t),{exception:Ct(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error(ui),o=new Oo(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),s=Is.create(o,Oo.dataType,Oo.envelopeType,e.diagLog(),n,r);e.core.track(s)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.TrackExceptionFailed,"trackException failed, exception will not be collected: "+$e(t),{exception:Ct(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=pt();i&&(r=i[qs])}var o=t&&t.url||(ft()||{}).URL,s=t.errorSrc||"window.onerror@"+o+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),a={errorSrc:s,url:o,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};ii(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=Is.create(t,Oo.dataType,Oo.envelopeType,e.diagLog(),n);e.core.track(r)}(Oo.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,t.lineNumber||0,t.columnNumber||0,n,r,null,s),a):(t.errorSrc||(t.errorSrc=s),e.trackException({exception:t,severityLevel:Qo.Error},a))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(me.CRITICAL,ye.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+$e(t),{exception:Ct(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(u,d,p,h){if(!e.isInitialized()){if(_e(d))throw Error("Error initializing");l.initialize(u,d,p,h),e.setInitialized(!1);var f=e._getTelCtx(),g=e.identifier;e.config=f.getExtCfg(g);var m=t.getDefaultConfig(u);void 0!==m&&xe(m,(function(t,n){e.config[t]=f.getConfig(g,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&bi();var y={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return e.config.accountId||u.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||u.appId}};e._pageViewPerformanceManager=new Ns(e.core),e._pageViewManager=new js(c,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new As(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];!function(t){e._telemetryInitializers.push(t)}((function(e){if(e.baseType===qo.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0}))}}(y),(n=new $s(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i[Bs]=r.toString(),e.trackEvent({name:t,properties:i})},(r=new $s(e.diagLog(),"trackPageView")).action=function(t,n,r,i,o){_e(i)&&(i={}),i[Bs]=r.toString();var s={name:t,uri:n,properties:i,measurements:o};e.sendPageViewInternal(s,i)};var v=pt(),b=Boolean(typeof history===o&&history)?history:ut(It),w=mt(!0),S=c;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&v){var C=v.onerror;v.onerror=function(e,t,n,r,i){var o=v[qs],s=C&&C(e,t,n,r,i);return!0!==s&&S._onerror(Oo.CreateAutoException(e,t,n,r,i,o)),s},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&v){var _="onunhandledrejection",k=v[_];v[_]=function(e){var t=v[qs],n=k&&k.call(v,e);return!0!==n&&S._onerror(Oo.CreateAutoException(e.reason.toString(),w?w.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&b&&Ee(b.pushState)&&Ee(b.replaceState)&&v&&"undefined"!=typeof Event){var P=c;Ue(p,(function(e){e.identifier===Ts&&(i=e)})),b.pushState=(I=b.pushState,function(){var e=I.apply(this,arguments);return Hs(v,Xr(P.config.namePrefix+"pushState")),Hs(v,Xr(P.config.namePrefix+"locationchange")),e}),b.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Hs(v,Xr(P.config.namePrefix+"replaceState")),Hs(v,Xr(P.config.namePrefix+"locationchange")),t}}(b.replaceState),v.addEventListener&&(v.addEventListener(P.config.namePrefix+"popstate",(function(){Hs(v,Xr(P.config.namePrefix+"locationchange"))})),v.addEventListener(P.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=hr();var e="_unknown_";w&&w.pathname&&(e=w.pathname+(w.hash||"")),i.context.telemetryTrace.name=e}a&&(s=a),a=w&&w.href||"",setTimeout(function(e){P.trackPageView({refUri:e,properties:{duration:0}})}.bind(c,s),P.autoRoutePVDelay)})))}e.setInitialized(!0)}var I}})),c}return x(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=ei(e.disableExceptionTracking),e.autoTrackPageVisitTime=ei(e.autoTrackPageVisitTime),e.overridePageViewDuration=ei(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=ei(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=ei(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ei(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=ei(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=ei(e.enableDebug),e.disableFlushOnBeforeUnload=ei(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ei(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.6.4",t}(rn),$s=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(me.WARNING,ye.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,o,s){var a=r[t];if(isNaN(a))e.throwInternal(me.WARNING,ye.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=Bi(a,+new Date);n.action(t,i,c,o,s)}delete r[t],r[t]=void 0}}})),Qs=C((()=>{Ys()})),Xs=C((()=>{Us(),Lr(),ve(),Gs=function e(t){var n=[];G(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},zs=function(){function e(t,n){var r,i=!1;G(e,this,(function(o){var s=l(e.BUFFER_KEY),a=l(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return Ue(t,(function(t){!Ee(t)&&-1===Ke(e,t)&&n.push(t)})),n}function l(e){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var i=Ii(t,r);if(i){var o=bt().parse(i);if(Ne(o)&&(o=bt().parse(o)),o&&Ae(o))return o}}catch(e){t.throwInternal(me.CRITICAL,ye.FailedToRestoreStorageBuffer," storage key: "+r+", "+$e(e),{exception:Ct(e)})}return[]}function u(e,r){var i=e;try{i=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+i:i;var o=JSON.stringify(r);Ei(t,i,o)}catch(e){Ei(t,i,JSON.stringify([])),t.throwInternal(me.WARNING,ye.FailedToSetStorageBuffer," storage key: "+i+", "+$e(e)+". Buffer cleared",{exception:Ct(e)})}}(r=s.concat(a)).length>e.MAX_BUFFER_SIZE&&(r.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,[]),u(e.BUFFER_KEY,r),o.enqueue=function(n){r.length>=e.MAX_BUFFER_SIZE?i||(t.throwInternal(me.WARNING,ye.SessionStorageBufferFull,"Maximum buffer size reached: "+r.length,!0),i=!0):(r.push(n),u(e.BUFFER_KEY,r))},o.count=function(){return r.length},o.clear=function(){r=[],u(e.BUFFER_KEY,[]),u(e.SENT_BUFFER_KEY,[]),i=!1},o.getItems=function(){return r.slice(0)},o.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},o.markAsSent=function(n){r=c(n,r),u(e.BUFFER_KEY,r);var i=l(e.SENT_BUFFER_KEY);i instanceof Array&&n instanceof Array&&((i=i.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(me.CRITICAL,ye.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+i.length,!0),i.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,i))},o.clearSent=function(t){var n=l(e.SENT_BUFFER_KEY);n=c(t,n),u(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()}));function Zs(e,t,n){return Ge(e,t,n,Qe)}var ea,ta,na,ra,ia,oa,sa,aa,ca,la,ua,da,pa,ha,fa,ga,ma,ya,va=C((()=>{M(),Us(),Lr(),ea="baseType",ta="baseData",na="properties",ra="true",ia=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){_e(e)||xe(e,(function(e,r){Me(r)?n[e]=r:Ne(r)?t[e]=r:vt()&&(t[e]=bt().stringify(r))}))},e.createEnvelope=function(t,n,r,i){var o=new io(t,i,n);Zs(o,"sampleRate",r[si]),(r[ta]||{}).startTime&&(o.time=Fe(r[ta].startTime)),o.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",s),e.extractPartAExtensions(r,o),r.tags=r.tags||[],et(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],s=i.user;s&&(Zs(r,Ds.userAuthUserId,s.authId),Zs(r,Ds.userId,s.id||s.localId));var a=i.app;a&&Zs(r,Ds.sessionId,a.sesId);var c=i.device;c&&(Zs(r,Ds.deviceId,c.id||c.localId),Zs(r,Ds.deviceType,c.deviceClass),Zs(r,Ds.deviceIp,c.ip),Zs(r,Ds.deviceModel,c.model),Zs(r,Ds.deviceType,c.deviceType));var l=t.ext.web;if(l){Zs(r,Ds.deviceLanguage,l.browserLang),Zs(r,Ds.deviceBrowserVersion,l.browserVer),Zs(r,Ds.deviceBrowser,l.browser);var u=n.data=n.data||{},d=u[ta]=u[ta]||{},p=d[na]=d[na]||{};Zs(p,"domain",l.domain),Zs(p,"isManual",l.isManual?ra:null),Zs(p,"screenRes",l.screenRes),Zs(p,"userConsent",l.userConsent?ra:null)}var h=i.os;h&&Zs(r,Ds.deviceOS,h.name);var f=i.trace;f&&(Zs(r,Ds.operationParentId,f.parentID),Zs(r,Ds.operationName,f.name),Zs(r,Ds.operationId,f.traceID));for(var g={},m=o.length-1;m>=0;m--)xe(o[m],(function(e,t){g[e]=t})),o.splice(m,1);xe(o,(function(e,t){g[e]=t}));var y=j({},r,g);y[Ds.internalSdkVersion]||(y[Ds.internalSdkVersion]="javascript:"+e.Version),n.tags=et(y)},e.prototype.Init=function(e,t){this._logger=e,_e(t[ta])&&this._logger.throwInternal(me.CRITICAL,ye.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},i=n[ta][na]||{};ia.extractPropsAndMeasurements(n.data,i,r);var o=n[ta];if(_e(o))return t.warnToConsole("Invalid input for dependency data"),null;var s=o[na]&&o[na][ci]?o[na][ci]:"GET",a=new qo(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,s,o.type,o.correlationContext,i,r),c=new Yo(qo.dataType,a);return ia.createEnvelope(t,qo.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}(ia),sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},i={};n[ea]!==so.dataType&&(r.baseTypeSource=n[ea]),n[ea]===so.dataType?(r=n[ta][na]||{},i=n[ta].measurements||{}):n[ta]&&ia.extractPropsAndMeasurements(n[ta],r,i),ia.extractPropsAndMeasurements(n.data,r,i);var o=n[ta].name,s=new so(t,o,r,i),a=new Yo(so.dataType,s);return ia.createEnvelope(t,so.envelopeType,n,a)},t.EventEnvelopeCreator=new t,t}(ia),aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},i=n[ta][na]||{};ia.extractPropsAndMeasurements(n.data,i,r);var o=n[ta],s=Oo.CreateFromInterface(t,o,i,r),a=new Yo(Oo.dataType,s);return ia.createEnvelope(t,Oo.envelopeType,n,a)},t.ExceptionEnvelopeCreator=new t,t}(ia),ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],i=r[na]||{},o=r.measurements||{};ia.extractPropsAndMeasurements(n.data,i,o);var s=new Wo(t,r.name,r.average,r.sampleCount,r.min,r.max,i,o),a=new Yo(Wo.dataType,s);return ia.createEnvelope(t,Wo.envelopeType,n,a)},t.MetricEnvelopeCreator=new t,t}(ia),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,i="duration",o=n[ta];_e(o)||_e(o[na])||_e(o[na][i])?!_e(n.data)&&!_e(n.data[i])&&(r=n.data[i],delete n.data[i]):(r=o[na][i],delete o[na][i]);var s,a=n[ta];((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=a.id||s,l=a.name,u=a.uri,d=a[na]||{},p=a.measurements||{};_e(a.refUri)||(d.refUri=a.refUri),_e(a.pageType)||(d.pageType=a.pageType),_e(a.isLoggedIn)||(d.isLoggedIn=a.isLoggedIn.toString()),_e(a[na])||xe(a[na],(function(e,t){d[e]=t})),ia.extractPropsAndMeasurements(n.data,d,p);var h=new Ho(t,l,u,r,d,p,c),f=new Yo(Ho.dataType,h);return ia.createEnvelope(t,Ho.envelopeType,n,f)},t.PageViewEnvelopeCreator=new t,t}(ia),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],i=r.name,o=r.uri||r.url,s=r[na]||{},a=r.measurements||{};ia.extractPropsAndMeasurements(n.data,s,a);var c=new zo(t,i,o,void 0,s,a,r),l=new Yo(zo.dataType,c);return ia.createEnvelope(t,zo.envelopeType,n,l)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ia),da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].message,i=n[ta].severityLevel,o=n[ta][na]||{},s=n[ta].measurements||{};ia.extractPropsAndMeasurements(n.data,o,s);var a=new $o(t,r,i,o,s),c=new Yo($o.dataType,a);return ia.createEnvelope(t,$o.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}(ia)})),ba=C((()=>{Lr(),ve(),pa=function e(t){G(e,this,(function(e){function n(e,o){var s="__aiCircularRefCheck",a={};if(!e)return t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:o},!0),a;if(e[s])return t.throwInternal(me.WARNING,ye.CircularReferenceDetected,"Circular reference detected while serializing object",{name:o},!0),a;if(!e.aiDataContract){if("measurements"===o)a=i(e,"number",o);else if("properties"===o)a=i(e,"string",o);else if("tags"===o)a=i(e,"string",o);else if(Ae(e))a=r(e,o);else{t.throwInternal(me.WARNING,ye.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{bt().stringify(e),a=e}catch(e){t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,e&&Ee(e.toString)?e.toString():"Error serializing object",null,!0)}}return a}return e[s]=!0,xe(e.aiDataContract,(function(i,s){var c=Ee(s)?1&s():1&s,l=Ee(s)?4&s():4&s,u=2&s,d=void 0!==e[i],p=Ie(e[i])&&null!==e[i];if(!c||d||u){if(!l){var h;void 0!==(h=p?u?r(e[i],i):n(e[i],i):e[i])&&(a[i]=h)}}else t.throwInternal(me.CRITICAL,ye.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[s],a}function r(e,r){var i;if(e)if(Ae(e)){i=[];for(var o=0;o<e.length;o++){var s=n(e[o],r+"["+o+"]");i.push(s)}}else t.throwInternal(me.CRITICAL,ye.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,n,r){var i;return e&&(i={},xe(e,(function(e,o){if("string"===n)void 0===o?i[e]="undefined":null===o?i[e]="null":o.toString?i[e]=o.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var s=parseFloat(o);isNaN(s)?i[e]="NaN":i[e]=s}else i[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(me.CRITICAL,i[e],null,!0)}))),i}e.serialize=function(e){var r=n(e,"root");try{return bt().stringify(r)}catch(e){t.throwInternal(me.CRITICAL,ye.CannotSerializeObject,e&&Ee(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}})),wa=C((()=>{Lr(),ve(),ha=function(){function e(){var t=pt(),n=ft(),r=!1,i=!0;G(e,this,(function(e){try{if(t&&kr.Attach(t,"online",a)&&(kr.Attach(t,"offline",c),r=!0),n){var o=n.body||n;Ce(o.ononline)||(o.ononline=a,o.onoffline=c,r=!0)}if(r){var s=gt();s&&!_e(s.onLine)&&(i=s.onLine)}}catch(e){r=!1}function a(){i=!0}function c(){i=!1}e.isListening=r,e.isOnline=function(){var e=!0,t=gt();return r?e=i:t&&!_e(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),fa=ha.Offline})),Sa=C((()=>{ga=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()})),Ca=C((()=>{Sa(),Us(),ma=function(){function e(){this.hashCodeGeneragor=new ga,this.keys=new Ps}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}()})),_a=C((()=>{Ca(),Us(),Lr(),ya=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||Wt(null),(e>100||e<0)&&(this._logger.throwInternal(me.WARNING,ye.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new ma}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Wo.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}()}));function ka(e){try{return e.responseText}catch(e){}return null}var Pa,Ia,Ea,Da,Ta,xa,Ra=C((()=>{M(),Xs(),va(),ba(),Us(),Lr(),wa(),_a(),ve(),Pa=function(e){function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=xs,n._XMLHttpRequestSupported=!1;var r,i,o,a,c,l={};return G(t,n,(function(e,u){function d(){Xe("Method not implemented.")}function p(t,n,i,o,s,a){var c=null;if(e._appId||(c=y(a))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!h(i))return void e._onError(n,s);!e._senderConfig.isRetryDisabled()&&w(t)?(v(n),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Response code "+t+". Will retry to send "+n.length+" items.")):e._onError(n,s)}else fa.isOffline()?e._senderConfig.isRetryDisabled()||(v(n,10),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Offline - Response Code: "+t+". Offline status: "+fa.isOffline()+". Will retry to send "+n.length+" items.")):(h(i),206===t?(c||(c=y(a)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,c):e._onError(n,s)):(r=0,e._onSuccess(n,o)))}function h(t){return!(c>=10||_e(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++c,0))}function f(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"});gt().sendBeacon(r,o)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(g(t,!0),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function g(t,n){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[oi]=!0}catch(e){}r.open("POST",i,n),r.setRequestHeader("Content-type","application/json"),Vi(i)&&r.setRequestHeader(Nr.sdkContextHeader,Nr.sdkContextHeaderAppIdRequest),Ue(Be(l),(function(e){r.setRequestHeader(e,l[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,S(r),n)};var o=e._buffer.batchPayloads(t);r.send(o),e._buffer.markAsSent(t)}function m(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"}),s=new Headers;Vi(r)&&s.append(Nr.sdkContextHeader,Nr.sdkContextHeaderAppIdRequest),Ue(Be(l),(function(e){s.append(e,l[e])}));var a=new Request(r,{method:"POST",headers:s,body:o});fetch(a).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(e){p(n.status,t,n.url,t.length,n.statusText,e)})),e._buffer.markAsSent(t)})).catch((function(n){e._onError(t,n.message)}))}function y(t){try{if(t&&""!==t){var n=bt().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(me.CRITICAL,ye.InvalidBackendResponse,"Cannot parse the response. "+$e(n),{response:t})}return null}function v(t,n){if(void 0===n&&(n=1),t&&0!==t.length){e._buffer.clearSent(t),r++;for(var o=0,s=t;o<s.length;o++){var a=s[o];e._buffer.enqueue(a)}(function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,o=Math.floor(Math.random()*n*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var s=Je()+1e3*t;i=s})(n),b()}}function b(){if(!o){var t=i?Math.max(0,i-Je()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);o=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function w(e){return 408===e||429===e||500===e||503===e}function S(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+ka(e)||0:t}function C(t,n){var r=pt(),i=new XDomainRequest;i.onload=function(){return e._xdrOnLoad(i,t)},i.onerror=function(n){return e._onError(t,_(i),n)};var o=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",s);var a=e._buffer.batchPayloads(t);i.send(a),e._buffer.markAsSent(t)}function _(e,t){return e?"XDomainRequest,Response:"+ka(e)||0:t}e.pause=d,e.resume=d,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.FlushFailed,"flush failed, telemetry will not be collected: "+$e(t),{exception:Ct(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!ni())e.flush();else try{e.triggerSend(!0,f,2)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$e(t),{exception:Ct(t)})}},e.teardown=d,e.addHeader=function(e,t){l[e]=t},e.initialize=function(o,l,d,p){u.initialize(o,l,d,p);var h=e._getTelCtx(),y=e.identifier;a=new pa(l.logger),r=0,i=null,e._sender=null,c=0;var v=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),xe(v,(function(t,n){e._senderConfig[t]=function(){return h.getConfig(y,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&ki()?new zs(e.diagLog(),e._senderConfig):new Gs(e._senderConfig),e._sample=new ya(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){return!(_e(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(o)||e.diagLog().throwInternal(me.CRITICAL,ye.InvalidInstrumentationKey,"Invalid Instrumentation key "+o.instrumentationKey),!Vi(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&Ue(e._senderConfig.customHeaders(),(function(e){n.addHeader(e.header,e.value)})),!e._senderConfig.isBeaconApiDisabled()&&ni())e._sender=f;else{var b=ut("XMLHttpRequest");b?"withCredentials"in new b?(e._sender=g,e._XMLHttpRequestSupported=!0):typeof XDomainRequest!==s&&(e._sender=C):ut("fetch")&&(e._sender=m)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(me.CRITICAL,ye.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(me.CRITICAL,ye.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(me.CRITICAL,ye.SenderNotInitialized,"Sender was not initialized");if(!function(t){return e._sample.isSampledIn(t)}(n))return void r.diagLog().throwInternal(me.WARNING,ye.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[si]=e._sample.sampleRate;var i=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!i)return void r.diagLog().throwInternal(me.CRITICAL,ye.CreateEnvelopeError,"Unable to create an AppInsights envelope");var o=!1;if(n.tags&&n.tags[ai]&&(Ue(n.tags[ai],(function(e){try{e&&!1===e(i)&&(o=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(me.CRITICAL,ye.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+$e(e),{exception:Ct(e)},!0)}})),delete n.tags[ai]),o)return;var s=a.serialize(i),c=e._buffer.getItems(),l=e._buffer.batchPayloads(c);l&&l.length+s.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(s),b()}catch(e){r.diagLog().throwInternal(me.WARNING,ye.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$e(e),{exception:Ct(e)})}e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&p(e.status,t,e.responseURL,n,S(e),ka(e)||e.response)},e.triggerSend=function(t,r,s){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var a=e._buffer.getItems();(function(t,n){var r=function(){var t="getNotifyMgr";return e.core[t]?e.core[t]():e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ye.NotificationException,"send request notification failed: "+$e(t),{exception:Ct(t)})}})(s||0,t),r?r.call(n,a,t):e._sender(a,t)}new Date}clearTimeout(o),o=null,i=null}catch(t){var c=St();(!c||c>9)&&e.diagLog().throwInternal(me.CRITICAL,ye.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+$e(t),{exception:Ct(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(me.WARNING,ye.OnError,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],i=[],o=0,s=n.errors.reverse();o<s.length;o++){var a=s[o],c=t.splice(a.index,1)[0];w(a.statusCode)?i.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,S(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(v(i),e.diagLog().throwInternal(me.WARNING,ye.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,n){var i=ka(t);if(!t||i+""!="200"&&""!==i){var o=y(i);o&&o.itemsReceived&&o.itemsReceived>o.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,o):e._onError(n,_(t))}else r=0,e._onSuccess(n,0)}})),n}return x(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||_e(t)?e:j({},e,{iKey:t})).baseType){case so.dataType:return sa.EventEnvelopeCreator.Create(n,r);case $o.dataType:return da.TraceEnvelopeCreator.Create(n,r);case Ho.dataType:return la.PageViewEnvelopeCreator.Create(n,r);case zo.dataType:return ua.PageViewPerformanceEnvelopeCreator.Create(n,r);case Oo.dataType:return aa.ExceptionEnvelopeCreator.Create(n,r);case Wo.dataType:return ca.MetricEnvelopeCreator.Create(n,r);case qo.dataType:return oa.DependencyEnvelopeCreator.Create(n,r);default:return sa.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(rn)})),ja=C((()=>{Ra()})),Aa=C((()=>{ve(),Us(),Lr(),Ia=function(){},Ea=function(){function e(t,n){var r,i,o=Wt(n),s=bn(n);G(e,this,(function(n){t||(t={}),Ee(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Ee(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var a=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(i.length>=2)try{var s=+i[1]||0,a=+i[2]||0;isNaN(s)||s<=0?o.throwInternal(me.WARNING,ye.SessionRenewalDateIsZero,"AI session acquisition date is 0"+r):isNaN(a)||a<=0?o.throwInternal(me.WARNING,ye.SessionRenewalDateIsZero,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=s,e.renewalDate=a,n=!0)}catch(e){o.throwInternal(me.CRITICAL,ye.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+$e(e),{exception:Ct(e)})}return n}function l(e,t){var o=e.acquisitionDate;e.renewalDate=t;var a,c=n.config,l=c.sessionRenewalMs(),u=o+c.sessionExpirationMs()-t,d=[e.id,o,t];a=u<l?u/1e3:l/1e3;var p=c.cookieDomain?c.cookieDomain():null;s.set(r(),d.join("|"),c.sessionExpirationMs()>0?a:null,p),i=t}r=function(){return"ai_session"+a},n.automaticSession=new Ia,n.update=function(){var t=Je(),a=!1,u=n.automaticSession;u.id||(a=!function(e,t){var n=!1,i=s.get(r());if(i&&Ee(i.split))n=c(e,i);else{var a=Si(o,r());a&&(n=c(e,a))}return n||!!e.id}(u));var d=n.config.sessionExpirationMs();if(!a&&d>0){var p=n.config.sessionRenewalMs(),h=t-u.acquisitionDate,f=t-u.renewalDate;a=(a=(a=h<0||f<0)||h>d)||f>p}a?function(e){var t=n.config||{},r=(t.getNewId?t.getNewId():null)||pr;n.automaticSession.id=r(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,l(n.automaticSession,e),wi()||o.throwInternal(me.WARNING,ye.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&l(u,t)},n.backup=function(){var e=n.automaticSession;!function(e,t,n){Ci(o,r(),[e,t,n].join("|"))}(e.id,e.acquisitionDate,e.renewalDate)}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()})),Oa=C((()=>{Da=function(){}})),Na=C((()=>{Ta=function(){this.id="browser",this.deviceClass="Browser"}})),Ma=C((()=>{xa=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.4"}}));function La(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Fa,Ua,Ka,Wa=C((()=>{ve(),Us(),Lr(),Fa=function(){function e(t,n){this.isNewUser=!1;var r,i=Wt(n),o=bn(n);G(e,this,(function(n){n.config=t;var s=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";r=function(){return e.userCookieName+s};var a=o.get(r());if(a){n.isNewUser=!1;var c=a.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){var l=t||{},u=(l.getNewId?l.getNewId():null)||pr;n.id=u(l.idLength?t.idLength():22);var d=Fe(new Date);n.accountAcquisitionDate=d,n.isNewUser=!0;var p=[n.id,d];o.set(r(),p.join(e.cookieSeparator),31536e3);var h=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";_i(i,h)}n.accountId=t.accountId?t.accountId():void 0;var f=o.get(e.authUserCookieName);if(f){var g=(f=decodeURI(f)).split(e.cookieSeparator);g[0]&&(n.authenticatedId=g[0]),g.length>1&&g[1]&&(n.accountId=g[1])}n.setAuthenticatedUserContext=function(t,r,s){if(void 0===s&&(s=!1),!La(t)||r&&!La(r))i.throwInternal(me.WARNING,ye.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var a=n.authenticatedId;r&&(n.accountId=r,a=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),s&&o.set(e.authUserCookieName,encodeURI(a))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,o.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()})),Va=C((()=>{Ua=function(){}})),Ha=C((()=>{Us(),Lr(),Ka=function(e,t,n,r){var i=this;i.traceID=e||hr(),i.parentID=t,i.name=n;var o=mt();!n&&o&&o.pathname&&(i.name=o.pathname),i.name=Wr(r,i.name)}}));function Ba(e,t){e&&e[t]&&0===Be(e[t]).length&&delete e[t]}var qa,Ja,$a,Ga,za,Ya=C((()=>{ve(),Lr(),Aa(),Us(),Oa(),Na(),Ma(),Wa(),Va(),Ha(),qa="ext",Ja="tags",$a=function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},G(e,this,(function(e){e.application=new Da,e.internal=new xa(n),dt()&&(e.sessionManager=new Ea(n,t),e.device=new Ta,e.location=new Ua,e.user=new Fa(n,t),e.telemetryTrace=new Ka(void 0,void 0,void 0,i),e.session=new Ia),e.applySessionContext=function(t,n){var r=e.session,i=e.sessionManager;r&&Ne(r.id)?Ge(ze(t.ext,Es.AppExt),"sesId",r.id):i&&i.automaticSession&&Ge(ze(t.ext,Es.AppExt),"sesId",i.automaticSession.id,Ne)},e.applyOperatingSystemContxt=function(t,n){Ge(t.ext,Es.OSExt,e.os)},e.applyApplicationContext=function(t,n){var r=e.application;if(r){var i=ze(t,Ja);Ge(i,Ds.applicationVersion,r.ver,Ne),Ge(i,Ds.applicationBuild,r.build,Ne)}},e.applyDeviceContext=function(t,n){var r=e.device;if(r){var i=ze(ze(t,qa),Es.DeviceExt);Ge(i,"localId",r.id,Ne),Ge(i,"ip",r.ip,Ne),Ge(i,"model",r.model,Ne),Ge(i,"deviceClass",r.deviceClass,Ne)}},e.applyInternalContext=function(t,n){var r=e.internal;if(r){var i=ze(t,Ja);Ge(i,Ds.internalAgentVersion,r.agentVersion,Ne),Ge(i,Ds.internalSdkVersion,r.sdkVersion,Ne),(t.baseType===Vt.dataType||t.baseType===Ho.dataType)&&(Ge(i,Ds.internalSnippet,r.snippetVer,Ne),Ge(i,Ds.internalSdkSrc,r.sdkSrc,Ne))}},e.applyLocationContext=function(e,t){var n=r.location;n&&Ge(ze(e,Ja,[]),Ds.locationIp,n.ip,Ne)},e.applyOperationContext=function(t,n){var r=e.telemetryTrace;if(r){var i=ze(ze(t,qa),Es.TraceExt,{traceID:void 0,parentID:void 0});Ge(i,"traceID",r.traceID,Ne),Ge(i,"name",r.name,Ne),Ge(i,"parentID",r.parentID,Ne)}},e.applyWebContext=function(e,t){var n=r.web;n&&Ge(ze(e,qa),Es.WebExt,n)},e.applyUserContext=function(t,n){var r=e.user;if(r){Ge(ze(t,Ja,[]),Ds.userAccountId,r.accountId,Ne);var i=ze(ze(t,qa),Es.UserExt);Ge(i,"id",r.id,Ne),Ge(i,"authId",r.authenticatedId,Ne)}},e.cleanUp=function(e,t){var n=e.ext;n&&(Ba(n,Es.DeviceExt),Ba(n,Es.UserExt),Ba(n,Es.WebExt),Ba(n,Es.OSExt),Ba(n,Es.AppExt),Ba(n,Es.TraceExt))}}))}})),Qa=C((()=>{M(),ve(),Lr(),Ya(),Us(),Ga=function(e){function t(){var n,r,i=e.call(this)||this;return i.priority=110,i.identifier=Ts,G(t,i,(function(e,i){e.initialize=function(o,s,a,c){i.initialize(o,s,a,c);var l=e._getTelCtx(),u=e.identifier,d=t.getDefaultConfig();r=r||{},xe(d,(function(e,t){r[e]=function(){return l.getConfig(u,e,t())}})),e.context=new $a(s,r),n=ri(a,xs),e.context.appId=function(){return n?n._appId:null},e._extConfig=r},e.processTelemetry=function(t,n){if(!_e(t)){n=e._getTelCtx(n),t.name===Ho.envelopeType&&n.diagLog().resetInternalMessageCount();var r=e.context||{};if(r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update(),function(t,n){ze(t,"tags",[]),ze(t,"ext",{});var r=e.context;r.applySessionContext(t,n),r.applyApplicationContext(t,n),r.applyDeviceContext(t,n),r.applyOperationContext(t,n),r.applyUserContext(t,n),r.applyOperatingSystemContxt(t,n),r.applyWebContext(t,n),r.applyLocationContext(t,n),r.applyInternalContext(t,n),r.cleanUp(t,n)}(t,n),r.user&&r.user.isNewUser){r.user.isNewUser=!1;var i=new Vt(ye.SendBrowserInfoOnUserInit,(gt()||{}).userAgent||"");n.diagLog().logInternalMessage(me.CRITICAL,i)}e.processNext(t,n)}}})),i}return x(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(rn),za=Ga})),Xa=C((()=>{Qa()}));function Za(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=Bi(i,o)),r}function ec(e,t,n,r,i){var o=0,s=Za(n,r,i);return s&&(o=tc(e,t,ti(s))),o}function tc(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}var nc,rc,ic,oc,sc=C((()=>{Us(),Lr(),ve(),nc="properties",rc=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},ic=function e(t,n,r){var i=this,o=r,s="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new rc,i.clientFailure=0,i.traceID=t,i.spanID=n,G(e,i,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?Ai(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Vr(o,Ni(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*Bi(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,o=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[nc]={HttpMethod:e.method},i);if(e.requestSentTime&&(o.startTime=new Date,o.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t[nc]||{},i=0,o="name",s="Start",a="End",c="connect",l="redirect",u="request",d="response",p="duration",h="startTime",f=c+a,g=u+s,m=d+a,y=l+s,v=l=a,b="transferSize",w="encodedBodySize",S="decodedBodySize",C="serverTiming";if(n){i|=ec(r,l,n,y,v),i|=ec(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=ec(r,c,n,"connectStart",f),i|=ec(r,u,n,g,"requestEnd"),i|=ec(r,d,n,"responseStart",m),i|=ec(r,"networkConnect",n,h,f),i|=ec(r,"sentRequest",n,g,m);var _=n[p];_||(_=Za(n,h,m)||0),i|=tc(r,p,_),i|=tc(r,"perfTotal",_);var k=n[C];if(k){var P={};Ue(k,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e[o]||""+t),r=P[n]||{};xe(e,(function(e,t){(e!==o&&Ne(t)||Me(t))&&(r[e]&&(t=r[e]+";"+t),(t||!Ne(t))&&(r[e]=t))})),P[n]=r})),i|=tc(r,C,P)}i|=tc(r,b,n[b]),i|=tc(r,w,n[w]),i|=tc(r,S,n[S])}else e.perfMark&&(i|=tc(r,"missing",e.perfAttempts));i&&(t[nc]=r)}(e,o),n&&Be(e.requestHeaders).length>0&&(o[nc]=o[nc]||{},o[nc].requestHeaders=e.requestHeaders),r){var a=r();if(a){var c=a.correlationContext;if(c&&(o.correlationContext=c),a.headerMap&&Be(a.headerMap).length>0&&(o[nc]=o[nc]||{},o[nc].responseHeaders=a.headerMap),e.status>=400){var l=a.type;o[nc]=o[nc]||{},(""===l||"text"===l)&&(o[nc][s]=a[s]?a.statusText+" - "+a[s]:a.statusText),"json"===l&&(o[nc][s]=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return o}}))}})),ac=C((()=>{Lr(),Lr(),function(){function e(){}e.GetLength=function(e){var t=0;if(!_e(e)){var n="";try{n=e.toString()}catch(e){}t=n.length,t=isNaN(t)?0:t}return t}}()})),cc=C((()=>{Lr(),oc=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=hr(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=hr().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()}));function lc(e){var t="";try{!_e(e)&&!_e(e[mc])&&!_e(e[mc].requestUrl)&&(t+="(url: '"+e[mc].requestUrl+"')")}catch(e){}return t}function uc(e,t,n,r,i){e[gc]()[yc](me.CRITICAL,t,n,r,i)}function dc(e,t,n,r,i){e[gc]()[yc](me.WARNING,t,n,r,i)}function pc(e,t,n){return function(r){uc(e,t,n,{ajaxDiagnosticsMessage:lc(r.inst),exception:Ct(r.err)})}}function hc(e,t){return e&&t?e.indexOf(t):-1}var fc,gc,mc,yc,vc,bc,wc,Sc,Cc,_c,kc,Pc,Ic,Ec,Dc=C((()=>{M(),Us(),Lr(),sc(),ac(),cc(),ve(),fc="ai.ajxmn.",gc="diagLog",mc="ajaxData",yc="throwInternal",vc="fetch",bc=0,wc=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,c,l,u="trackDependencyDataInternal",d=mt(),p=!1,h=!1,f=d&&d.host&&d.host.toLowerCase(),g=t.getEmptyConfig(),m=!1,y=0,v=!1,b=0,w=!1,S=[],C={};return G(t,n,(function(e,n){function d(e){var t=!0;return(e||g.ignoreHeaders)&&Ue(g.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function _(e,t,n){S.push(function(e,t,n){return e?Tr(e[a],t,n,!1):null}(e,t,n))}function k(e,t,n){var r=!1,i=((Ne(t)?t:(t||{}).url||"")||"").toLowerCase();if(Ue(l,(function(e){var t=e;Ne(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var o=hc(i,"?"),s=hc(i,"#");return(-1===o||-1!==s&&s<o)&&(o=s),-1!==o&&(i=i.substring(0,o)),_e(e)?_e(t)||(r="object"==typeof t&&!0===t[oi]||!!n&&!0===n[oi]):r=!0===e[oi]||!0===i[oi],r?C[i]||(C[i]=1):C[i]&&(r=!0),r}function P(e,t){var n=!0,r=h;return _e(e)||(n=!0===t||!_e(e[mc])),r&&n}function E(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function D(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==hc(n.toLowerCase(),Nr.requestContextHeaderLowerCase)){var r=t.getResponseHeader(Nr.requestContextHeader);return Gi.getCorrelationContext(r)}}catch(n){dc(e,ye.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:lc(t),exception:Ct(n)})}}function T(e,t){if(t.requestUrl&&c&&v){var n=yt();if(n&&Ee(n.mark)){bc++;var r=c+e+"#"+bc;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function x(e,t,n,r){var i=t.perfMark,o=yt(),s=g.maxAjaxPerfLookupAttempts,a=g.ajaxPerfLookupDelay,c=t.requestUrl,l=0;!function u(){try{if(o&&i){l++;for(var d=null,p=o.getEntries(),h=p.length-1;h>=0;h--){var f=p[h];if(f){if("resource"===f.entryType)f.initiatorType===e&&(-1!==hc(f.name,c)||-1!==hc(c,f.name))&&(d=f);else if("mark"===f.entryType&&f.name===i.name){t.perfTiming=d;break}if(f.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||l>=s||!1===t.async?(i&&Ee(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=l,n()):setTimeout(u,a)}catch(e){r(e)}}()}function R(t){var n="";try{_e(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){uc(e,ye.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Ct(t)})}return n}function j(t,n,r,i,o,s){function a(t,n,i){var o=i||{};o.fetchDiagnosticsMessage=R(r),n&&(o.exception=Ct(n)),dc(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}i&&(i.responseFinishedTime=Hi(),i.status=n,x("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",m,o);t?e[u](t):a(ye.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){a(ye.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function A(t){if(t&&t.headers)try{var n=t.headers.get(Nr.requestContextHeader);return Gi.getCorrelationContext(n)}catch(n){dc(e,ye.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:R(t),exception:Ct(n)})}}e.initialize=function(f,y,C,R){if(!e.isInitialized()){n.initialize(f,y,C,R);var O=e._getTelCtx();xe(t.getDefaultConfig(),(function(e,n){g[e]=O.getConfig(t.identifier,e,n)}));var N=g.distributedTracingMode;if(m=g.enableRequestHeaderTracking,v=g.enableAjaxPerfTracking,b=g.maxAjaxCallsPerView,w=g.enableResponseHeaderTracking,l=g.excludeRequestFromAutoTrackingPatterns,o=N===pi.AI||N===pi.AI_AND_W3C,i=N===pi.AI_AND_W3C||N===pi.W3C,v){var M=f.instrumentationKey||"unkwn";c=M.length>5?fc+M.substring(M.length-5)+".":fc+M+"."}if(!1===g.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==s&&!_e(XMLHttpRequest)){var n=XMLHttpRequest[a];t=!(_e(n)||_e(n.open)||_e(n.send)||_e(n.abort))}var r=St();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[mc]={};var i=XMLHttpRequest[a].open;XMLHttpRequest[a].open=i}catch(n){t=!1,uc(e,ye.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Ct(n)})}return t}(e)&&!h&&(_(XMLHttpRequest,"open",{req:function(t,n,i,o){var s=t.inst,a=s[mc];!k(s,i)&&P(s,!0)&&(!a||!a.xhrMonitoringState.openDone)&&function(t,n,i,o){var s=r&&r.telemetryTrace&&r.telemetryTrace.traceID||hr(),a=hr().substr(0,16),c=new ic(s,a,e[gc]());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=o,t[mc]=c,function(t){t[mc].xhrMonitoringState.stateChangeAttached=kr.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&P(t)&&function(t){var n=t[mc];function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=lc(t),n&&(i.exception=Ct(n)),dc(e,ye.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Hi(),n.status=t.status,x("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",m,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:D(t),type:t.responseType,responseText:E(t),response:t.response};if(w){var n=t.getAllResponseHeaders();if(n){var r=He(n).split(/[\r\n]+/),i={};Ue(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");d(n)&&(i[n]=r)})),e.headerMap=i}}return e}));i?e[u](i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[mc]=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=Ct(r);(!n||-1===hc(n.toLowerCase(),"c00c023f"))&&uc(e,ye.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:lc(t),exception:n})}}))}(t)}(s,n,i,o)},hkErr:pc(e,ye.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),_(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r[mc];P(r)&&!i.xhrMonitoringState.sendDone&&(T("xhr",i),i.requestSentTime=Hi(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:pc(e,ye.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),_(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[mc];P(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:pc(e,ye.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),m&&_(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;P(r)&&d(t)&&(r[mc].requestHeaders[t]=n)},hkErr:pc(e,ye.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),h=!0),function(){var t=function(){var e=I();return!e||_e(e.Request)||_e(e.Request[a])||_e(e[vc])?null:e[vc]}();if(t){var n=I(),i=t.polyfill;!1===g.disableFetchTracking?(S.push(Tr(n,vc,{req:function(t,n,o){var s;if(p&&!k(null,n,o)&&(!i||!h)){var a=t.ctx();s=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||hr(),o=hr().substr(0,16),s=new ic(i,o,e[gc]());s.requestSentTime=Hi(),t instanceof Request?s.requestUrl=t?t.url:"":s.requestUrl=t;var a="GET";n&&n.method?a=n.method:t&&t instanceof Request&&(a=t.method),s.method=a;var c={};return m&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){d(t)&&(c[t]=e)})),s.requestHeaders=c,T("fetch",s),s}(n,o);var c=e.includeCorrelationHeaders(s,n,o);c!==o&&t.set(1,c),a.data=s}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return j(0,(e||{}).status,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:A(e)};if(w){var n={};e.headers.forEach((function(e,t){d(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw j(0,0,t,n,null,e.message),e})))},hkErr:pc(e,ye.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),p=!0):i&&S.push(Tr(n,vc,{req:function(e,t,n){k(null,t,n)}})),i&&(n[vc].polyfill=i)}}(),C.length>0&&C){for(var L=void 0,F=0;!L&&F<C.length;)C[F]&&C[F].identifier===Ts&&(L=C[F]),F++;L&&(r=L.context)}}},e.teardown=function(){Ue(S,(function(e){e.rm()})),S=[],p=!1,h=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[u](t,n)},e.includeCorrelationHeaders=function(t,n,s,a){var c=e._currentWindowHost||f;if(n){if(Gi.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c)){if(s||(s={}),s.headers=new Headers(s.headers||n instanceof Request&&n.headers||{}),o){var l="|"+t.traceID+"."+t.spanID;s.headers.set(Nr.requestIdHeader,l),m&&(t.requestHeaders[Nr.requestIdHeader]=l)}if((d=g.appId||r&&r.appId())&&(s.headers.set(Nr.requestContextHeader,Nr.requestContextAppIdFormat+d),m&&(t.requestHeaders[Nr.requestContextHeader]=Nr.requestContextAppIdFormat+d)),i){var u=new oc(t.traceID,t.spanID);s.headers.set(Nr.traceParentHeader,u.toString()),m&&(t.requestHeaders[Nr.traceParentHeader]=u.toString())}}return s}if(a){var d;if(Gi.canIncludeCorrelationHeader(g,t.getAbsoluteUrl(),c))o&&(l="|"+t.traceID+"."+t.spanID,a.setRequestHeader(Nr.requestIdHeader,l),m&&(t.requestHeaders[Nr.requestIdHeader]=l)),(d=g.appId||r&&r.appId())&&(a.setRequestHeader(Nr.requestContextHeader,Nr.requestContextAppIdFormat+d),m&&(t.requestHeaders[Nr.requestContextHeader]=Nr.requestContextAppIdFormat+d)),i&&(u=new oc(t.traceID,t.spanID),a.setRequestHeader(Nr.traceParentHeader,u.toString()),m&&(t.requestHeaders[Nr.traceParentHeader]=u.toString()));return a}},e[u]=function(t,n,r){if(-1===b||y<b){(g.distributedTracingMode===pi.W3C||g.distributedTracingMode===pi.AI_AND_W3C)&&"string"==typeof t.id&&"."!==t.id[t.id.length-1]&&(t.id+="."),_e(t.startTime)&&(t.startTime=new Date);var i=Is.create(t,qo.dataType,qo.envelopeType,e[gc](),n,r);e.core.track(i)}else y===b&&uc(e,ye.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++y}})),n}return x(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:pi.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return xe(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(rn)})),Tc=C((()=>{Dc()})),xc=C((()=>{Lr(),Qs(),ja(),Xa(),Tc(),Us(),Cc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],_c={__proto__:null,PropertiesPluginIdentifier:Ts,BreezeChannelIdentifier:xs,AnalyticsPluginIdentifier:Rs,Util:Ji,CorrelationIdHelper:Gi,UrlHelper:$i,DateTimeUtils:zi,ConnectionStringParser:eo,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:Nr,DisabledPropertyName:oi,ProcessLegacy:ai,SampleRate:si,HttpMethod:ci,DEFAULT_BREEZE_ENDPOINT:li,AIData:no,AIBase:to,Envelope:io,Event:so,Exception:Oo,Metric:Wo,PageView:Ho,PageViewData:Vo,RemoteDependencyData:qo,Trace:$o,PageViewPerformance:zo,Data:Yo,SeverityLevel:Qo,ConfigurationManager:Xo,ContextTagKeys:Ps,DataSanitizer:Yr,TelemetryItemCreator:Is,CtxTagKeys:Ds,Extensions:Es,DistributedTracingModes:pi},kc=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var r=Qi(n.connectionString),i=r.ingestionendpoint;n.endpointUrl=i?i+"/v2/track":n.endpointUrl,n.instrumentationKey=r.instrumentationkey||n.instrumentationKey}t.appInsights=new Js,t.properties=new za,t.dependencies=new wc,t.core=new Jn,t._sender=new Pa,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),qt(this.core,(function(){return"AISKU.flush"}),(function(){Ue(t.core.getTransmissionControls(),(function(t){Ue(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),Ue(this.core.getTransmissionControls(),(function(t){Ue(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var r=this;void 0===e&&(e=!1);var i=this;return e&&i.config.extensions&&i.config.extensions.length>0&&Xe("Extensions not allowed in legacy mode"),qt(i.core,(function(){return"AISKU.loadAppInsights"}),(function(){var o=[];o.push(i._sender),o.push(i.properties),o.push(i.dependencies),o.push(i.appInsights),i.core.initialize(i.config,o,t,n),i.context=i.properties.context,Sc&&i.context&&(i.context.internal.sdkSrc=Sc),function(t){if(t){var n="";_e(i._snippetVersion)||(n+=i._snippetVersion),e&&(n+=".lg"),i.context&&i.context.internal&&(i.context.internal.snippetVer=n||"-"),xe(i,(function(e,n){Ne(e)&&!Ee(n)&&e&&"_"!==e[0]&&-1===Cc.indexOf(e)&&(t[e]=n)}))}}(i.snippet),i.emptyQueue(),i.pollInternalLogs(),i.addHousekeepingBeforeUnload(r)})),i},e.prototype.updateSnippetDefinitions=function(e){Ze(e,this,(function(e){return e&&-1===Cc.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(Ae(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&Ee(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(dt()||ht()){var t=function(){e.onunloadFlush(!1),Ue(e.appInsights.core._extensions,(function(e){if(e.identifier===Ts)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=lr("beforeunload",t);n=lr("unload",t)||n,n=lr("pagehide",t)||n,!(n=lr("visibilitychange",t)||n)&&!function(){var e=gt();return!(!e||!e.product)&&e.product===At}()&&e.appInsights.core.logger.throwInternal(me.CRITICAL,ye.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(lr("pagehide",t),lr("visibilitychange",t))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",o=0;o<t.length;o++)if(-1!==r.indexOf(t[o])){i="cdn"+(o+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),Sc=i+"";break}}catch(e){}}()})),Rc=C((()=>{Us(),Lr(),Pc=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Ic=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ei(e.enableDebug),e.disableExceptionTracking=ei(e.disableExceptionTracking),e.disableTelemetry=ei(e.disableTelemetry),e.verboseLogging=ei(e.verboseLogging),e.emitLineDelimitedJson=ei(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ei(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ei(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ei(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ei(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ei(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ei(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ei(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ei(e.isRetryDisabled),e.isCookieUseDisabled=ei(e.isCookieUseDisabled),e.isStorageUseDisabled=ei(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ei(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ei(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,i){var o={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(o)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,i,o,s){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:i,properties:{HttpMethod:t},success:o,responseCode:s})},e.prototype.trackException=function(e,t,n,r,i){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,i,o){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:i})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,i){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){Xe("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){Ze(e,this,(function(e){return e&&-1===Pc.indexOf(e)}))},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,i){t.apply(e,[null,n,r,i])}}var n="logPageView";"function"==typeof this.snippet[n]&&(this[n]=function(t,n,r){e.trackPageView(null,t,n,r)});var r="logEvent";return"function"==typeof this.snippet[r]&&(this[r]=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[ai]=this._queue,e},e}()})),jc=C((()=>{Rc(),xc(),Lr(),Ec=function(){function e(){}return e.getAppInsights=function(e,t){var n=new kc(e),r=2!==t;if(fr(),2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var i=new Ic(e,n);return i.updateSnippetDefinitions(e),n.loadAppInsights(r),i},e}()})),Ac={};((e,t)=>{for(var n in t)m(e,n,{get:t[n],enumerable:!0})})(Ac,{AppInsightsCore:()=>Jn,ApplicationAnalytics:()=>Js,ApplicationInsights:()=>kc,ApplicationInsightsContainer:()=>Ec,BaseCore:()=>Bn,BaseTelemetryPlugin:()=>rn,CoreUtils:()=>Cr,DependenciesPlugin:()=>wc,DistributedTracingModes:()=>pi,Event:()=>so,Exception:()=>Oo,LoggingSeverity:()=>me,Metric:()=>Wo,NotificationManager:()=>qn,PageView:()=>Ho,PageViewPerformance:()=>zo,PerfEvent:()=>Jt,PerfManager:()=>$t,PropertiesPlugin:()=>za,RemoteDependencyData:()=>qo,Sender:()=>Pa,SeverityLevel:()=>Qo,Telemetry:()=>_c,Trace:()=>$o,Util:()=>Ji,_InternalMessageId:()=>ye,doPerf:()=>qt});var Oc=C((()=>{xc(),jc(),Lr(),Us(),ja(),Qs(),Xa(),Tc()})),Nc=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch(e){return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return Nc._instance||(Nc._instance=new Nc(e)),Nc._instance}},Mc=class extends class{constructor(e,t,n,r,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),void 0!==i.env.onDidChangeTelemetryEnabled?(this.disposables.push(i.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=Nc.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==this.vscodeAPI.env.appRoot&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of r)for(;(n=i.exec(e))&&n;)t.push([n.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(i+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(i+=e.substr(a))}for(let e of r)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":o.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Nc.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&""!==e){if(t=S(S({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&""!==e){if(t=S(S({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=S(S({},t),this.getCommonProperties()),r){let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(n)}t=null!=t?t:{},n=null!=n?n:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,r,i,o){let s=e=>((e,t)=>_(void 0,null,(function*(){let n;try{let t,r=yield Promise.resolve().then((()=>(Oc(),Ac)));e&&0===e.indexOf("AIF-")&&(t="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),t&&fetch(t).catch((()=>n=void 0))}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{let i=S(S({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Nc.applyReplacements(i,t),null==n||n.trackEvent({name:e},i)},logException:(e,r)=>{let i=S(S({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Nc.applyReplacements(i,t),null==n||n.trackException({exception:e,properties:i})},flush:()=>_(void 0,null,(function*(){null==n||n.flush()}))}})))(e,o);Nc.shouldUseOneDataSystemSDK(r)&&(s=e=>((e,t,r)=>_(void 0,null,(function*(){let i=yield((e,t,r)=>_(void 0,null,(function*(){let i=yield Promise.resolve().then(n.bind(n,67164)),o=yield Promise.resolve().then(n.bind(n,63391)),s=new i.AppInsightsCore,a=new o.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(r){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:r};c.extensionConfig[a.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{var t,n;!l||(e.ext=null!=(t=e.ext)?t:{},e.ext.utc=null!=(n=e.ext.utc)?n:{},e.ext.utc.flags=8462029)})),s})))(e,t,r);return{logEvent:(e,t)=>{try{null==i||i.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>_(void 0,null,(function*(){try{null==i||i.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}))}})))(e,g));let a=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}flush(){return _(this,null,(function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)}))}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(r,s);r&&(0===r.indexOf("AIF-")||Nc.shouldUseOneDataSystemSDK(r))&&(i=!0),super(e,t,a,{release:navigator.appVersion,platform:"web",architecture:"web"},g,i)}}},14277:e=>{"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),o=n(4372),s=n(15327),a=n(94097),c=n(84109),l=n(67985),u=n(85061),d=n(45655),p=n(65263);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var S=a(e.baseURL,e.url);function C(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),v=null}}if(v.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(C)},v.onabort=function(){v&&(n(u("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(u("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||l(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;_&&(g[e.xsrfHeaderName]=_)}"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(n(!e||e&&e.type?new p("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),v.send(f)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),i=n(91849),o=n(30321),s=n(47185),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(45655));a.Axios=o,a.Cancel=n(65263),a.CancelToken=n(14972),a.isCancel=n(26502),a.VERSION=n(97288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(16268),e.exports=a,e.exports.default=a},65263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:(e,t,n)=>{"use strict";var r=n(65263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),i=n(15327),o=n(80782),s=n(13572),a=n(47185),c=n(54875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=t;r.length;){var h=r.shift(),f=r.shift();try{p=h(p)}catch(e){f(e);break}}try{o=s(p)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},80782:(e,t,n)=>{"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:(e,t,n)=>{"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},85061:(e,t,n)=>{"use strict";var r=n(80481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},13572:(e,t,n)=>{"use strict";var r=n(64867),i=n(18527),o=n(26502),s=n(45655),a=n(65263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},36026:(e,t,n)=>{"use strict";var r=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),i=n(45655);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45655:(e,t,n)=>{"use strict";var r=n(34155),i=n(64867),o=n(16016),s=n(80481),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"[object process]"===Object.prototype.toString.call(r))&&(l=n(55448)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(a)})),e.exports=u},97288:e=>{e.exports={version:"0.25.0"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:(e,t,n)=>{"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},64867:(e,t,n)=>{"use strict";var r=n(91849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=c(e),s=o[0],a=o[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(l(e,a,a+s>c?c:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48764:(e,t,n)=>{"use strict";var r=n(79742),i=n(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||V(e.length)?a(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|f(e))}function p(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(i)return r?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(l(e,o+p)!==l(t,p)){d=!1;break}if(d)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(V(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return K(F(t,e.length-n),e,n,r)}function C(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return K(U(t),e,n,r)}function k(e,t,n,r){return K(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(W(o,Uint8Array))i+o.length>r.length?c.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(W(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=e.slice(t,n),d=0;d<a;++d)if(l[d]!==u[d]){o=l[d],s=u[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=H[e[o]];return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||O(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||O(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var L=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function V(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},54098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];S.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise((function(r,o){var s=new b(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=p,e.Request=b,e.Response=S),t.Headers=p,t.Request=b,t.Response=S,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},66518:e=>{"use strict";e.exports=function(e){var t=void 0;t="string"==typeof e?[e]:e.raw;for(var n="",r=0;r<t.length;r++)n+=t[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),r<(arguments.length<=1?0:arguments.length-1)&&(n+=arguments.length<=r+1?void 0:arguments[r+1]);var i=n.split("\n"),o=null;return i.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var n=t[1].length;o=o?Math.min(o,n):n}})),null!==o&&(n=i.map((function(e){return" "===e[0]?e.slice(o):e})).join("\n")),(n=n.trim()).replace(/\\n/g,"\n")}},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,s,l;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=f(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},64063:e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var s,a,c,l=t(i),u=t(o);if(l&&u){if((a=i.length)!=o.length)return!1;for(s=a;0!=s--;)if(!e(i[s],o[s]))return!1;return!0}if(l!=u)return!1;var d=i instanceof Date,p=o instanceof Date;if(d!=p)return!1;if(d&&p)return i.getTime()==o.getTime();var h=i instanceof RegExp,f=o instanceof RegExp;if(h!=f)return!1;if(h&&f)return i.toString()==o.toString();var g=n(i);if((a=g.length)!==n(o).length)return!1;for(s=a;0!=s--;)if(!r.call(o,g[s]))return!1;for(s=a;0!=s--;)if(!e(i[c=g[s]],o[c]))return!1;return!0}return i!=i&&o!=o}},35960:e=>{e.exports=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,r,i){var o=n.shift();switch(i){case"s":o=""+o;break;case"d":o=Number(o);break;case"j":o=JSON.stringify(o)}return t?(n.unshift(o),e):o}))),n.length&&(e+=" "+n.join(" ")),""+e.replace(/%{2,2}/g,"%")}},80645:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+h]=255&s,h+=f,s/=256,l-=8);e[n+h-f]|=128*g}},26594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncContainerModule:()=>We,BindingScopeEnum:()=>y,BindingTypeEnum:()=>v,Container:()=>Ue,ContainerModule:()=>Ke,LazyServiceIdentifer:()=>U,METADATA_KEY:()=>at,MetadataReader:()=>T,TargetTypeEnum:()=>b,createTaggedDecorator:()=>Be,decorate:()=>$e,getServiceIdentifierAsString:()=>R,id:()=>S,inject:()=>Xe,injectable:()=>Ge,interfaces:()=>it,multiBindToService:()=>ie,multiInject:()=>tt,named:()=>Ye,namedConstraint:()=>ke,optional:()=>Ze,postConstruct:()=>ot,preDestroy:()=>st,tagged:()=>ze,taggedConstraint:()=>_e,targetName:()=>nt,traverseAncerstors:()=>Ce,typeConstraint:()=>Pe,unmanaged:()=>et});var r={};n.r(r),n.d(r,{DESIGN_PARAM_TYPES:()=>h,INJECT_TAG:()=>c,MULTI_INJECT_TAG:()=>l,NAMED_TAG:()=>i,NAME_TAG:()=>o,NON_CUSTOM_TAG_KEYS:()=>m,OPTIONAL_TAG:()=>a,PARAM_TYPES:()=>p,POST_CONSTRUCT:()=>f,PRE_DESTROY:()=>g,TAGGED:()=>u,TAGGED_PROP:()=>d,UNMANAGED_TAG:()=>s});var i="named",o="name",s="unmanaged",a="optional",c="inject",l="multi_inject",u="inversify:tagged",d="inversify:tagged_props",p="inversify:paramtypes",h="design:paramtypes",f="post_construct",g="pre_destroy",m=[c,l,o,s,i,a],y={Request:"Request",Singleton:"Singleton",Transient:"Transient"},v={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},b={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},w=0;function S(){return w++}var C=function(){function e(e,t){this.id=S(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=v.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===y.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),_="Metadata key was used more than once in a parameter:",k="NULL argument",P="Key Not Found",I="Missing required @injectable annotation in:",E="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",D=function(e,t){return"onDeactivation() error in class "+e+": "+t},T=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(p,e),userGeneratedMetadata:Reflect.getMetadata(u,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(d,e)||[]},e}();function x(e){return e instanceof RangeError||"Maximum call stack size exceeded"===e.message}function R(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function j(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=N(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function A(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||A(e.parentRequest,t))}function O(e){e.childRequests.forEach((function(e){if(A(e,e.serviceIdentifier)){var t=function(e){return function e(t,n){void 0===n&&(n=[]);var r=R(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(e);throw new Error("Circular dependency found: "+t)}O(e)}))}function N(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}var M=function(){function e(e){this.id=S(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),L=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===i?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),F=function(e,t){this.parentContext=e,this.rootRequest=t},U=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),K=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),W=function(){function e(e,t,n,r){this.id=S(),this.type=e,this.serviceIdentifier=n;var o="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new K(o||""),this.identifier=t,this.metadata=new Array;var s=null;"string"==typeof r?s=new L(i,r):r instanceof L&&(s=r),null!==s&&this.metadata.push(s)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(l)},e.prototype.matchesArray=function(e){return this.matchesTag(l)(e)},e.prototype.isNamed=function(){return this.hasTag(i)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return m.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(a)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===i}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return m.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(i)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}(),V=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function H(e,t,n,r){var i=e.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(void 0===o)throw new Error(I+" "+t+".");var s=i.userGeneratedMetadata,a=Object.keys(s),c=0===n.length&&a.length>0,l=a.length>n.length,u=function(e,t,n,r,i){for(var o=[],s=0;s<i;s++){var a=B(s,e,t,n,r);null!==a&&o.push(a)}return o}(r,t,o,s,c||l?a.length:n.length),d=J(e,n,t);return V(V([],u,!0),d,!0)}function B(e,t,n,r,i){var o=i[e.toString()]||[],s=G(o),a=!0!==s.unmanaged,c=r[e];if((c=s.inject||s.multiInject||c)instanceof U&&(c=c.unwrap()),a){if(!t&&(c===Object||c===Function||void 0===c))throw new Error("Missing required @inject or @multiInject annotation in: argument "+e+" in class "+n+".");var l=new W(b.ConstructorArgument,s.targetName,c);return l.metadata=o,l}return null}function q(e,t,n,r){var i=e||t;if(void 0===i){var o=I+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function J(e,t,n){for(var r=e.getPropertiesMetadata(t),i=[],o=Object.getOwnPropertySymbols(r),s=0,a=Object.keys(r).concat(o);s<a.length;s++){var c=a[s],l=r[c],u=G(l),d=u.targetName||c,p=q(u.inject,u.multiInject,c,n),h=new W(b.ClassProperty,d,p);h.metadata=l,i.push(h)}var f=Object.getPrototypeOf(t.prototype).constructor;if(f!==Object){var g=J(e,f,n);i=V(V([],i,!0),g,!0)}return i}function $(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=H(e,N(n),n,!0),i=r.map((function(e){return e.metadata.filter((function(e){return e.key===s}))})),o=[].concat.apply([],i).length,a=r.length-o;return a>0?a:$(e,n)}return 0}function G(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[c],multiInject:t[l],targetName:t[o],unmanaged:t[s]}}var z=function(){function e(e,t,n,r,i){this.id=S(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();function Y(e){return e._bindingDictionary}function Q(e,t,n,r,i){var o,s=Z(n.container,i.serviceIdentifier);return 0===s.length&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),s=Z(n.container,i.serviceIdentifier)),o=t?s:s.filter((function(e){var t=new z(e.serviceIdentifier,n,r,e,i);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case 0:if(n.isOptional())return t;var i=R(e),o="No matching bindings found for serviceIdentifier:";throw o+=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}(i,n),o+=j(r,i,Z),new Error(o);case 1:return t;default:if(n.isArray())return t;throw o="Ambiguous match found for serviceIdentifier: "+(i=R(e)),o+=j(r,i,Z),new Error(o)}}(i.serviceIdentifier,o,i,n.container),o}function X(e,t,n,r,i,o){var s,a;if(null===i){s=Q(e,t,r,null,o),a=new z(n,r,null,s,o);var c=new F(r,a);r.addPlan(c)}else s=Q(e,t,r,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach((function(t){var n=null;if(o.isArray())n=a.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;n=a}if(t.type===v.Instance&&null!==t.implementationType){var i=function(e,t){return H(e,N(t),t,!1)}(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var s=$(e,t.implementationType);if(i.length<s){var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."}(N(t.implementationType));throw new Error(c)}}i.forEach((function(t){X(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function Z(e,t){var n=[],r=Y(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=Z(e.parent,t)),n}function ee(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function te(e){return!!ee(e)||Array.isArray(e)&&e.some(ee)}var ne,re=function(e,t){return n=void 0,r=void 0,o=function(){var n,r;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return n=i.sent(),e.cache=n,[3,3];case 2:throw r=i.sent(),e.cache=null,e.activated=!1,r;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(ne||(ne={}));var ie=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}},oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oe.apply(this,arguments)},se=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},ae=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function ce(e){var t,n=new((t=e.constr).bind.apply(t,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,r){var i=t.target.identifier,o=e.propertyInjections[r];n[i]=o})),n}function le(e){return se(this,void 0,void 0,(function(){var t,n,r,i;return ae(this,(function(o){for(t=[],n=0,r=e;n<r.length;n++)i=r[n],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function ue(e,t){var n=function(e,t){var n,r;if(Reflect.hasMetadata(f,e)){var i=Reflect.getMetadata(f,e);try{return null===(r=(n=t)[i.value])||void 0===r?void 0:r.call(n)}catch(t){throw new Error("@postConstruct error in class "+e.name+": "+t.message)}}}(e,t);return ee(n)?n.then((function(){return t})):t}var de=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&o)return r.map((function(t){return de(e)(t)}));if(!t.target.isOptional()||0!==n.length){var s=n[0];return ge(e,t,s)}}},pe=function(e,t){var n=function(e){switch(e.type){case v.Factory:return{factory:e.factory,factoryType:ne.Factory};case v.Provider:return{factory:e.provider,factoryType:ne.Provider};case v.DynamicValue:return{factory:e.dynamicValue,factoryType:ne.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(r,i){try{return n.factory.bind(e)(t)}catch(e){throw x(e)&&(e=new Error((o=n.factoryType,s=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+o+"' bindings. Please investigate bindings withservice identifier '"+s+"'."))),e}var o,s}()},he=function(e,t,n){var r,i=t.childRequests;switch(function(e){var t=null;switch(e.type){case v.ConstantValue:case v.Function:t=e.cache;break;case v.Constructor:case v.Instance:t=e.implementationType;break;case v.DynamicValue:t=e.dynamicValue;break;case v.Provider:t=e.provider;break;case v.Factory:t=e.factory}if(null===t){var n=R(e.serviceIdentifier);throw new Error("Invalid binding type: "+n)}}(n),n.type){case v.ConstantValue:case v.Function:r=n.cache;break;case v.Constructor:r=n.implementationType;break;case v.Instance:r=function(e,t,n,r){!function(e,t){e.scope!==y.Singleton&&function(e,t){var n="Class cannot be instantiated in "+(e.scope===y.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(D(t.name,n));if(Reflect.hasMetadata(g,t))throw new Error("@preDestroy error in class "+t.name+": "+n)}(e,t)}(e,t);var i=function(e,t,n){var r;if(t.length>0){var i=function(e,t){return e.reduce((function(e,n){var r=t(n);return n.target.type===b.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(n),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=te(r)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,n),o=oe(oe({},i),{constr:e});r=i.isAsync?function(e){return se(this,void 0,void 0,(function(){var t,n;return ae(this,(function(r){switch(r.label){case 0:return[4,le(e.constructorInjections)];case 1:return t=r.sent(),[4,le(e.propertyInjections)];case 2:return n=r.sent(),[2,ce(oe(oe({},e),{constructorInjections:t,propertyInjections:n}))]}}))}))}(o):ce(o)}else r=new e;return r}(t,n,r);return ee(i)?i.then((function(e){return ue(t,e)})):ue(t,i)}(n,n.implementationType,i,de(e));break;default:r=pe(n,t.parentContext)}return r},fe=function(e,t,n){var r=function(e,t){return t.scope===y.Singleton&&t.activated?t.cache:t.scope===y.Request&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==r||function(e,t,n){t.scope===y.Singleton&&function(e,t){e.cache=t,e.activated=!0,ee(t)&&re(e,t)}(t,n),t.scope===y.Request&&function(e,t,n){e.has(t.id)||e.set(t.id,n)}(e,t,n)}(e,t,r=n()),r},ge=function(e,t,n){return fe(e,n,(function(){var r=he(e,t,n);return ee(r)?r.then((function(e){return me(t,n,e)})):me(t,n,r)}))};function me(e,t,n){var r,i=ye(e.parentContext,t,n),o=Se(e.parentContext.container),s=o.next();do{r=s.value;var a=e.parentContext,c=e.serviceIdentifier,l=we(r,c);i=ee(i)?be(l,a,i):ve(l,a,i),s=o.next()}while(!0!==s.done&&!Y(r).hasKey(e.serviceIdentifier));return i}var ye=function(e,t,n){return"function"==typeof t.onActivation?t.onActivation(e,n):n},ve=function(e,t,n){for(var r=e.next();!r.done;){if(ee(n=r.value(t,n)))return be(e,t,n);r=e.next()}return n},be=function(e,t,n){return r=void 0,i=void 0,s=function(){var r,i;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=e.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(t,r)];case 3:return r=o.sent(),i=e.next(),[3,2];case 4:return[2,r]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}));var r,i,o,s},we=function(e,t){var n=e._activations;return n.hasKey(t)?n.get(t).values():[].values()},Se=function(e){for(var t=[e],n=e.parent;null!==n;)t.push(n),n=n.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},Ce=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||Ce(n,t))},_e=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new L(e,t),n}},ke=_e(i),Pe=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}},Ie=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new Ee(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=ke(e),new Ee(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new Ee(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=_e(e)(t),new Ee(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&Pe(e)(t.parentRequest)},new Ee(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&ke(e)(t.parentRequest)},new Ee(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&_e(e)(t)(n.parentRequest)},new Ee(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&Ce(t,Pe(e))},new Ee(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!Ce(t,Pe(e))},new Ee(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Ce(t,ke(e))},new Ee(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!Ce(t,ke(e))},new Ee(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&Ce(n,_e(e)(t))},new Ee(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return null!==n&&!Ce(n,_e(e)(t))},new Ee(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&Ce(t,e)},new Ee(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!Ce(t,e)},new Ee(this._binding)},e}(),Ee=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new Ie(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new Ie(this._binding)},e}(),De=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Ie(this._binding),this._bindingOnSyntax=new Ee(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Te=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=y.Request,new De(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=y.Transient,new De(this._binding)},e}(),xe=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Ie(this._binding),this._bindingOnSyntax=new Ee(this._binding),this._bindingInSyntax=new Te(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Re=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=v.Instance,this._binding.implementationType=e,new xe(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=v.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=v.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new xe(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=v.Constructor,this._binding.implementationType=e,this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=e,this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=v.Function,this._binding.scope=y.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=function(t){return function(n){return t.container.getNamed(e,n)}},new De(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=v.Provider,this._binding.provider=e,this._binding.scope=y.Singleton,new De(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),je=function(){function e(){}return e.of=function(t,n,r,i,o){var s=new e;return s.bindings=t,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},e}(),Ae=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(k);if(null==t)throw new Error(k);var n=this._map.get(e);void 0!==n?n.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(k);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(P)},e.prototype.remove=function(e){if(null==e)throw new Error(k);if(!this._map.delete(e))throw new Error(P)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(n,r){var i=e.hasKey(n)?e.get(n):void 0;if(void 0!==i){var o=r.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(n,o)}}))},e.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach((function(r,i){for(var o=[],s=0,a=r;s<a.length;s++){var c=a[s];e(c)?n.push(c):o.push(c)}t._setValue(i,o)})),n},e.prototype.hasKey=function(e){if(null==e)throw new Error(k);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,"object"==typeof(r=e)&&null!==r&&"clone"in r&&"function"==typeof r.clone?e.clone():e);var r}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),Oe=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},e.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){t._map.set(n,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new Ae,onDeactivations:new Ae}},e}(),Ne=function(){return Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ne.apply(this,arguments)},Me=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Fe=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ue=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=y.Transient;else if(t.defaultScope!==y.Singleton&&t.defaultScope!==y.Transient&&t.defaultScope!==y.Request)throw new Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=S(),this._bindingDictionary=new Ae,this._snapshots=[],this._middleware=null,this._activations=new Ae,this._deactivations=new Ae,this.parent=null,this._metadataReader=new T,this._moduleActivationStore=new Oe}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,s=Fe([t,n],r,!0).map((function(e){return Y(e)})),a=Y(o);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,a)})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Me(this,void 0,void 0,(function(){var t,n,r,i,o;return Le(this,(function(s){switch(s.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],o=t(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=e._removeModuleBindings(t.id);e._deactivateSingletons(n),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Me(this,void 0,void 0,(function(){var t,n,r,i;return Le(this,(function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?(r=n[t],i=this._removeModuleBindings(r.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:o.sent(),this._removeModuleHandlers(r.id),o.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||y.Transient,n=new C(e,t);return this._bindingDictionary.add(e,n),new Re(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return Me(this,void 0,void 0,(function(){return Le(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return Me(this,void 0,void 0,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,n){e._deactivateSingletons(n)})),this._bindingDictionary=new Ae},e.prototype.unbindAllAsync=function(){return Me(this,void 0,void 0,(function(){var e,t=this;return Le(this,(function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse((function(n,r){e.push(t._deactivateSingletonsAsync(r))})),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new Ae,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,i,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=function(e,t,n,r){var i=new W(b.Variable,"",t,new L(n,r)),o=new M(e);return new z(t,o,null,[],i)}(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(je.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return Me(this,void 0,void 0,(function(){var t;return Le(this,(function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,n){var r=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(r)},e.prototype.getTaggedAsync=function(e,t,n){return Me(this,void 0,void 0,(function(){var r;return Le(this,(function(i){return r=this._getNotAllArgs(e,!1,t,n),[2,this._get(r)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,i,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,i,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(r)},e.prototype.getAllTaggedAsync=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getAll(r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,i,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,i,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},e.prototype._preDestroy=function(e,t){if(Reflect.hasMetadata(g,e))return t[Reflect.getMetadata(g,e).value]()},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var n=this,r=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(ee(i))return this._handleDeactivationError(i.then((function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,r)})),r)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,r);if(ee(o))return this._handleDeactivationError(o,r)}catch(e){throw new Error(D(r.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return Me(this,void 0,void 0,(function(){var n;return Le(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),new Error(D(t.name,n.message));case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var n=this,r=t.next();r.value;){var i=r.value(e);if(ee(i))return i.then((function(){return n._deactivateContainerAsync(e,t)}));r=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return Me(this,void 0,void 0,(function(){var n;return Le(this,(function(r){switch(r.label){case 0:n=t.next(),r.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return r.sent(),n=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind(r);return t(i,n),i}},r=function(t){return function(n,r){e._moduleActivationStore.addActivation(t,n,r),e.onActivation(n,r)}},i=function(t){return function(n,r){e._moduleActivationStore.addDeactivation(t,n,r),e.onDeactivation(n,r)}};return function(o){return{bindFunction:(s=o,function(n){var r=e.bind(n);return t(r,s),r}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:r(o),onDeactivationFunction:i(o),rebindFunction:n(o),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var s}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=Ne(Ne({},e),{contextInterceptor:function(e){return e},targetType:b.Variable});if(this._middleware){var n=this._middleware(t);if(null==n)throw new Error("Invalid return type in middleware. Middleware must return!");return n}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(te(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,n,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:r}},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=function(e,t,n,r,i,o,s,a){void 0===a&&(a=!1);var u=new M(t),d=function(e,t,n,r,i,o){var s=new L(e?l:c,n),a=new W(t,"",n,s);if(void 0!==i){var u=new L(i,o);a.metadata.push(u)}return a}(n,r,i,0,o,s);try{return X(e,a,i,u,null,d),u}catch(e){throw x(e)&&O(u.plan.rootRequest),e}}(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return de(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(n=t.contextInterceptor(n))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return ee(e.cache)?e.cache.then((function(n){return t._deactivate(e,n)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(ee(this._deactivateIfSingleton(r)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return Me(this,void 0,void 0,(function(){var t=this;return Le(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return Me(this,void 0,void 0,(function(){return Le(this,(function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+R(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var r=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if(ee(i))return i.then((function(){return r._preDestroy(n,t)}))}return this._preDestroy(n,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return Me(this,void 0,void 0,(function(){return Le(this,(function(r){switch(r.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return r.sent(),[2]}}))}))},e}(),Ke=function(e){this.id=S(),this.registry=e},We=function(e){this.id=S(),this.registry=e};function Ve(e,t,n,r){!function(e){if(void 0!==e)throw new Error(E)}(t),He(u,e,n.toString(),r)}function He(e,t,n,r){var i=function(e){var t=[];if(Array.isArray(e)){var n=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var i=r[n];if(t.has(i))return i;t.add(i)}}((t=e).map((function(e){return e.key})));if(void 0!==n)throw new Error(_+" "+n.toString())}else t=[e];return t}(r),o={};Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var s=o[n];if(void 0===s)s=[];else for(var a=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(_+" "+e.key.toString())},c=0,l=s;c<l.length;c++)a(l[c]);s.push.apply(s,i),o[n]=s,Reflect.defineMetadata(e,o,t)}function Be(e){return function(t,n,r){"number"==typeof r?Ve(t,n,r,e):function(e,t,n){if(void 0!==e.prototype)throw new Error(E);He(d,e.constructor,t,n)}(t,n,e)}}function qe(e,t){Reflect.decorate(e,t)}function Je(e,t){return function(n,r){t(n,r,e)}}function $e(e,t,n){"number"==typeof n?qe([Je(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):qe([e],t)}function Ge(){return function(e){if(Reflect.hasOwnMetadata(p,e))throw new Error("Cannot apply @injectable decorator multiple times.");var t=Reflect.getMetadata(h,e)||[];return Reflect.defineMetadata(p,t,e),e}}function ze(e,t){return Be(new L(e,t))}function Ye(e){return Be(new L(i,e))}function Qe(e){return function(t){return function(n,r,i){if(void 0===t){var o="function"==typeof n?n.name:n.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+o+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.")}return Be(new L(e,t))(n,r,i)}}}var Xe=Qe(c);function Ze(){return Be(new L(a,!0))}function et(){return function(e,t,n){Ve(e,t,n,new L(s,!0))}}var tt=Qe(l);function nt(e){return function(t,n,r){Ve(t,n,r,new L(o,e))}}function rt(e,t){return function(){return function(n,r){var i=new L(e,r);if(Reflect.hasOwnMetadata(e,n.constructor))throw new Error(t);Reflect.defineMetadata(e,i,n.constructor)}}}var it,ot=rt(f,"Cannot apply @postConstruct decorator multiple times in the same class"),st=rt(g,"Cannot apply @preDestroy decorator multiple times in the same class");it||(it={});var at=r},99934:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTaggedDecorator=t.tagProperty=t.tagParameter=t.decorate=void 0;var s=o(n(16674)),a=o(n(6867)),c=n(72707);function l(e,t,n,r){!function(e){if(void 0!==e)throw new Error(s.INVALID_DECORATOR_OPERATION)}(t),d(a.TAGGED,e,n.toString(),r)}function u(e,t,n){if(void 0!==e.prototype)throw new Error(s.INVALID_DECORATOR_OPERATION);d(a.TAGGED_PROP,e.constructor,t,n)}function d(e,t,n,r){var i=function(e){var t=[];if(Array.isArray(e)){t=e;var n=(0,c.getFirstArrayDuplicate)(t.map((function(e){return e.key})));if(void 0!==n)throw new Error(s.DUPLICATED_METADATA+" "+n.toString())}else t=[e];return t}(r),o={};Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var a=o[n];if(void 0===a)a=[];else for(var l=function(e){if(i.some((function(t){return t.key===e.key})))throw new Error(s.DUPLICATED_METADATA+" "+e.key.toString())},u=0,d=a;u<d.length;u++)l(d[u]);a.push.apply(a,i),o[n]=a,Reflect.defineMetadata(e,o,t)}function p(e,t){Reflect.decorate(e,t)}function h(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=l,t.tagProperty=u,t.createTaggedDecorator=function(e){return function(t,n,r){"number"==typeof r?l(t,n,r,e):u(t,n,e)}},t.decorate=function(e,t,n){"number"==typeof n?p([h(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):p([e],t)}},5744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var s=o(n(6867)),a=(0,n(69568).injectBase)(s.INJECT_TAG);t.inject=a},69568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectBase=void 0;var r=n(16674),i=n(47738),o=n(99934);t.injectBase=function(e){return function(t){return function(n,s,a){if(void 0===t){var c="function"==typeof n?n.name:n.constructor.name;throw new Error((0,r.UNDEFINED_INJECT_ANNOTATION)(c))}return(0,o.createTaggedDecorator)(new i.Metadata(e,t))(n,s,a)}}}},64315:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var s=o(n(16674)),a=o(n(6867));t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(a.PARAM_TYPES,e))throw new Error(s.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(a.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(a.PARAM_TYPES,t,e),e}}},33695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyServiceIdentifer=void 0;var n=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=n},71693:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var s=o(n(6867)),a=(0,n(69568).injectBase)(s.MULTI_INJECT_TAG);t.multiInject=a},38085:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var s=o(n(6867)),a=n(47738),c=n(99934);t.named=function(e){return(0,c.createTaggedDecorator)(new a.Metadata(s.NAMED_TAG,e))}},6515:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var s=o(n(6867)),a=n(47738),c=n(99934);t.optional=function(){return(0,c.createTaggedDecorator)(new a.Metadata(s.OPTIONAL_TAG,!0))}},7014:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var s=o(n(16674)),a=o(n(6867)),c=(0,n(85197).propertyEventDecorator)(a.POST_CONSTRUCT,s.MULTIPLE_POST_CONSTRUCT_METHODS);t.postConstruct=c},8822:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var s=o(n(16674)),a=o(n(6867)),c=(0,n(85197).propertyEventDecorator)(a.PRE_DESTROY,s.MULTIPLE_PRE_DESTROY_METHODS);t.preDestroy=c},85197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propertyEventDecorator=void 0;var r=n(47738);t.propertyEventDecorator=function(e,t){return function(){return function(n,i){var o=new r.Metadata(e,i);if(Reflect.hasOwnMetadata(e,n.constructor))throw new Error(t);Reflect.defineMetadata(e,o,n.constructor)}}}},32052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(47738),i=n(99934);t.tagged=function(e,t){return(0,i.createTaggedDecorator)(new r.Metadata(e,t))}},55638:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var s=o(n(6867)),a=n(47738),c=n(99934);t.targetName=function(e){return function(t,n,r){var i=new a.Metadata(s.NAME_TAG,e);(0,c.tagParameter)(t,n,r,i)}}},86757:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var s=o(n(6867)),a=n(47738),c=n(99934);t.unmanaged=function(){return function(e,t,n){var r=new a.Metadata(s.UNMANAGED_TAG,!0);(0,c.tagParameter)(e,t,n,r)}}},44290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(28421),i=n(37791),o=function(){function e(e,t){this.id=(0,i.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}();t.Binding=o},23184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0,t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},16674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.ON_DEACTIVATION_ERROR=t.PRE_DESTROY_ERROR=t.POST_CONSTRUCT_ERROR=t.ASYNC_UNBIND_REQUIRED=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.MULTIPLE_PRE_DESTROY_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.LAZY_IN_SYNC=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.LAZY_IN_SYNC=function(e){return"You are attempting to construct '"+e+"' in a synchronous way\n but it has asynchronous dependencies."},t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)",t.POST_CONSTRUCT_ERROR=function(e,t){return"@postConstruct error in class "+e+": "+t},t.PRE_DESTROY_ERROR=function(e,t){return"@preDestroy error in class "+e+": "+t},t.ON_DEACTIVATION_ERROR=function(e,t){return"onDeactivation() error in class "+e+": "+t},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(e,t){return"It looks like there is a circular dependency in one of the '"+e+"' bindings. Please investigate bindings withservice identifier '"+t+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0,t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.PRE_DESTROY=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.PRE_DESTROY="pre_destroy",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},51389:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var u=n(44290),d=s(n(16674)),p=n(28421),h=s(n(6867)),f=n(51377),g=n(86311),m=n(31927),y=n(51860),v=n(87331),b=n(37791),w=n(55800),S=n(85700),C=n(80175),_=n(9229),k=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+d.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=p.BindingScopeEnum.Transient;else if(t.defaultScope!==p.BindingScopeEnum.Singleton&&t.defaultScope!==p.BindingScopeEnum.Transient&&t.defaultScope!==p.BindingScopeEnum.Request)throw new Error(""+d.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+d.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+d.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=(0,b.id)(),this._bindingDictionary=new C.Lookup,this._snapshots=[],this._middleware=null,this._activations=new C.Lookup,this._deactivations=new C.Lookup,this.parent=null,this._metadataReader=new f.MetadataReader,this._moduleActivationStore=new _.ModuleActivationStore}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,s=l([t,n],r,!0).map((function(e){return(0,g.getBindingDictionary)(e)})),a=(0,g.getBindingDictionary)(o);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,a)})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){var t,n,r,i,o;return c(this,(function(s){switch(s.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],o=t(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=e._removeModuleBindings(t.id);e._deactivateSingletons(n),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){switch(o.label){case 0:t=0,n=e,o.label=1;case 1:return t<n.length?(r=n[t],i=this._removeModuleBindings(r.id),[4,this._deactivateSingletonsAsync(i)]):[3,4];case 2:o.sent(),this._removeModuleHandlers(r.id),o.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||p.BindingScopeEnum.Transient,n=new u.Binding(e,t);return this._bindingDictionary.add(e,n),new y.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,n){e._deactivateSingletons(n)})),this._bindingDictionary=new C.Lookup},e.prototype.unbindAllAsync=function(){return a(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse((function(n,r){e.push(t._deactivateSingletonsAsync(r))})),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new C.Lookup,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,h.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=(0,g.createMockRequest)(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(S.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(d.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,n){var r=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(r)},e.prototype.getTaggedAsync=function(e,t,n){return a(this,void 0,void 0,(function(){var r;return c(this,(function(i){return r=this._getNotAllArgs(e,!1,t,n),[2,this._get(r)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,h.NAMED_TAG,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,h.NAMED_TAG,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(r)},e.prototype.getAllTaggedAsync=function(e,t,n){var r=this._getNotAllArgs(e,!0,t,n);return this._getAll(r)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,h.NAMED_TAG,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,h.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},e.prototype._preDestroy=function(e,t){if(Reflect.hasMetadata(h.PRE_DESTROY,e))return t[Reflect.getMetadata(h.PRE_DESTROY,e).value]()},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var n=this,r=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if((0,v.isPromise)(i))return this._handleDeactivationError(i.then((function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,r)})),r)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,r);if((0,v.isPromise)(o))return this._handleDeactivationError(o,r)}catch(e){throw new Error(d.ON_DEACTIVATION_ERROR(r.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return a(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),new Error(d.ON_DEACTIVATION_ERROR(t.name,n.message));case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var n=this,r=t.next();r.value;){var i=r.value(e);if((0,v.isPromise)(i))return i.then((function(){return n._deactivateContainerAsync(e,t)}));r=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return a(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:n=t.next(),r.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return r.sent(),n=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind(r);return t(i,n),i}},r=function(t){return function(n,r){e._moduleActivationStore.addActivation(t,n,r),e.onActivation(n,r)}},i=function(t){return function(n,r){e._moduleActivationStore.addDeactivation(t,n,r),e.onDeactivation(n,r)}};return function(o){return{bindFunction:(s=o,function(n){var r=e.bind(n);return t(r,s),r}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:r(o),onDeactivationFunction:i(o),rebindFunction:n(o),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var s}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=r(r({},e),{contextInterceptor:function(e){return e},targetType:p.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(t);if(null==n)throw new Error(d.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if((0,v.isPromiseOrContainsPromise)(t))throw new Error(d.LAZY_IN_SYNC(e.serviceIdentifier));return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,n,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:r}},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=(0,g.plan)(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),(0,m.resolve)(n)}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return(0,v.isPromise)(e.cache)?e.cache.then((function(n){return t._deactivate(e,n)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=this._deactivateIfSingleton(r);if((0,v.isPromise)(i))throw new Error(d.ASYNC_UNBIND_REQUIRED)}},e.prototype._deactivateSingletonsAsync=function(e){return a(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return a(this,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(d.CANNOT_UNBIND+" "+(0,w.getServiceIdentifierAsString)(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var r=this;if("function"==typeof e.onDeactivation){var i=e.onDeactivation(t);if((0,v.isPromise)(i))return i.then((function(){return r._preDestroy(n,t)}))}return this._preDestroy(n,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return a(this,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return r.sent(),[2]}}))}))},e}();t.Container=k},33244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(37791);t.ContainerModule=function(e){this.id=(0,r.id)(),this.registry=e};t.AsyncContainerModule=function(e){this.id=(0,r.id)(),this.registry=e}},85700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n,r,i,o){var s=new e;return s.bindings=t,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},e}();t.ContainerSnapshot=n},80175:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var s=o(n(16674)),a=n(14192),c=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(s.NULL_ARGUMENT);if(null==t)throw new Error(s.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?n.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(s.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(s.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(s.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(s.KEY_NOT_FOUND)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(n,r){var i=e.hasKey(n)?e.get(n):void 0;if(void 0!==i){var o=r.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(n,o)}}))},e.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach((function(r,i){for(var o=[],s=0,a=r;s<a.length;s++){var c=a[s];e(c)?n.push(c):o.push(c)}t._setValue(i,o)})),n},e.prototype.hasKey=function(e){if(null==e)throw new Error(s.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,(0,a.isClonable)(e)?e.clone():e)}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}();t.Lookup=c},9229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleActivationStore=void 0;var r=n(80175),i=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},e.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){t._map.set(n,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new r.Lookup,onDeactivations:new r.Lookup}},e}();t.ModuleActivationStore=i},87405:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.interfaces=void 0,n||(n={}),t.interfaces=n},86700:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.interfaces=t.id=t.MetadataReader=t.preDestroy=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.createTaggedDecorator=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var s=o(n(6867));t.METADATA_KEY=s;var a=n(51389);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return a.Container}});var c=n(28421);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return c.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return c.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return c.TargetTypeEnum}});var l=n(33244);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return l.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return l.ContainerModule}});var u=n(99934);Object.defineProperty(t,"createTaggedDecorator",{enumerable:!0,get:function(){return u.createTaggedDecorator}});var d=n(64315);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return d.injectable}});var p=n(32052);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return p.tagged}});var h=n(38085);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return h.named}});var f=n(5744);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return f.inject}});var g=n(33695);Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return g.LazyServiceIdentifer}});var m=n(6515);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return m.optional}});var y=n(86757);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return y.unmanaged}});var v=n(71693);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return v.multiInject}});var b=n(55638);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return b.targetName}});var w=n(7014);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return w.postConstruct}});var S=n(8822);Object.defineProperty(t,"preDestroy",{enumerable:!0,get:function(){return S.preDestroy}});var C=n(51377);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return C.MetadataReader}});var _=n(37791);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return _.id}});var k=n(87405);Object.defineProperty(t,"interfaces",{enumerable:!0,get:function(){return k.interfaces}});var P=n(99934);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return P.decorate}});var I=n(80758);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return I.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return I.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return I.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return I.typeConstraint}});var E=n(55800);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return E.getServiceIdentifierAsString}});var D=n(70600);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return D.multiBindToService}})},95228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(37791),i=function(){function e(e){this.id=(0,r.id)(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},47738:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var s=o(n(6867)),a=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===s.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}();t.Metadata=a},51377:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var s=o(n(6867)),a=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(s.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(s.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(s.TAGGED_PROP,e)||[]},e}();t.MetadataReader=a},55314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;t.Plan=function(e,t){this.parentContext=e,this.rootRequest=t}},86311:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var s=n(23184),a=o(n(16674)),c=n(28421),l=o(n(6867)),u=n(85265),d=n(55800),p=n(95228),h=n(47738),f=n(55314),g=n(6e3),m=n(6748),y=n(18924);function v(e){return e._bindingDictionary}function b(e,t,n,r,i){var o,c=S(n.container,i.serviceIdentifier);return c.length===s.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),c=S(n.container,i.serviceIdentifier)),o=t?c:c.filter((function(e){var t=new m.Request(e.serviceIdentifier,n,r,e,i);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case s.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var i=(0,d.getServiceIdentifierAsString)(e),o=a.NOT_REGISTERED;throw o+=(0,d.listMetadataForTarget)(i,n),o+=(0,d.listRegisteredBindingsForServiceIdentifier)(r,i,S),new Error(o);case s.BindingCount.OnlyOneBindingAvailable:return t;case s.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;throw i=(0,d.getServiceIdentifierAsString)(e),o=a.AMBIGUOUS_MATCH+" "+i,o+=(0,d.listRegisteredBindingsForServiceIdentifier)(r,i,S),new Error(o)}}(i.serviceIdentifier,o,i,n.container),o}function w(e,t,n,r,i,o){var s,l;if(null===i){s=b(e,t,r,null,o),l=new m.Request(n,r,null,s,o);var u=new f.Plan(r,l);r.addPlan(u)}else s=b(e,t,r,i,o),l=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach((function(t){var n=null;if(o.isArray())n=l.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;n=l}if(t.type===c.BindingTypeEnum.Instance&&null!==t.implementationType){var i=(0,g.getDependencies)(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var s=(0,g.getBaseClassDependencyCount)(e,t.implementationType);if(i.length<s){var u=a.ARGUMENTS_LENGTH_MISMATCH((0,g.getFunctionName)(t.implementationType));throw new Error(u)}}i.forEach((function(t){w(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function S(e,t){var n=[],r=v(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=S(e.parent,t)),n}t.getBindingDictionary=v,t.plan=function(e,t,n,r,i,o,s,a){void 0===a&&(a=!1);var c=new p.Context(t),f=function(e,t,n,r,i,o){var s=e?l.MULTI_INJECT_TAG:l.INJECT_TAG,a=new h.Metadata(s,n),c=new y.Target(t,"",n,a);if(void 0!==i){var u=new h.Metadata(i,o);c.metadata.push(u)}return c}(n,r,i,0,o,s);try{return w(e,a,i,c,null,f),c}catch(e){throw(0,u.isStackOverflowExeption)(e)&&(0,d.circularDependencyToException)(c.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new y.Target(c.TargetTypeEnum.Variable,"",t,new h.Metadata(n,r)),o=new p.Context(e);return new m.Request(t,o,null,[],i)}},88460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},6e3:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var a=n(33695),c=o(n(16674)),l=n(28421),u=o(n(6867)),d=n(55800);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return d.getFunctionName}});var p=n(18924);function h(e,t,n,r){var i=e.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(void 0===o){var a=c.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(a)}var l=i.userGeneratedMetadata,u=Object.keys(l),d=0===n.length&&u.length>0,p=u.length>n.length,h=function(e,t,n,r,i){for(var o=[],s=0;s<i;s++){var a=f(s,e,t,n,r);null!==a&&o.push(a)}return o}(r,t,o,l,d||p?u.length:n.length),g=m(e,n,t);return s(s([],h,!0),g,!0)}function f(e,t,n,r,i){var o=i[e.toString()]||[],s=y(o),u=!0!==s.unmanaged,d=r[e];if((d=s.inject||s.multiInject||d)instanceof a.LazyServiceIdentifer&&(d=d.unwrap()),u){if(!t&&(d===Object||d===Function||void 0===d)){var h=c.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(h)}var f=new p.Target(l.TargetTypeEnum.ConstructorArgument,s.targetName,d);return f.metadata=o,f}return null}function g(e,t,n,r){var i=e||t;if(void 0===i){var o=c.MISSING_INJECTABLE_ANNOTATION+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function m(e,t,n){for(var r=e.getPropertiesMetadata(t),i=[],o=Object.getOwnPropertySymbols(r),a=0,c=Object.keys(r).concat(o);a<c.length;a++){var u=c[a],d=r[u],h=y(d),f=h.targetName||u,v=g(h.inject,h.multiInject,u,n),b=new p.Target(l.TargetTypeEnum.ClassProperty,f,v);b.metadata=d,i.push(b)}var w=Object.getPrototypeOf(t.prototype).constructor;if(w!==Object){var S=m(e,w,n);i=s(s([],i,!0),S,!0)}return i}function y(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[u.INJECT_TAG],multiInject:t[u.MULTI_INJECT_TAG],targetName:t[u.NAME_TAG],unmanaged:t[u.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return h(e,(0,d.getFunctionName)(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=h(t,(0,d.getFunctionName)(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===u.UNMANAGED_TAG}))})),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:e(t,r)}return 0}},6748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(37791),i=function(){function e(e,t,n,i,o){this.id=(0,r.id)(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},18924:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var s=o(n(6867)),a=n(37791),c=n(55800),l=n(47738),u=n(88460),d=function(){function e(e,t,n,r){this.id=(0,a.id)(),this.type=e,this.serviceIdentifier=n;var i="symbol"==typeof t?(0,c.getSymbolDescription)(t):t;this.name=new u.QueryableString(i||""),this.identifier=t,this.metadata=new Array;var o=null;"string"==typeof r?o=new l.Metadata(s.NAMED_TAG,r):r instanceof l.Metadata&&(o=r),null!==o&&this.metadata.push(o)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(s.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(s.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(s.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return s.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(s.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===s.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return s.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(s.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=d},52279:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var u=n(16674),d=n(28421),p=s(n(6867)),h=n(87331);function f(e){var t,n=new((t=e.constr).bind.apply(t,l([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,r){var i=t.target.identifier,o=e.propertyInjections[r];n[i]=o})),n}function g(e){return a(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){for(t=[],n=0,r=e;n<r.length;n++)i=r[n],Array.isArray(i)?t.push(Promise.all(i)):t.push(i);return[2,Promise.all(t)]}))}))}function m(e,t){var n=function(e,t){var n,r;if(Reflect.hasMetadata(p.POST_CONSTRUCT,e)){var i=Reflect.getMetadata(p.POST_CONSTRUCT,e);try{return null===(r=(n=t)[i.value])||void 0===r?void 0:r.call(n)}catch(t){throw new Error((0,u.POST_CONSTRUCT_ERROR)(e.name,t.message))}}}(e,t);return(0,h.isPromise)(n)?n.then((function(){return t})):t}t.resolveInstance=function(e,t,n,i){!function(e,t){e.scope!==d.BindingScopeEnum.Singleton&&function(e,t){var n="Class cannot be instantiated in "+(e.scope===d.BindingScopeEnum.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error((0,u.ON_DEACTIVATION_ERROR)(t.name,n));if(Reflect.hasMetadata(p.PRE_DESTROY,t))throw new Error((0,u.PRE_DESTROY_ERROR)(t.name,n))}(e,t)}(e,t);var o=function(e,t,n){var i;if(t.length>0){var o=function(e,t){return e.reduce((function(e,n){var r=t(n);return n.target.type===d.TargetTypeEnum.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(n),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=(0,h.isPromiseOrContainsPromise)(r)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,n),s=r(r({},o),{constr:e});i=o.isAsync?function(e){return a(this,void 0,void 0,(function(){var t,n;return c(this,(function(i){switch(i.label){case 0:return[4,g(e.constructorInjections)];case 1:return t=i.sent(),[4,g(e.propertyInjections)];case 2:return n=i.sent(),[2,f(r(r({},e),{constructorInjections:t,propertyInjections:n}))]}}))}))}(s):f(s)}else i=new e;return i}(t,n,i);return(0,h.isPromise)(o)?o.then((function(e){return m(t,e)})):m(t,o)}},31927:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var c=o(n(16674)),l=n(28421),u=n(86311),d=n(73380),p=n(87331),h=n(70600),f=n(85265),g=n(52279),m=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&o)return r.map((function(t){return m(e)(t)}));if(!t.target.isOptional()||0!==n.length){var s=n[0];return y(e,t,s)}}},y=function(e,t,n){return function(e,t,n){var r=(0,d.tryGetFromScope)(e,t);return null!==r||(r=n(),(0,d.saveToScope)(e,t,r)),r}(e,n,(function(){var r=function(e,t,n){var r,i=t.childRequests;switch((0,h.ensureFullyBound)(n),n.type){case l.BindingTypeEnum.ConstantValue:case l.BindingTypeEnum.Function:r=n.cache;break;case l.BindingTypeEnum.Constructor:r=n.implementationType;break;case l.BindingTypeEnum.Instance:r=(0,g.resolveInstance)(n,n.implementationType,i,m(e));break;default:r=function(e,t){var n=(0,h.getFactoryDetails)(e);return(0,f.tryAndThrowErrorIfStackOverflow)((function(){return n.factory.bind(e)(t)}),(function(){return new Error(c.CIRCULAR_DEPENDENCY_IN_FACTORY(n.factoryType,t.currentRequest.serviceIdentifier.toString()))}))}(n,t.parentContext)}return r}(e,t,n);return(0,p.isPromise)(r)?r.then((function(e){return v(t,n,e)})):v(t,n,r)}))};function v(e,t,n){var r,i=b(e.parentContext,t,n),o=_(e.parentContext.container),s=o.next();do{r=s.value;var a=e.parentContext,c=e.serviceIdentifier,l=C(r,c);i=(0,p.isPromise)(i)?S(l,a,i):w(l,a,i),s=o.next()}while(!0!==s.done&&!(0,u.getBindingDictionary)(r).hasKey(e.serviceIdentifier));return i}var b=function(e,t,n){return"function"==typeof t.onActivation?t.onActivation(e,n):n},w=function(e,t,n){for(var r=e.next();!r.done;){if(n=r.value(t,n),(0,p.isPromise)(n))return S(e,t,n);r=e.next()}return n},S=function(e,t,n){return s(void 0,void 0,void 0,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=e.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(t,r)];case 3:return r=o.sent(),i=e.next(),[3,2];case 4:return[2,r]}}))}))},C=function(e,t){var n=e._activations;return n.hasKey(t)?n.get(t).values():[].values()},_=function(e){for(var t=[e],n=e.parent;null!==n;)t.push(n),n=n.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}};t.resolve=function(e){return m(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},73380:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveToScope=t.tryGetFromScope=void 0;var o=n(86700),s=n(87331);t.tryGetFromScope=function(e,t){return t.scope===o.BindingScopeEnum.Singleton&&t.activated?t.cache:t.scope===o.BindingScopeEnum.Request&&e.has(t.id)?e.get(t.id):null},t.saveToScope=function(e,t,n){t.scope===o.BindingScopeEnum.Singleton&&c(t,n),t.scope===o.BindingScopeEnum.Request&&a(e,t,n)};var a=function(e,t,n){e.has(t.id)||e.set(t.id,n)},c=function(e,t){e.cache=t,e.activated=!0,(0,s.isPromise)(t)&&l(e,t)},l=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return n=i.sent(),e.cache=n,[3,3];case 2:throw r=i.sent(),e.cache=null,e.activated=!1,r;case 3:return[2]}}))}))}},83366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(28421),i=n(71325),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},99812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(83366),i=n(51811),o=n(98370),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.wh